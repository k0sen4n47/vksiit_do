import"./vendor-7b5b6878.js";function ok(x,S){return function(){return x.apply(S,arguments)}}const{toString:Kq}=Object.prototype,{getPrototypeOf:jv}=Object,{iterator:Fp,toStringTag:sk}=Symbol,Ip=(x=>S=>{const D=Kq.call(S);return x[D]||(x[D]=D.slice(8,-1).toLowerCase())})(Object.create(null)),ei=x=>(x=x.toLowerCase(),S=>Ip(S)===x),$p=x=>S=>typeof S===x,{isArray:im}=Array,Bh=$p("undefined");function Yq(x){return x!==null&&!Bh(x)&&x.constructor!==null&&!Bh(x.constructor)&&La(x.constructor.isBuffer)&&x.constructor.isBuffer(x)}const rk=ei("ArrayBuffer");function Xq(x){let S;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?S=ArrayBuffer.isView(x):S=x&&x.buffer&&rk(x.buffer),S}const Jq=$p("string"),La=$p("function"),ak=$p("number"),Hp=x=>x!==null&&typeof x=="object",Qq=x=>x===!0||x===!1,kp=x=>{if(Ip(x)!=="object")return!1;const S=jv(x);return(S===null||S===Object.prototype||Object.getPrototypeOf(S)===null)&&!(sk in x)&&!(Fp in x)},eK=ei("Date"),tK=ei("File"),nK=ei("Blob"),oK=ei("FileList"),sK=x=>Hp(x)&&La(x.pipe),rK=x=>{let S;return x&&(typeof FormData=="function"&&x instanceof FormData||La(x.append)&&((S=Ip(x))==="formdata"||S==="object"&&La(x.toString)&&x.toString()==="[object FormData]"))},aK=ei("URLSearchParams"),[cK,iK,lK,uK]=["ReadableStream","Request","Response","Headers"].map(ei),dK=x=>x.trim?x.trim():x.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Nh(x,S,{allOwnKeys:D=!1}={}){if(x===null||typeof x>"u")return;let F,U;if(typeof x!="object"&&(x=[x]),im(x))for(F=0,U=x.length;F<U;F++)S.call(null,x[F],F,x);else{const K=D?Object.getOwnPropertyNames(x):Object.keys(x),J=K.length;let X;for(F=0;F<J;F++)X=K[F],S.call(null,x[X],X,x)}}function ck(x,S){S=S.toLowerCase();const D=Object.keys(x);let F=D.length,U;for(;F-- >0;)if(U=D[F],S===U.toLowerCase())return U;return null}const Yu=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),ik=x=>!Bh(x)&&x!==Yu;function Nv(){const{caseless:x}=ik(this)&&this||{},S={},D=(F,U)=>{const K=x&&ck(S,U)||U;kp(S[K])&&kp(F)?S[K]=Nv(S[K],F):kp(F)?S[K]=Nv({},F):im(F)?S[K]=F.slice():S[K]=F};for(let F=0,U=arguments.length;F<U;F++)arguments[F]&&Nh(arguments[F],D);return S}const mK=(x,S,D,{allOwnKeys:F}={})=>(Nh(S,(U,K)=>{D&&La(U)?x[K]=ok(U,D):x[K]=U},{allOwnKeys:F}),x),hK=x=>(x.charCodeAt(0)===65279&&(x=x.slice(1)),x),gK=(x,S,D,F)=>{x.prototype=Object.create(S.prototype,F),x.prototype.constructor=x,Object.defineProperty(x,"super",{value:S.prototype}),D&&Object.assign(x.prototype,D)},pK=(x,S,D,F)=>{let U,K,J;const X={};if(S=S||{},x==null)return S;do{for(U=Object.getOwnPropertyNames(x),K=U.length;K-- >0;)J=U[K],(!F||F(J,x,S))&&!X[J]&&(S[J]=x[J],X[J]=!0);x=D!==!1&&jv(x)}while(x&&(!D||D(x,S))&&x!==Object.prototype);return S},fK=(x,S,D)=>{x=String(x),(D===void 0||D>x.length)&&(D=x.length),D-=S.length;const F=x.indexOf(S,D);return F!==-1&&F===D},bK=x=>{if(!x)return null;if(im(x))return x;let S=x.length;if(!ak(S))return null;const D=new Array(S);for(;S-- >0;)D[S]=x[S];return D},vK=(x=>S=>x&&S instanceof x)(typeof Uint8Array<"u"&&jv(Uint8Array)),yK=(x,S)=>{const F=(x&&x[Fp]).call(x);let U;for(;(U=F.next())&&!U.done;){const K=U.value;S.call(x,K[0],K[1])}},xK=(x,S)=>{let D;const F=[];for(;(D=x.exec(S))!==null;)F.push(D);return F},wK=ei("HTMLFormElement"),SK=x=>x.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(D,F,U){return F.toUpperCase()+U}),U8=(({hasOwnProperty:x})=>(S,D)=>x.call(S,D))(Object.prototype),CK=ei("RegExp"),lk=(x,S)=>{const D=Object.getOwnPropertyDescriptors(x),F={};Nh(D,(U,K)=>{let J;(J=S(U,K,x))!==!1&&(F[K]=J||U)}),Object.defineProperties(x,F)},TK=x=>{lk(x,(S,D)=>{if(La(x)&&["arguments","caller","callee"].indexOf(D)!==-1)return!1;const F=x[D];if(La(F)){if(S.enumerable=!1,"writable"in S){S.writable=!1;return}S.set||(S.set=()=>{throw Error("Can not rewrite read-only method '"+D+"'")})}})},kK=(x,S)=>{const D={},F=U=>{U.forEach(K=>{D[K]=!0})};return im(x)?F(x):F(String(x).split(S)),D},OK=()=>{},AK=(x,S)=>x!=null&&Number.isFinite(x=+x)?x:S;function EK(x){return!!(x&&La(x.append)&&x[sk]==="FormData"&&x[Fp])}const MK=x=>{const S=new Array(10),D=(F,U)=>{if(Hp(F)){if(S.indexOf(F)>=0)return;if(!("toJSON"in F)){S[U]=F;const K=im(F)?[]:{};return Nh(F,(J,X)=>{const De=D(J,U+1);!Bh(De)&&(K[X]=De)}),S[U]=void 0,K}}return F};return D(x,0)},_K=ei("AsyncFunction"),DK=x=>x&&(Hp(x)||La(x))&&La(x.then)&&La(x.catch),uk=((x,S)=>x?setImmediate:S?((D,F)=>(Yu.addEventListener("message",({source:U,data:K})=>{U===Yu&&K===D&&F.length&&F.shift()()},!1),U=>{F.push(U),Yu.postMessage(D,"*")}))(`axios@${Math.random()}`,[]):D=>setTimeout(D))(typeof setImmediate=="function",La(Yu.postMessage)),FK=typeof queueMicrotask<"u"?queueMicrotask.bind(Yu):typeof process<"u"&&process.nextTick||uk,IK=x=>x!=null&&La(x[Fp]),Ie={isArray:im,isArrayBuffer:rk,isBuffer:Yq,isFormData:rK,isArrayBufferView:Xq,isString:Jq,isNumber:ak,isBoolean:Qq,isObject:Hp,isPlainObject:kp,isReadableStream:cK,isRequest:iK,isResponse:lK,isHeaders:uK,isUndefined:Bh,isDate:eK,isFile:tK,isBlob:nK,isRegExp:CK,isFunction:La,isStream:sK,isURLSearchParams:aK,isTypedArray:vK,isFileList:oK,forEach:Nh,merge:Nv,extend:mK,trim:dK,stripBOM:hK,inherits:gK,toFlatObject:pK,kindOf:Ip,kindOfTest:ei,endsWith:fK,toArray:bK,forEachEntry:yK,matchAll:xK,isHTMLForm:wK,hasOwnProperty:U8,hasOwnProp:U8,reduceDescriptors:lk,freezeMethods:TK,toObjectSet:kK,toCamelCase:SK,noop:OK,toFiniteNumber:AK,findKey:ck,global:Yu,isContextDefined:ik,isSpecCompliantForm:EK,toJSONObject:MK,isAsyncFn:_K,isThenable:DK,setImmediate:uk,asap:FK,isIterable:IK};function Xn(x,S,D,F,U){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=x,this.name="AxiosError",S&&(this.code=S),D&&(this.config=D),F&&(this.request=F),U&&(this.response=U,this.status=U.status?U.status:null)}Ie.inherits(Xn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ie.toJSONObject(this.config),code:this.code,status:this.status}}});const dk=Xn.prototype,mk={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(x=>{mk[x]={value:x}});Object.defineProperties(Xn,mk);Object.defineProperty(dk,"isAxiosError",{value:!0});Xn.from=(x,S,D,F,U,K)=>{const J=Object.create(dk);return Ie.toFlatObject(x,J,function(De){return De!==Error.prototype},X=>X!=="isAxiosError"),Xn.call(J,x.message,S,D,F,U),J.cause=x,J.name=x.name,K&&Object.assign(J,K),J};const $K=null;function Vv(x){return Ie.isPlainObject(x)||Ie.isArray(x)}function hk(x){return Ie.endsWith(x,"[]")?x.slice(0,-2):x}function W8(x,S,D){return x?x.concat(S).map(function(U,K){return U=hk(U),!D&&K?"["+U+"]":U}).join(D?".":""):S}function HK(x){return Ie.isArray(x)&&!x.some(Vv)}const RK=Ie.toFlatObject(Ie,{},null,function(S){return/^is[A-Z]/.test(S)});function Rp(x,S,D){if(!Ie.isObject(x))throw new TypeError("target must be an object");S=S||new FormData,D=Ie.toFlatObject(D,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Xe,Se){return!Ie.isUndefined(Se[Xe])});const F=D.metaTokens,U=D.visitor||$e,K=D.dots,J=D.indexes,De=(D.Blob||typeof Blob<"u"&&Blob)&&Ie.isSpecCompliantForm(S);if(!Ie.isFunction(U))throw new TypeError("visitor must be a function");function xe(Je){if(Je===null)return"";if(Ie.isDate(Je))return Je.toISOString();if(!De&&Ie.isBlob(Je))throw new Xn("Blob is not supported. Use a Buffer instead.");return Ie.isArrayBuffer(Je)||Ie.isTypedArray(Je)?De&&typeof Blob=="function"?new Blob([Je]):Buffer.from(Je):Je}function $e(Je,Xe,Se){let Rt=Je;if(Je&&!Se&&typeof Je=="object"){if(Ie.endsWith(Xe,"{}"))Xe=F?Xe:Xe.slice(0,-2),Je=JSON.stringify(Je);else if(Ie.isArray(Je)&&HK(Je)||(Ie.isFileList(Je)||Ie.endsWith(Xe,"[]"))&&(Rt=Ie.toArray(Je)))return Xe=hk(Xe),Rt.forEach(function(ce,nt){!(Ie.isUndefined(ce)||ce===null)&&S.append(J===!0?W8([Xe],nt,K):J===null?Xe:Xe+"[]",xe(ce))}),!1}return Vv(Je)?!0:(S.append(W8(Se,Xe,K),xe(Je)),!1)}const Ue=[],Re=Object.assign(RK,{defaultVisitor:$e,convertValue:xe,isVisitable:Vv});function Qe(Je,Xe){if(!Ie.isUndefined(Je)){if(Ue.indexOf(Je)!==-1)throw Error("Circular reference detected in "+Xe.join("."));Ue.push(Je),Ie.forEach(Je,function(Rt,Oe){(!(Ie.isUndefined(Rt)||Rt===null)&&U.call(S,Rt,Ie.isString(Oe)?Oe.trim():Oe,Xe,Re))===!0&&Qe(Rt,Xe?Xe.concat(Oe):[Oe])}),Ue.pop()}}if(!Ie.isObject(x))throw new TypeError("data must be an object");return Qe(x),S}function j8(x){const S={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(x).replace(/[!'()~]|%20|%00/g,function(F){return S[F]})}function Gv(x,S){this._pairs=[],x&&Rp(x,this,S)}const gk=Gv.prototype;gk.append=function(S,D){this._pairs.push([S,D])};gk.toString=function(S){const D=S?function(F){return S.call(this,F,j8)}:j8;return this._pairs.map(function(U){return D(U[0])+"="+D(U[1])},"").join("&")};function LK(x){return encodeURIComponent(x).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function pk(x,S,D){if(!S)return x;const F=D&&D.encode||LK;Ie.isFunction(D)&&(D={serialize:D});const U=D&&D.serialize;let K;if(U?K=U(S,D):K=Ie.isURLSearchParams(S)?S.toString():new Gv(S,D).toString(F),K){const J=x.indexOf("#");J!==-1&&(x=x.slice(0,J)),x+=(x.indexOf("?")===-1?"?":"&")+K}return x}class PK{constructor(){this.handlers=[]}use(S,D,F){return this.handlers.push({fulfilled:S,rejected:D,synchronous:F?F.synchronous:!1,runWhen:F?F.runWhen:null}),this.handlers.length-1}eject(S){this.handlers[S]&&(this.handlers[S]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(S){Ie.forEach(this.handlers,function(F){F!==null&&S(F)})}}const G8=PK,fk={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},BK=typeof URLSearchParams<"u"?URLSearchParams:Gv,NK=typeof FormData<"u"?FormData:null,VK=typeof Blob<"u"?Blob:null,zK={isBrowser:!0,classes:{URLSearchParams:BK,FormData:NK,Blob:VK},protocols:["http","https","file","blob","url","data"]},qv=typeof window<"u"&&typeof document<"u",zv=typeof navigator=="object"&&navigator||void 0,ZK=qv&&(!zv||["ReactNative","NativeScript","NS"].indexOf(zv.product)<0),UK=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),WK=qv&&window.location.href||"http://localhost",jK=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:qv,hasStandardBrowserEnv:ZK,hasStandardBrowserWebWorkerEnv:UK,navigator:zv,origin:WK},Symbol.toStringTag,{value:"Module"})),ea={...jK,...zK};function GK(x,S){return Rp(x,new ea.classes.URLSearchParams,Object.assign({visitor:function(D,F,U,K){return ea.isNode&&Ie.isBuffer(D)?(this.append(F,D.toString("base64")),!1):K.defaultVisitor.apply(this,arguments)}},S))}function qK(x){return Ie.matchAll(/\w+|\[(\w*)]/g,x).map(S=>S[0]==="[]"?"":S[1]||S[0])}function KK(x){const S={},D=Object.keys(x);let F;const U=D.length;let K;for(F=0;F<U;F++)K=D[F],S[K]=x[K];return S}function bk(x){function S(D,F,U,K){let J=D[K++];if(J==="__proto__")return!0;const X=Number.isFinite(+J),De=K>=D.length;return J=!J&&Ie.isArray(U)?U.length:J,De?(Ie.hasOwnProp(U,J)?U[J]=[U[J],F]:U[J]=F,!X):((!U[J]||!Ie.isObject(U[J]))&&(U[J]=[]),S(D,F,U[J],K)&&Ie.isArray(U[J])&&(U[J]=KK(U[J])),!X)}if(Ie.isFormData(x)&&Ie.isFunction(x.entries)){const D={};return Ie.forEachEntry(x,(F,U)=>{S(qK(F),U,D,0)}),D}return null}function YK(x,S,D){if(Ie.isString(x))try{return(S||JSON.parse)(x),Ie.trim(x)}catch(F){if(F.name!=="SyntaxError")throw F}return(D||JSON.stringify)(x)}const Kv={transitional:fk,adapter:["xhr","http","fetch"],transformRequest:[function(S,D){const F=D.getContentType()||"",U=F.indexOf("application/json")>-1,K=Ie.isObject(S);if(K&&Ie.isHTMLForm(S)&&(S=new FormData(S)),Ie.isFormData(S))return U?JSON.stringify(bk(S)):S;if(Ie.isArrayBuffer(S)||Ie.isBuffer(S)||Ie.isStream(S)||Ie.isFile(S)||Ie.isBlob(S)||Ie.isReadableStream(S))return S;if(Ie.isArrayBufferView(S))return S.buffer;if(Ie.isURLSearchParams(S))return D.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),S.toString();let X;if(K){if(F.indexOf("application/x-www-form-urlencoded")>-1)return GK(S,this.formSerializer).toString();if((X=Ie.isFileList(S))||F.indexOf("multipart/form-data")>-1){const De=this.env&&this.env.FormData;return Rp(X?{"files[]":S}:S,De&&new De,this.formSerializer)}}return K||U?(D.setContentType("application/json",!1),YK(S)):S}],transformResponse:[function(S){const D=this.transitional||Kv.transitional,F=D&&D.forcedJSONParsing,U=this.responseType==="json";if(Ie.isResponse(S)||Ie.isReadableStream(S))return S;if(S&&Ie.isString(S)&&(F&&!this.responseType||U)){const J=!(D&&D.silentJSONParsing)&&U;try{return JSON.parse(S)}catch(X){if(J)throw X.name==="SyntaxError"?Xn.from(X,Xn.ERR_BAD_RESPONSE,this,null,this.response):X}}return S}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ea.classes.FormData,Blob:ea.classes.Blob},validateStatus:function(S){return S>=200&&S<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ie.forEach(["delete","get","head","post","put","patch"],x=>{Kv.headers[x]={}});const Yv=Kv,XK=Ie.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),JK=x=>{const S={};let D,F,U;return x&&x.split(`
`).forEach(function(J){U=J.indexOf(":"),D=J.substring(0,U).trim().toLowerCase(),F=J.substring(U+1).trim(),!(!D||S[D]&&XK[D])&&(D==="set-cookie"?S[D]?S[D].push(F):S[D]=[F]:S[D]=S[D]?S[D]+", "+F:F)}),S},q8=Symbol("internals");function Ph(x){return x&&String(x).trim().toLowerCase()}function Op(x){return x===!1||x==null?x:Ie.isArray(x)?x.map(Op):String(x)}function QK(x){const S=Object.create(null),D=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let F;for(;F=D.exec(x);)S[F[1]]=F[2];return S}const eY=x=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(x.trim());function Lv(x,S,D,F,U){if(Ie.isFunction(F))return F.call(this,S,D);if(U&&(S=D),!!Ie.isString(S)){if(Ie.isString(F))return S.indexOf(F)!==-1;if(Ie.isRegExp(F))return F.test(S)}}function tY(x){return x.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(S,D,F)=>D.toUpperCase()+F)}function nY(x,S){const D=Ie.toCamelCase(" "+S);["get","set","has"].forEach(F=>{Object.defineProperty(x,F+D,{value:function(U,K,J){return this[F].call(this,S,U,K,J)},configurable:!0})})}class Lp{constructor(S){S&&this.set(S)}set(S,D,F){const U=this;function K(X,De,xe){const $e=Ph(De);if(!$e)throw new Error("header name must be a non-empty string");const Ue=Ie.findKey(U,$e);(!Ue||U[Ue]===void 0||xe===!0||xe===void 0&&U[Ue]!==!1)&&(U[Ue||De]=Op(X))}const J=(X,De)=>Ie.forEach(X,(xe,$e)=>K(xe,$e,De));if(Ie.isPlainObject(S)||S instanceof this.constructor)J(S,D);else if(Ie.isString(S)&&(S=S.trim())&&!eY(S))J(JK(S),D);else if(Ie.isObject(S)&&Ie.isIterable(S)){let X={},De,xe;for(const $e of S){if(!Ie.isArray($e))throw TypeError("Object iterator must return a key-value pair");X[xe=$e[0]]=(De=X[xe])?Ie.isArray(De)?[...De,$e[1]]:[De,$e[1]]:$e[1]}J(X,D)}else S!=null&&K(D,S,F);return this}get(S,D){if(S=Ph(S),S){const F=Ie.findKey(this,S);if(F){const U=this[F];if(!D)return U;if(D===!0)return QK(U);if(Ie.isFunction(D))return D.call(this,U,F);if(Ie.isRegExp(D))return D.exec(U);throw new TypeError("parser must be boolean|regexp|function")}}}has(S,D){if(S=Ph(S),S){const F=Ie.findKey(this,S);return!!(F&&this[F]!==void 0&&(!D||Lv(this,this[F],F,D)))}return!1}delete(S,D){const F=this;let U=!1;function K(J){if(J=Ph(J),J){const X=Ie.findKey(F,J);X&&(!D||Lv(F,F[X],X,D))&&(delete F[X],U=!0)}}return Ie.isArray(S)?S.forEach(K):K(S),U}clear(S){const D=Object.keys(this);let F=D.length,U=!1;for(;F--;){const K=D[F];(!S||Lv(this,this[K],K,S,!0))&&(delete this[K],U=!0)}return U}normalize(S){const D=this,F={};return Ie.forEach(this,(U,K)=>{const J=Ie.findKey(F,K);if(J){D[J]=Op(U),delete D[K];return}const X=S?tY(K):String(K).trim();X!==K&&delete D[K],D[X]=Op(U),F[X]=!0}),this}concat(...S){return this.constructor.concat(this,...S)}toJSON(S){const D=Object.create(null);return Ie.forEach(this,(F,U)=>{F!=null&&F!==!1&&(D[U]=S&&Ie.isArray(F)?F.join(", "):F)}),D}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([S,D])=>S+": "+D).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(S){return S instanceof this?S:new this(S)}static concat(S,...D){const F=new this(S);return D.forEach(U=>F.set(U)),F}static accessor(S){const F=(this[q8]=this[q8]={accessors:{}}).accessors,U=this.prototype;function K(J){const X=Ph(J);F[X]||(nY(U,J),F[X]=!0)}return Ie.isArray(S)?S.forEach(K):K(S),this}}Lp.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ie.reduceDescriptors(Lp.prototype,({value:x},S)=>{let D=S[0].toUpperCase()+S.slice(1);return{get:()=>x,set(F){this[D]=F}}});Ie.freezeMethods(Lp);const Qc=Lp;function Pv(x,S){const D=this||Yv,F=S||D,U=Qc.from(F.headers);let K=F.data;return Ie.forEach(x,function(X){K=X.call(D,K,U.normalize(),S?S.status:void 0)}),U.normalize(),K}function vk(x){return!!(x&&x.__CANCEL__)}function lm(x,S,D){Xn.call(this,x??"canceled",Xn.ERR_CANCELED,S,D),this.name="CanceledError"}Ie.inherits(lm,Xn,{__CANCEL__:!0});function yk(x,S,D){const F=D.config.validateStatus;!D.status||!F||F(D.status)?x(D):S(new Xn("Request failed with status code "+D.status,[Xn.ERR_BAD_REQUEST,Xn.ERR_BAD_RESPONSE][Math.floor(D.status/100)-4],D.config,D.request,D))}function oY(x){const S=/^([-+\w]{1,25})(:?\/\/|:)/.exec(x);return S&&S[1]||""}function sY(x,S){x=x||10;const D=new Array(x),F=new Array(x);let U=0,K=0,J;return S=S!==void 0?S:1e3,function(De){const xe=Date.now(),$e=F[K];J||(J=xe),D[U]=De,F[U]=xe;let Ue=K,Re=0;for(;Ue!==U;)Re+=D[Ue++],Ue=Ue%x;if(U=(U+1)%x,U===K&&(K=(K+1)%x),xe-J<S)return;const Qe=$e&&xe-$e;return Qe?Math.round(Re*1e3/Qe):void 0}}function rY(x,S){let D=0,F=1e3/S,U,K;const J=(xe,$e=Date.now())=>{D=$e,U=null,K&&(clearTimeout(K),K=null),x.apply(null,xe)};return[(...xe)=>{const $e=Date.now(),Ue=$e-D;Ue>=F?J(xe,$e):(U=xe,K||(K=setTimeout(()=>{K=null,J(U)},F-Ue)))},()=>U&&J(U)]}const Mp=(x,S,D=3)=>{let F=0;const U=sY(50,250);return rY(K=>{const J=K.loaded,X=K.lengthComputable?K.total:void 0,De=J-F,xe=U(De),$e=J<=X;F=J;const Ue={loaded:J,total:X,progress:X?J/X:void 0,bytes:De,rate:xe||void 0,estimated:xe&&X&&$e?(X-J)/xe:void 0,event:K,lengthComputable:X!=null,[S?"download":"upload"]:!0};x(Ue)},D)},K8=(x,S)=>{const D=x!=null;return[F=>S[0]({lengthComputable:D,total:x,loaded:F}),S[1]]},Y8=x=>(...S)=>Ie.asap(()=>x(...S)),aY=ea.hasStandardBrowserEnv?((x,S)=>D=>(D=new URL(D,ea.origin),x.protocol===D.protocol&&x.host===D.host&&(S||x.port===D.port)))(new URL(ea.origin),ea.navigator&&/(msie|trident)/i.test(ea.navigator.userAgent)):()=>!0,cY=ea.hasStandardBrowserEnv?{write(x,S,D,F,U,K){const J=[x+"="+encodeURIComponent(S)];Ie.isNumber(D)&&J.push("expires="+new Date(D).toGMTString()),Ie.isString(F)&&J.push("path="+F),Ie.isString(U)&&J.push("domain="+U),K===!0&&J.push("secure"),document.cookie=J.join("; ")},read(x){const S=document.cookie.match(new RegExp("(^|;\\s*)("+x+")=([^;]*)"));return S?decodeURIComponent(S[3]):null},remove(x){this.write(x,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function iY(x){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(x)}function lY(x,S){return S?x.replace(/\/?\/$/,"")+"/"+S.replace(/^\/+/,""):x}function xk(x,S,D){let F=!iY(S);return x&&(F||D==!1)?lY(x,S):S}const X8=x=>x instanceof Qc?{...x}:x;function Xu(x,S){S=S||{};const D={};function F(xe,$e,Ue,Re){return Ie.isPlainObject(xe)&&Ie.isPlainObject($e)?Ie.merge.call({caseless:Re},xe,$e):Ie.isPlainObject($e)?Ie.merge({},$e):Ie.isArray($e)?$e.slice():$e}function U(xe,$e,Ue,Re){if(Ie.isUndefined($e)){if(!Ie.isUndefined(xe))return F(void 0,xe,Ue,Re)}else return F(xe,$e,Ue,Re)}function K(xe,$e){if(!Ie.isUndefined($e))return F(void 0,$e)}function J(xe,$e){if(Ie.isUndefined($e)){if(!Ie.isUndefined(xe))return F(void 0,xe)}else return F(void 0,$e)}function X(xe,$e,Ue){if(Ue in S)return F(xe,$e);if(Ue in x)return F(void 0,xe)}const De={url:K,method:K,data:K,baseURL:J,transformRequest:J,transformResponse:J,paramsSerializer:J,timeout:J,timeoutMessage:J,withCredentials:J,withXSRFToken:J,adapter:J,responseType:J,xsrfCookieName:J,xsrfHeaderName:J,onUploadProgress:J,onDownloadProgress:J,decompress:J,maxContentLength:J,maxBodyLength:J,beforeRedirect:J,transport:J,httpAgent:J,httpsAgent:J,cancelToken:J,socketPath:J,responseEncoding:J,validateStatus:X,headers:(xe,$e,Ue)=>U(X8(xe),X8($e),Ue,!0)};return Ie.forEach(Object.keys(Object.assign({},x,S)),function($e){const Ue=De[$e]||U,Re=Ue(x[$e],S[$e],$e);Ie.isUndefined(Re)&&Ue!==X||(D[$e]=Re)}),D}const wk=x=>{const S=Xu({},x);let{data:D,withXSRFToken:F,xsrfHeaderName:U,xsrfCookieName:K,headers:J,auth:X}=S;S.headers=J=Qc.from(J),S.url=pk(xk(S.baseURL,S.url,S.allowAbsoluteUrls),x.params,x.paramsSerializer),X&&J.set("Authorization","Basic "+btoa((X.username||"")+":"+(X.password?unescape(encodeURIComponent(X.password)):"")));let De;if(Ie.isFormData(D)){if(ea.hasStandardBrowserEnv||ea.hasStandardBrowserWebWorkerEnv)J.setContentType(void 0);else if((De=J.getContentType())!==!1){const[xe,...$e]=De?De.split(";").map(Ue=>Ue.trim()).filter(Boolean):[];J.setContentType([xe||"multipart/form-data",...$e].join("; "))}}if(ea.hasStandardBrowserEnv&&(F&&Ie.isFunction(F)&&(F=F(S)),F||F!==!1&&aY(S.url))){const xe=U&&K&&cY.read(K);xe&&J.set(U,xe)}return S},uY=typeof XMLHttpRequest<"u",dY=uY&&function(x){return new Promise(function(D,F){const U=wk(x);let K=U.data;const J=Qc.from(U.headers).normalize();let{responseType:X,onUploadProgress:De,onDownloadProgress:xe}=U,$e,Ue,Re,Qe,Je;function Xe(){Qe&&Qe(),Je&&Je(),U.cancelToken&&U.cancelToken.unsubscribe($e),U.signal&&U.signal.removeEventListener("abort",$e)}let Se=new XMLHttpRequest;Se.open(U.method.toUpperCase(),U.url,!0),Se.timeout=U.timeout;function Rt(){if(!Se)return;const ce=Qc.from("getAllResponseHeaders"in Se&&Se.getAllResponseHeaders()),on={data:!X||X==="text"||X==="json"?Se.responseText:Se.response,status:Se.status,statusText:Se.statusText,headers:ce,config:x,request:Se};yk(function(A){D(A),Xe()},function(A){F(A),Xe()},on),Se=null}"onloadend"in Se?Se.onloadend=Rt:Se.onreadystatechange=function(){!Se||Se.readyState!==4||Se.status===0&&!(Se.responseURL&&Se.responseURL.indexOf("file:")===0)||setTimeout(Rt)},Se.onabort=function(){Se&&(F(new Xn("Request aborted",Xn.ECONNABORTED,x,Se)),Se=null)},Se.onerror=function(){F(new Xn("Network Error",Xn.ERR_NETWORK,x,Se)),Se=null},Se.ontimeout=function(){let nt=U.timeout?"timeout of "+U.timeout+"ms exceeded":"timeout exceeded";const on=U.transitional||fk;U.timeoutErrorMessage&&(nt=U.timeoutErrorMessage),F(new Xn(nt,on.clarifyTimeoutError?Xn.ETIMEDOUT:Xn.ECONNABORTED,x,Se)),Se=null},K===void 0&&J.setContentType(null),"setRequestHeader"in Se&&Ie.forEach(J.toJSON(),function(nt,on){Se.setRequestHeader(on,nt)}),Ie.isUndefined(U.withCredentials)||(Se.withCredentials=!!U.withCredentials),X&&X!=="json"&&(Se.responseType=U.responseType),xe&&([Re,Je]=Mp(xe,!0),Se.addEventListener("progress",Re)),De&&Se.upload&&([Ue,Qe]=Mp(De),Se.upload.addEventListener("progress",Ue),Se.upload.addEventListener("loadend",Qe)),(U.cancelToken||U.signal)&&($e=ce=>{Se&&(F(!ce||ce.type?new lm(null,x,Se):ce),Se.abort(),Se=null)},U.cancelToken&&U.cancelToken.subscribe($e),U.signal&&(U.signal.aborted?$e():U.signal.addEventListener("abort",$e)));const Oe=oY(U.url);if(Oe&&ea.protocols.indexOf(Oe)===-1){F(new Xn("Unsupported protocol "+Oe+":",Xn.ERR_BAD_REQUEST,x));return}Se.send(K||null)})},mY=(x,S)=>{const{length:D}=x=x?x.filter(Boolean):[];if(S||D){let F=new AbortController,U;const K=function(xe){if(!U){U=!0,X();const $e=xe instanceof Error?xe:this.reason;F.abort($e instanceof Xn?$e:new lm($e instanceof Error?$e.message:$e))}};let J=S&&setTimeout(()=>{J=null,K(new Xn(`timeout ${S} of ms exceeded`,Xn.ETIMEDOUT))},S);const X=()=>{x&&(J&&clearTimeout(J),J=null,x.forEach(xe=>{xe.unsubscribe?xe.unsubscribe(K):xe.removeEventListener("abort",K)}),x=null)};x.forEach(xe=>xe.addEventListener("abort",K));const{signal:De}=F;return De.unsubscribe=()=>Ie.asap(X),De}},hY=mY,gY=function*(x,S){let D=x.byteLength;if(!S||D<S){yield x;return}let F=0,U;for(;F<D;)U=F+S,yield x.slice(F,U),F=U},pY=async function*(x,S){for await(const D of fY(x))yield*gY(D,S)},fY=async function*(x){if(x[Symbol.asyncIterator]){yield*x;return}const S=x.getReader();try{for(;;){const{done:D,value:F}=await S.read();if(D)break;yield F}}finally{await S.cancel()}},J8=(x,S,D,F)=>{const U=pY(x,S);let K=0,J,X=De=>{J||(J=!0,F&&F(De))};return new ReadableStream({async pull(De){try{const{done:xe,value:$e}=await U.next();if(xe){X(),De.close();return}let Ue=$e.byteLength;if(D){let Re=K+=Ue;D(Re)}De.enqueue(new Uint8Array($e))}catch(xe){throw X(xe),xe}},cancel(De){return X(De),U.return()}},{highWaterMark:2})},Pp=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Sk=Pp&&typeof ReadableStream=="function",bY=Pp&&(typeof TextEncoder=="function"?(x=>S=>x.encode(S))(new TextEncoder):async x=>new Uint8Array(await new Response(x).arrayBuffer())),Ck=(x,...S)=>{try{return!!x(...S)}catch{return!1}},vY=Sk&&Ck(()=>{let x=!1;const S=new Request(ea.origin,{body:new ReadableStream,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!S}),Q8=64*1024,Zv=Sk&&Ck(()=>Ie.isReadableStream(new Response("").body)),_p={stream:Zv&&(x=>x.body)};Pp&&(x=>{["text","arrayBuffer","blob","formData","stream"].forEach(S=>{!_p[S]&&(_p[S]=Ie.isFunction(x[S])?D=>D[S]():(D,F)=>{throw new Xn(`Response type '${S}' is not supported`,Xn.ERR_NOT_SUPPORT,F)})})})(new Response);const yY=async x=>{if(x==null)return 0;if(Ie.isBlob(x))return x.size;if(Ie.isSpecCompliantForm(x))return(await new Request(ea.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(Ie.isArrayBufferView(x)||Ie.isArrayBuffer(x))return x.byteLength;if(Ie.isURLSearchParams(x)&&(x=x+""),Ie.isString(x))return(await bY(x)).byteLength},xY=async(x,S)=>{const D=Ie.toFiniteNumber(x.getContentLength());return D??yY(S)},wY=Pp&&(async x=>{let{url:S,method:D,data:F,signal:U,cancelToken:K,timeout:J,onDownloadProgress:X,onUploadProgress:De,responseType:xe,headers:$e,withCredentials:Ue="same-origin",fetchOptions:Re}=wk(x);xe=xe?(xe+"").toLowerCase():"text";let Qe=hY([U,K&&K.toAbortSignal()],J),Je;const Xe=Qe&&Qe.unsubscribe&&(()=>{Qe.unsubscribe()});let Se;try{if(De&&vY&&D!=="get"&&D!=="head"&&(Se=await xY($e,F))!==0){let on=new Request(S,{method:"POST",body:F,duplex:"half"}),Ae;if(Ie.isFormData(F)&&(Ae=on.headers.get("content-type"))&&$e.setContentType(Ae),on.body){const[A,Ve]=K8(Se,Mp(Y8(De)));F=J8(on.body,Q8,A,Ve)}}Ie.isString(Ue)||(Ue=Ue?"include":"omit");const Rt="credentials"in Request.prototype;Je=new Request(S,{...Re,signal:Qe,method:D.toUpperCase(),headers:$e.normalize().toJSON(),body:F,duplex:"half",credentials:Rt?Ue:void 0});let Oe=await fetch(Je);const ce=Zv&&(xe==="stream"||xe==="response");if(Zv&&(X||ce&&Xe)){const on={};["status","statusText","headers"].forEach(rn=>{on[rn]=Oe[rn]});const Ae=Ie.toFiniteNumber(Oe.headers.get("content-length")),[A,Ve]=X&&K8(Ae,Mp(Y8(X),!0))||[];Oe=new Response(J8(Oe.body,Q8,A,()=>{Ve&&Ve(),Xe&&Xe()}),on)}xe=xe||"text";let nt=await _p[Ie.findKey(_p,xe)||"text"](Oe,x);return!ce&&Xe&&Xe(),await new Promise((on,Ae)=>{yk(on,Ae,{data:nt,headers:Qc.from(Oe.headers),status:Oe.status,statusText:Oe.statusText,config:x,request:Je})})}catch(Rt){throw Xe&&Xe(),Rt&&Rt.name==="TypeError"&&/Load failed|fetch/i.test(Rt.message)?Object.assign(new Xn("Network Error",Xn.ERR_NETWORK,x,Je),{cause:Rt.cause||Rt}):Xn.from(Rt,Rt&&Rt.code,x,Je)}}),Uv={http:$K,xhr:dY,fetch:wY};Ie.forEach(Uv,(x,S)=>{if(x){try{Object.defineProperty(x,"name",{value:S})}catch{}Object.defineProperty(x,"adapterName",{value:S})}});const ek=x=>`- ${x}`,SY=x=>Ie.isFunction(x)||x===null||x===!1,Tk={getAdapter:x=>{x=Ie.isArray(x)?x:[x];const{length:S}=x;let D,F;const U={};for(let K=0;K<S;K++){D=x[K];let J;if(F=D,!SY(D)&&(F=Uv[(J=String(D)).toLowerCase()],F===void 0))throw new Xn(`Unknown adapter '${J}'`);if(F)break;U[J||"#"+K]=F}if(!F){const K=Object.entries(U).map(([X,De])=>`adapter ${X} `+(De===!1?"is not supported by the environment":"is not available in the build"));let J=S?K.length>1?`since :
`+K.map(ek).join(`
`):" "+ek(K[0]):"as no adapter specified";throw new Xn("There is no suitable adapter to dispatch the request "+J,"ERR_NOT_SUPPORT")}return F},adapters:Uv};function Bv(x){if(x.cancelToken&&x.cancelToken.throwIfRequested(),x.signal&&x.signal.aborted)throw new lm(null,x)}function tk(x){return Bv(x),x.headers=Qc.from(x.headers),x.data=Pv.call(x,x.transformRequest),["post","put","patch"].indexOf(x.method)!==-1&&x.headers.setContentType("application/x-www-form-urlencoded",!1),Tk.getAdapter(x.adapter||Yv.adapter)(x).then(function(F){return Bv(x),F.data=Pv.call(x,x.transformResponse,F),F.headers=Qc.from(F.headers),F},function(F){return vk(F)||(Bv(x),F&&F.response&&(F.response.data=Pv.call(x,x.transformResponse,F.response),F.response.headers=Qc.from(F.response.headers))),Promise.reject(F)})}const kk="1.9.0",Bp={};["object","boolean","number","function","string","symbol"].forEach((x,S)=>{Bp[x]=function(F){return typeof F===x||"a"+(S<1?"n ":" ")+x}});const nk={};Bp.transitional=function(S,D,F){function U(K,J){return"[Axios v"+kk+"] Transitional option '"+K+"'"+J+(F?". "+F:"")}return(K,J,X)=>{if(S===!1)throw new Xn(U(J," has been removed"+(D?" in "+D:"")),Xn.ERR_DEPRECATED);return D&&!nk[J]&&(nk[J]=!0,console.warn(U(J," has been deprecated since v"+D+" and will be removed in the near future"))),S?S(K,J,X):!0}};Bp.spelling=function(S){return(D,F)=>(console.warn(`${F} is likely a misspelling of ${S}`),!0)};function CY(x,S,D){if(typeof x!="object")throw new Xn("options must be an object",Xn.ERR_BAD_OPTION_VALUE);const F=Object.keys(x);let U=F.length;for(;U-- >0;){const K=F[U],J=S[K];if(J){const X=x[K],De=X===void 0||J(X,K,x);if(De!==!0)throw new Xn("option "+K+" must be "+De,Xn.ERR_BAD_OPTION_VALUE);continue}if(D!==!0)throw new Xn("Unknown option "+K,Xn.ERR_BAD_OPTION)}}const Ap={assertOptions:CY,validators:Bp},Ai=Ap.validators;class Dp{constructor(S){this.defaults=S||{},this.interceptors={request:new G8,response:new G8}}async request(S,D){try{return await this._request(S,D)}catch(F){if(F instanceof Error){let U={};Error.captureStackTrace?Error.captureStackTrace(U):U=new Error;const K=U.stack?U.stack.replace(/^.+\n/,""):"";try{F.stack?K&&!String(F.stack).endsWith(K.replace(/^.+\n.+\n/,""))&&(F.stack+=`
`+K):F.stack=K}catch{}}throw F}}_request(S,D){typeof S=="string"?(D=D||{},D.url=S):D=S||{},D=Xu(this.defaults,D);const{transitional:F,paramsSerializer:U,headers:K}=D;F!==void 0&&Ap.assertOptions(F,{silentJSONParsing:Ai.transitional(Ai.boolean),forcedJSONParsing:Ai.transitional(Ai.boolean),clarifyTimeoutError:Ai.transitional(Ai.boolean)},!1),U!=null&&(Ie.isFunction(U)?D.paramsSerializer={serialize:U}:Ap.assertOptions(U,{encode:Ai.function,serialize:Ai.function},!0)),D.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?D.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:D.allowAbsoluteUrls=!0),Ap.assertOptions(D,{baseUrl:Ai.spelling("baseURL"),withXsrfToken:Ai.spelling("withXSRFToken")},!0),D.method=(D.method||this.defaults.method||"get").toLowerCase();let J=K&&Ie.merge(K.common,K[D.method]);K&&Ie.forEach(["delete","get","head","post","put","patch","common"],Je=>{delete K[Je]}),D.headers=Qc.concat(J,K);const X=[];let De=!0;this.interceptors.request.forEach(function(Xe){typeof Xe.runWhen=="function"&&Xe.runWhen(D)===!1||(De=De&&Xe.synchronous,X.unshift(Xe.fulfilled,Xe.rejected))});const xe=[];this.interceptors.response.forEach(function(Xe){xe.push(Xe.fulfilled,Xe.rejected)});let $e,Ue=0,Re;if(!De){const Je=[tk.bind(this),void 0];for(Je.unshift.apply(Je,X),Je.push.apply(Je,xe),Re=Je.length,$e=Promise.resolve(D);Ue<Re;)$e=$e.then(Je[Ue++],Je[Ue++]);return $e}Re=X.length;let Qe=D;for(Ue=0;Ue<Re;){const Je=X[Ue++],Xe=X[Ue++];try{Qe=Je(Qe)}catch(Se){Xe.call(this,Se);break}}try{$e=tk.call(this,Qe)}catch(Je){return Promise.reject(Je)}for(Ue=0,Re=xe.length;Ue<Re;)$e=$e.then(xe[Ue++],xe[Ue++]);return $e}getUri(S){S=Xu(this.defaults,S);const D=xk(S.baseURL,S.url,S.allowAbsoluteUrls);return pk(D,S.params,S.paramsSerializer)}}Ie.forEach(["delete","get","head","options"],function(S){Dp.prototype[S]=function(D,F){return this.request(Xu(F||{},{method:S,url:D,data:(F||{}).data}))}});Ie.forEach(["post","put","patch"],function(S){function D(F){return function(K,J,X){return this.request(Xu(X||{},{method:S,headers:F?{"Content-Type":"multipart/form-data"}:{},url:K,data:J}))}}Dp.prototype[S]=D(),Dp.prototype[S+"Form"]=D(!0)});const Ep=Dp;class Xv{constructor(S){if(typeof S!="function")throw new TypeError("executor must be a function.");let D;this.promise=new Promise(function(K){D=K});const F=this;this.promise.then(U=>{if(!F._listeners)return;let K=F._listeners.length;for(;K-- >0;)F._listeners[K](U);F._listeners=null}),this.promise.then=U=>{let K;const J=new Promise(X=>{F.subscribe(X),K=X}).then(U);return J.cancel=function(){F.unsubscribe(K)},J},S(function(K,J,X){F.reason||(F.reason=new lm(K,J,X),D(F.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(S){if(this.reason){S(this.reason);return}this._listeners?this._listeners.push(S):this._listeners=[S]}unsubscribe(S){if(!this._listeners)return;const D=this._listeners.indexOf(S);D!==-1&&this._listeners.splice(D,1)}toAbortSignal(){const S=new AbortController,D=F=>{S.abort(F)};return this.subscribe(D),S.signal.unsubscribe=()=>this.unsubscribe(D),S.signal}static source(){let S;return{token:new Xv(function(U){S=U}),cancel:S}}}const TY=Xv;function kY(x){return function(D){return x.apply(null,D)}}function OY(x){return Ie.isObject(x)&&x.isAxiosError===!0}const Wv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Wv).forEach(([x,S])=>{Wv[S]=x});const AY=Wv;function Ok(x){const S=new Ep(x),D=ok(Ep.prototype.request,S);return Ie.extend(D,Ep.prototype,S,{allOwnKeys:!0}),Ie.extend(D,S,null,{allOwnKeys:!0}),D.create=function(U){return Ok(Xu(x,U))},D}const Qs=Ok(Yv);Qs.Axios=Ep;Qs.CanceledError=lm;Qs.CancelToken=TY;Qs.isCancel=vk;Qs.VERSION=kk;Qs.toFormData=Rp;Qs.AxiosError=Xn;Qs.Cancel=Qs.CanceledError;Qs.all=function(S){return Promise.all(S)};Qs.spread=kY;Qs.isAxiosError=OY;Qs.mergeConfig=Xu;Qs.AxiosHeaders=Qc;Qs.formToJSON=x=>bk(Ie.isHTMLForm(x)?new FormData(x):x);Qs.getAdapter=Tk.getAdapter;Qs.HttpStatusCode=AY;Qs.default=Qs;const EY=Qs;window.axios=EY;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";(function(){const x=Object.getPrototypeOf,S=(e,t,n)=>{var o;return n(e,t.prototype)?!0:((o=e.constructor)===null||o===void 0?void 0:o.name)===t.name},D=e=>{const t=typeof e;return e===null?"null":t==="object"&&Array.isArray(e)?"array":t==="object"&&S(e,String,(n,o)=>o.isPrototypeOf(n))?"string":t},F=e=>t=>D(t)===e,U=e=>t=>typeof t===e,K=e=>t=>e===t,J=(e,t)=>De(e)&&S(e,t,(n,o)=>x(n)===o),X=F("string"),De=F("object"),xe=e=>J(e,Object),$e=F("array"),Ue=K(null),Re=U("boolean"),Qe=K(void 0),Je=e=>e==null,Xe=e=>!Je(e),Se=U("function"),Rt=U("number"),Oe=(e,t)=>{if($e(e)){for(let n=0,o=e.length;n<o;++n)if(!t(e[n]))return!1;return!0}return!1},ce=()=>{},nt=e=>()=>e(),on=(e,t)=>(...n)=>e(t.apply(null,n)),Ae=(e,t)=>n=>e(t(n)),A=e=>()=>e,Ve=e=>e,rn=(e,t)=>e===t;function cn(e,...t){return(...n)=>{const o=t.concat(n);return e.apply(null,o)}}const Xt=e=>t=>!e(t),hn=e=>()=>{throw new Error(e)},to=e=>e(),ue=A(!1),st=A(!0);class h{constructor(t,n){this.tag=t,this.value=n}static some(t){return new h(!0,t)}static none(){return h.singletonNone}fold(t,n){return this.tag?n(this.value):t()}isSome(){return this.tag}isNone(){return!this.tag}map(t){return this.tag?h.some(t(this.value)):h.none()}bind(t){return this.tag?t(this.value):h.none()}exists(t){return this.tag&&t(this.value)}forall(t){return!this.tag||t(this.value)}filter(t){return!this.tag||t(this.value)?this:h.none()}getOr(t){return this.tag?this.value:t}or(t){return this.tag?this:t}getOrThunk(t){return this.tag?this.value:t()}orThunk(t){return this.tag?this:t()}getOrDie(t){if(this.tag)return this.value;throw new Error(t??"Called getOrDie on None")}static from(t){return Xe(t)?h.some(t):h.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(t){this.tag&&t(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}h.singletonNone=new h(!1);const Nn=Array.prototype.slice,Gn=Array.prototype.indexOf,Wo=Array.prototype.push,yo=(e,t)=>Gn.call(e,t),Ge=(e,t)=>{const n=yo(e,t);return n===-1?h.none():h.some(n)},Ee=(e,t)=>yo(e,t)>-1,Dt=(e,t)=>{for(let n=0,o=e.length;n<o;n++){const s=e[n];if(t(s,n))return!0}return!1},de=(e,t)=>{const n=[];for(let o=0;o<e;o++)n.push(t(o));return n},et=(e,t)=>{const n=[];for(let o=0;o<e.length;o+=t){const s=Nn.call(e,o,o+t);n.push(s)}return n},re=(e,t)=>{const n=e.length,o=new Array(n);for(let s=0;s<n;s++){const r=e[s];o[s]=t(r,s)}return o},_e=(e,t)=>{for(let n=0,o=e.length;n<o;n++){const s=e[n];t(s,n)}},Mn=(e,t)=>{for(let n=e.length-1;n>=0;n--){const o=e[n];t(o,n)}},Rn=(e,t)=>{const n=[],o=[];for(let s=0,r=e.length;s<r;s++){const a=e[s];(t(a,s)?n:o).push(a)}return{pass:n,fail:o}},jt=(e,t)=>{const n=[];for(let o=0,s=e.length;o<s;o++){const r=e[o];t(r,o)&&n.push(r)}return n},ln=(e,t,n)=>(Mn(e,(o,s)=>{n=t(n,o,s)}),n),On=(e,t,n)=>(_e(e,(o,s)=>{n=t(n,o,s)}),n),Kn=(e,t,n)=>{for(let o=0,s=e.length;o<s;o++){const r=e[o];if(t(r,o))return h.some(r);if(n(r,o))break}return h.none()},ve=(e,t)=>Kn(e,t,ue),we=(e,t)=>{for(let n=0,o=e.length;n<o;n++){const s=e[n];if(t(s,n))return h.some(n)}return h.none()},je=e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!$e(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);Wo.apply(t,e[n])}return t},Tt=(e,t)=>je(re(e,t)),Ft=(e,t)=>{for(let n=0,o=e.length;n<o;++n){const s=e[n];if(t(s,n)!==!0)return!1}return!0},In=e=>{const t=Nn.call(e,0);return t.reverse(),t},no=(e,t)=>jt(e,n=>!Ee(t,n)),ro=(e,t)=>{const n={};for(let o=0,s=e.length;o<s;o++){const r=e[o];n[String(r)]=t(r,o)}return n},Ce=e=>[e],Me=(e,t)=>{const n=Nn.call(e,0);return n.sort(t),n},_t=(e,t)=>t>=0&&t<e.length?h.some(e[t]):h.none(),Mt=e=>_t(e,0),Jt=e=>_t(e,e.length-1),_n=Se(Array.from)?Array.from:e=>Nn.call(e),kt=(e,t)=>{for(let n=0;n<e.length;n++){const o=t(e[n],n);if(o.isSome())return o}return h.none()},en=Object.keys,xo=Object.hasOwnProperty,sn=(e,t)=>{const n=en(e);for(let o=0,s=n.length;o<s;o++){const r=n[o],a=e[r];t(a,r)}},ge=(e,t)=>He(e,(n,o)=>({k:o,v:t(n,o)})),He=(e,t)=>{const n={};return sn(e,(o,s)=>{const r=t(o,s);n[r.k]=r.v}),n},ut=e=>(t,n)=>{e[n]=t},it=(e,t,n,o)=>{sn(e,(s,r)=>{(t(s,r)?n:o)(s,r)})},Tn=(e,t)=>{const n={},o={};return it(e,t,ut(n),ut(o)),{t:n,f:o}},ao=(e,t)=>{const n={};return it(e,t,ut(n),ce),n},yn=(e,t)=>{const n=[];return sn(e,(o,s)=>{n.push(t(o,s))}),n},oo=(e,t)=>{const n=en(e);for(let o=0,s=n.length;o<s;o++){const r=n[o],a=e[r];if(t(a,r,e))return h.some(a)}return h.none()},wo=e=>yn(e,Ve),lt=(e,t)=>Nt(e,t)?h.from(e[t]):h.none(),Nt=(e,t)=>xo.call(e,t),mo=(e,t)=>Nt(e,t)&&e[t]!==void 0&&e[t]!==null,Ko={generate:e=>{if(!$e(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const t=[],n={};return _e(e,(o,s)=>{const r=en(o);if(r.length!==1)throw new Error("one and only one name per case");const a=r[0],c=o[a];if(n[a]!==void 0)throw new Error("duplicate key detected:"+a);if(a==="cata")throw new Error("cannot have a case named cata (sorry)");if(!$e(c))throw new Error("case arguments must be an array");t.push(a),n[a]=(...i)=>{const d=i.length;if(d!==c.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+c.length+" ("+c+"), got "+d);return{fold:(...f)=>{if(f.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+f.length);return f[s].apply(null,i)},match:f=>{const y=en(f);if(t.length!==y.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+`
Actual: `+y.join(","));if(!Ft(t,_=>Ee(y,_)))throw new Error("Not all branches were specified when using match. Specified: "+y.join(", ")+`
Required: `+t.join(", "));return f[a].apply(null,i)},log:f=>{console.log(f,{constructors:t,constructor:a,params:i})}}}}),n}},ot=e=>{let t=e;return{get:()=>t,set:s=>{t=s}}},As=e=>{let t=h.none(),n=[];const o=d=>As(g=>{s(f=>{g(d(f))})}),s=d=>{a()?i(d):n.push(d)},r=d=>{a()||(t=h.some(d),c(n),n=[])},a=()=>t.isSome(),c=d=>{_e(d,i)},i=d=>{t.each(g=>{setTimeout(()=>{d(g)},0)})};return e(r),{get:s,map:o,isReady:a}},Nr={nu:As,pure:e=>As(t=>{t(e)})},er=e=>{setTimeout(()=>{throw e},0)},Bo=e=>{const t=i=>{e().then(i,er)};return{map:i=>Bo(()=>e().then(i)),bind:i=>Bo(()=>e().then(d=>i(d).toPromise())),anonBind:i=>Bo(()=>e().then(()=>i.toPromise())),toLazy:()=>Nr.nu(t),toCached:()=>{let i=null;return Bo(()=>(i===null&&(i=e()),i))},toPromise:e,get:t}},An={nu:e=>Bo(()=>new Promise(e)),pure:e=>Bo(()=>Promise.resolve(e))},ss=e=>{const t=r=>r(e),n=A(e),o=()=>s,s={tag:!0,inner:e,fold:(r,a)=>a(e),isValue:st,isError:ue,map:r=>Ot.value(r(e)),mapError:o,bind:t,exists:t,forall:t,getOr:n,or:o,getOrThunk:n,orThunk:o,getOrDie:n,each:r=>{r(e)},toOptional:()=>h.some(e)};return s},gs=e=>{const t=()=>n,n={tag:!1,inner:e,fold:(o,s)=>o(e),isValue:ue,isError:st,map:t,mapError:o=>Ot.error(o(e)),bind:t,exists:ue,forall:st,getOr:Ve,or:Ve,getOrThunk:to,orThunk:to,getOrDie:hn(String(e)),each:ce,toOptional:h.none};return n},Ot={value:ss,error:gs,fromOption:(e,t)=>e.fold(()=>gs(t),ss)},$o=e=>({...e,toCached:()=>$o(e.toCached()),bindFuture:i=>$o(e.bind(d=>d.fold(g=>An.pure(Ot.error(g)),g=>i(g)))),bindResult:i=>$o(e.map(d=>d.bind(i))),mapResult:i=>$o(e.map(d=>d.map(i))),mapError:i=>$o(e.map(d=>d.mapError(i))),foldResult:(i,d)=>e.map(g=>g.fold(i,d)),withTimeout:(i,d)=>$o(An.nu(g=>{let f=!1;const y=setTimeout(()=>{f=!0,g(Ot.error(d()))},i);e.get(T=>{f||(clearTimeout(y),g(T))})}))}),Ho=e=>$o(An.nu(e)),nr=e=>$o(An.pure(Ot.value(e))),xt={nu:Ho,wrap:$o,pure:nr,value:nr,error:e=>$o(An.pure(Ot.error(e))),fromResult:e=>$o(An.pure(e)),fromFuture:e=>$o(e.map(Ot.value)),fromPromise:e=>Ho(t=>{e.then(n=>{t(Ot.value(n))},n=>{t(Ot.error(n))})})},St=typeof window<"u"?window:Function("return this;")(),qt=(e,t,n,o)=>{const s=e+t;return s>o?n:s<n?o:s},fn=(e,t,n)=>Math.min(Math.max(e,t),n),gn=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let Qt=0;const O=e=>{const n=new Date().getTime(),o=Math.floor(gn()*1e9);return Qt++,e+"_"+o+Qt+String(n)},V=(e,t)=>t,fe=(e,t)=>xe(e)&&xe(t)?ke(e,t):t,Ze=e=>(...t)=>{if(t.length===0)throw new Error("Can't merge zero objects");const n={};for(let o=0;o<t.length;o++){const s=t[o];for(const r in s)Nt(s,r)&&(n[r]=e(n[r],s[r]))}return n},ke=Ze(fe),bt=Ze(V),dt=(e,t,n=rn)=>e.exists(o=>n(o,t)),mt=(e,t,n=rn)=>Dn(e,t,n).getOr(e.isNone()&&t.isNone()),Ut=e=>{const t=[],n=o=>{t.push(o)};for(let o=0;o<e.length;o++)e[o].each(n);return t},bn=e=>{const t=[];for(let n=0;n<e.length;n++){const o=e[n];if(o.isSome())t.push(o.getOrDie());else return h.none()}return h.some(t)},Dn=(e,t,n)=>e.isSome()&&t.isSome()?h.some(n(e.getOrDie(),t.getOrDie())):h.none(),po=(e,t,n,o)=>e.isSome()&&t.isSome()&&n.isSome()?h.some(o(e.getOrDie(),t.getOrDie(),n.getOrDie())):h.none(),Ns=(e,t)=>e!=null?h.some(t(e)):h.none(),Ao=(e,t)=>e?h.some(t):h.none(),ta=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),so=(e,t)=>{let n=t??St;for(let o=0;o<e.length&&n!==void 0&&n!==null;++o)n=n[e[o]];return n},Jn=(e,t)=>{const n=e.split(".");return so(n,t)};Ko.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Wn=e=>{const t=[],n=[];return _e(e,o=>{o.fold(s=>{t.push(s)},s=>{n.push(s)})}),{errors:t,values:n}},Es=e=>{const t=ot(h.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(h.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:c=>{n(),t.set(h.some(c))}}},na=()=>Es(e=>e.destroy()),Vs=()=>Es(e=>e.unbind()),kn=()=>{const e=Es(ce);return{...e,on:n=>e.get().each(n)}},nc=(e,t)=>e+t,oa=(e,t)=>e.substring(t),fa=(e,t,n)=>t===""||e.length>=t.length&&e.substr(n,n+t.length)===t,Ms=(e,t)=>ps(e,t)?oa(e,t.length):e,ba=(e,t)=>or(e,t)?e:nc(e,t),Eo=(e,t,n=0,o)=>{const s=e.indexOf(t,n);return s!==-1?Qe(o)?!0:s+t.length<=o:!1},ps=(e,t)=>fa(e,t,0),or=(e,t)=>fa(e,t,e.length-t.length),va=(e=>t=>t.replace(e,""))(/^\s+|\s+$/g),sr=e=>e.length>0,fr=e=>!sr(e),rr=e=>{const t=parseFloat(e);return isNaN(t)?h.none():h.some(t)},ya=(e,t)=>{let n=null,o=null;return{cancel:()=>{Ue(n)||(clearTimeout(n),n=null,o=null)},throttle:(...a)=>{o=a,Ue(n)&&(n=setTimeout(()=>{const c=o;n=null,o=null,e.apply(null,c)},t))}}},zs=(e,t)=>{let n=null;return{cancel:()=>{Ue(n)||(clearTimeout(n),n=null)},throttle:(...r)=>{Ue(n)&&(n=setTimeout(()=>{n=null,e.apply(null,r)},t))}}},_r=(e,t)=>{let n=null;const o=()=>{Ue(n)||(clearTimeout(n),n=null)};return{cancel:o,throttle:(...r)=>{o(),n=setTimeout(()=>{n=null,e.apply(null,r)},t)}}},_s=e=>{let t=!1,n;return(...o)=>(t||(t=!0,n=e.apply(null,o)),n)},Vr="\uFEFF",oc=" ",Mc=(e,t)=>{const o=(t||document).createElement("div");if(o.innerHTML=e,!o.hasChildNodes()||o.childNodes.length>1){const s="HTML does not have a single root node";throw console.error(s,e),new Error(s)}return Dr(o.childNodes[0])},ar=(e,t)=>{const o=(t||document).createElement(e);return Dr(o)},Pa=(e,t)=>{const o=(t||document).createTextNode(e);return Dr(o)},Dr=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},Be={fromHtml:Mc,fromTag:ar,fromText:Pa,fromDom:Dr,fromPoint:(e,t,n)=>h.from(e.dom.elementFromPoint(t,n)).map(Dr)},xa=(e,t)=>{t.fold(n=>{e.setStartBefore(n.dom)},(n,o)=>{e.setStart(n.dom,o)},n=>{e.setStartAfter(n.dom)})},_c=(e,t)=>{t.fold(n=>{e.setEndBefore(n.dom)},(n,o)=>{e.setEnd(n.dom,o)},n=>{e.setEndAfter(n.dom)})},C=(e,t,n)=>{const o=e.document.createRange();return xa(o,t),_c(o,n),o},I=(e,t,n,o,s)=>{const r=e.document.createRange();return r.setStart(t.dom,n),r.setEnd(o.dom,s),r},q=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}),me=e=>{const t=e.getClientRects(),n=t.length>0?t[0]:e.getBoundingClientRect();return n.width>0||n.height>0?h.some(n).map(q):h.none()},Le=e=>{const t=e.getBoundingClientRect();return t.width>0||t.height>0?h.some(t).map(q):h.none()},tt=Ko.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),un=(e,t,n)=>t(Be.fromDom(n.startContainer),n.startOffset,Be.fromDom(n.endContainer),n.endOffset),fo=(e,t)=>t.match({domRange:n=>({ltr:A(n),rtl:h.none}),relative:(n,o)=>({ltr:_s(()=>C(e,n,o)),rtl:_s(()=>h.some(C(e,o,n)))}),exact:(n,o,s,r)=>({ltr:_s(()=>I(e,n,o,s,r)),rtl:_s(()=>h.some(I(e,s,r,n,o)))})}),Ln=(e,t)=>{const n=t.ltr();return n.collapsed?t.rtl().filter(s=>s.collapsed===!1).map(s=>tt.rtl(Be.fromDom(s.endContainer),s.endOffset,Be.fromDom(s.startContainer),s.startOffset)).getOrThunk(()=>un(e,tt.ltr,n)):un(e,tt.ltr,n)},b=(e,t)=>{const n=fo(e,t);return Ln(e,n)},k=(e,t)=>b(e,t).match({ltr:(o,s,r,a)=>{const c=e.document.createRange();return c.setStart(o.dom,s),c.setEnd(r.dom,a),c},rtl:(o,s,r,a)=>{const c=e.document.createRange();return c.setStart(r.dom,a),c.setEnd(o.dom,s),c}});tt.ltr,tt.rtl;const P=9,te=11,rt=1,xn=3,qn=(e,t)=>{const n=e.dom;if(n.nodeType!==rt)return!1;{const o=n;if(o.matches!==void 0)return o.matches(t);if(o.msMatchesSelector!==void 0)return o.msMatchesSelector(t);if(o.webkitMatchesSelector!==void 0)return o.webkitMatchesSelector(t);if(o.mozMatchesSelector!==void 0)return o.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},Yo=e=>e.nodeType!==rt&&e.nodeType!==P&&e.nodeType!==te||e.childElementCount===0,Jo=(e,t)=>{const n=t===void 0?document:t.dom;return Yo(n)?[]:re(n.querySelectorAll(e),Be.fromDom)},Zs=(e,t)=>{const n=t===void 0?document:t.dom;return Yo(n)?h.none():h.from(n.querySelector(e)).map(Be.fromDom)},dn=(e,t)=>e.dom===t.dom,zr=(e,t)=>{const n=e.dom,o=t.dom;return n===o?!1:n.contains(o)},Ba=(e,t,n,o)=>{const s=e.isiOS()&&/ipad/i.test(n)===!0,r=e.isiOS()&&!s,a=e.isiOS()||e.isAndroid(),c=a||o("(pointer:coarse)"),i=s||!r&&a&&o("(min-device-width:768px)"),d=r||a&&!i,g=t.isSafari()&&e.isiOS()&&/safari/i.test(n)===!1,f=!d&&!i&&!g;return{isiPad:A(s),isiPhone:A(r),isTablet:A(i),isPhone:A(d),isTouch:A(c),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:A(g),isDesktop:A(f)}},Ei=(e,t)=>{for(let n=0;n<e.length;n++){const o=e[n];if(o.test(t))return o}},ni=(e,t)=>{const n=Ei(e,t);if(!n)return{major:0,minor:0};const o=s=>Number(t.replace(n,"$"+s));return Na(o(1),o(2))},oi=(e,t)=>{const n=String(t).toLowerCase();return e.length===0?cr():ni(e,n)},cr=()=>Na(0,0),Na=(e,t)=>({major:e,minor:t}),Va={nu:Na,detect:oi,unknown:cr},sc=(e,t)=>kt(t.brands,n=>{const o=n.brand.toLowerCase();return ve(e,s=>{var r;return o===((r=s.brand)===null||r===void 0?void 0:r.toLowerCase())}).map(s=>({current:s.name,version:Va.nu(parseInt(n.version,10),0)}))}),si=(e,t)=>{const n=String(t).toLowerCase();return ve(e,o=>o.search(n))},ri=(e,t)=>si(e,t).map(n=>{const o=Va.detect(n.versionRegexes,t);return{current:n.name,version:o}}),sl=(e,t)=>si(e,t).map(n=>{const o=Va.detect(n.versionRegexes,t);return{current:n.name,version:o}}),sa=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Fr=e=>t=>Eo(t,e),za=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Eo(e,"edge/")&&Eo(e,"chrome")&&Eo(e,"safari")&&Eo(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,sa],search:e=>Eo(e,"chrome")&&!Eo(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Eo(e,"msie")||Eo(e,"trident")},{name:"Opera",versionRegexes:[sa,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Fr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Fr("firefox")},{name:"Safari",versionRegexes:[sa,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Eo(e,"safari")||Eo(e,"mobile/"))&&Eo(e,"applewebkit")}],Dc=[{name:"Windows",search:Fr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Eo(e,"iphone")||Eo(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Fr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Fr("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Fr("linux"),versionRegexes:[]},{name:"Solaris",search:Fr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Fr("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Fr("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],E={browsers:A(za),oses:A(Dc)},$="Edge",Q="Chromium",he="IE",wt="Opera",Sn="Firefox",So="Safari",Ds=()=>rs({current:void 0,version:Va.unknown()}),rs=e=>{const t=e.current,n=e.version,o=s=>()=>t===s;return{current:t,version:n,isEdge:o($),isChromium:o(Q),isIE:o(he),isOpera:o(wt),isFirefox:o(Sn),isSafari:o(So)}},Us={unknown:Ds,nu:rs,edge:A($),chromium:A(Q),ie:A(he),opera:A(wt),firefox:A(Sn),safari:A(So)},Ir="Windows",Cs="iOS",Za="Android",Ua="Linux",Fc="macOS",ai="Solaris",Fs="FreeBSD",Zr="ChromeOS",ci=()=>rl({current:void 0,version:Va.unknown()}),rl=e=>{const t=e.current,n=e.version,o=s=>()=>t===s;return{current:t,version:n,isWindows:o(Ir),isiOS:o(Cs),isAndroid:o(Za),isMacOS:o(Fc),isLinux:o(Ua),isSolaris:o(ai),isFreeBSD:o(Fs),isChromeOS:o(Zr)}},um={unknown:ci,nu:rl,windows:A(Ir),ios:A(Cs),android:A(Za),linux:A(Ua),macos:A(Fc),solaris:A(ai),freebsd:A(Fs),chromeos:A(Zr)},Vh={detect:(e,t,n)=>{const o=E.browsers(),s=E.oses(),r=t.bind(i=>sc(o,i)).orThunk(()=>ri(o,e)).fold(Us.unknown,Us.nu),a=sl(s,e).fold(um.unknown,um.nu),c=Ba(a,r,e,n);return{browser:r,os:a,deviceType:c}}},zh=e=>window.matchMedia(e).matches;let Zh=_s(()=>Vh.detect(window.navigator.userAgent,h.from(window.navigator.userAgentData),zh));const fs=()=>Zh(),Zl=(e,t)=>Jn(e,t),Ju=(e,t)=>{const n=Zl(e,t);if(n==null)throw new Error(e+" not available on this browser");return n},dm=Object.getPrototypeOf,al=e=>Ju("HTMLElement",e),Qu=e=>{const t=Jn("ownerDocument.defaultView",e);return De(e)&&(al(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(dm(e).constructor.name))},Wa=e=>e.dom.nodeName.toLowerCase(),ed=e=>e.dom.nodeType,cl=e=>t=>ed(t)===e,td=e=>br(e)&&Qu(e.dom),br=cl(rt),Ic=cl(xn),mm=cl(P),Ul=cl(te),Wl=e=>t=>br(t)&&Wa(t)===e,$r=e=>Be.fromDom(e.dom.ownerDocument),ii=e=>mm(e)?e:$r(e),jl=e=>Be.fromDom(ii(e).dom.documentElement),wa=e=>Be.fromDom(ii(e).dom.defaultView),ir=e=>h.from(e.dom.parentNode).map(Be.fromDom),li=e=>ir(e),vr=e=>h.from(e.dom.parentElement).map(Be.fromDom),hm=(e,t)=>{const n=Se(t)?t:ue;let o=e.dom;const s=[];for(;o.parentNode!==null&&o.parentNode!==void 0;){const r=o.parentNode,a=Be.fromDom(r);if(s.push(a),n(a)===!0)break;o=r}return s},Gl=e=>h.from(e.dom.offsetParent).map(Be.fromDom),gm=e=>h.from(e.dom.nextSibling).map(Be.fromDom),Ws=e=>re(e.dom.childNodes,Be.fromDom),$c=(e,t)=>{const n=e.dom.childNodes;return h.from(n[t]).map(Be.fromDom)},ui=e=>$c(e,0),Mi=(e,t)=>({element:e,offset:t}),_i=(e,t)=>{const n=Ws(e);return n.length>0&&t<n.length?Mi(n[t],0):Mi(e,t)},ql=(e,t,n,o)=>{const r=$r(e).dom.createRange();return r.setStart(e.dom,t),r.setEnd(n.dom,o),r},pm=(e,t,n,o)=>{const s=ql(e,t,n,o),r=dn(e,n)&&t===o;return s.collapsed&&!r},Hc=e=>Ul(e)&&Xe(e.dom.host),Is=e=>Be.fromDom(e.dom.getRootNode()),di=e=>Hc(e)?e:Be.fromDom(ii(e).dom.body),fm=e=>il(e).isSome(),il=e=>{const t=Is(e);return Hc(t)?h.some(t):h.none()},Di=e=>Be.fromDom(e.dom.host),nd=e=>{if(Xe(e.target)){const t=Be.fromDom(e.target);if(br(t)&&bm(t)&&e.composed&&e.composedPath){const n=e.composedPath();if(n)return Mt(n)}}return h.from(e.target)},bm=e=>Xe(e.dom.shadowRoot),vm=(e,t,n,o,s,r,a)=>({target:e,x:t,y:n,stop:o,prevent:s,kill:r,raw:a}),$s=e=>{const t=Be.fromDom(nd(e).getOr(e.target)),n=()=>e.stopPropagation(),o=()=>e.preventDefault(),s=on(o,n);return vm(t,e.clientX,e.clientY,n,o,s,e)},ym=(e,t)=>n=>{e(n)&&t($s(n))},Fi=(e,t,n,o,s)=>{const r=ym(n,o);return e.dom.addEventListener(t,r,s),{unbind:cn(ll,e,t,r,s)}},Kl=(e,t,n,o)=>Fi(e,t,n,o,!1),Yl=(e,t,n,o)=>Fi(e,t,n,o,!0),ll=(e,t,n,o)=>{e.dom.removeEventListener(t,n,o)},Ii=st,Xo=(e,t,n)=>Kl(e,t,Ii,n),Xl=(e,t,n)=>Yl(e,t,Ii,n),od=$s,Sa=()=>Be.fromDom(document),jo=(e,t=!1)=>e.dom.focus({preventScroll:t}),ul=e=>e.dom.blur(),rc=e=>{const t=Is(e).dom;return e.dom===t.activeElement},Ca=(e=Sa())=>h.from(e.dom.activeElement).map(Be.fromDom),bs=e=>Ca(Is(e)).filter(t=>e.dom.contains(t.dom)),mi=(e,t)=>{ir(e).each(o=>{o.dom.insertBefore(t.dom,e.dom)})},sd=(e,t)=>{gm(e).fold(()=>{ir(e).each(s=>{lr(s,t)})},o=>{mi(o,t)})},rd=(e,t)=>{ui(e).fold(()=>{lr(e,t)},o=>{e.dom.insertBefore(t.dom,o.dom)})},lr=(e,t)=>{e.dom.appendChild(t.dom)},ad=(e,t,n)=>{$c(e,n).fold(()=>{lr(e,t)},o=>{mi(o,t)})},dl=(e,t)=>{_e(t,n=>{lr(e,n)})},cd=(e,t,n)=>{if(X(n)||Re(n)||Rt(n))e.setAttribute(t,n+"");else throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple")},Lt=(e,t,n)=>{cd(e.dom,t,n)},id=(e,t)=>{const n=e.dom;sn(t,(o,s)=>{cd(n,s,o)})},Qo=(e,t)=>{const n=e.dom.getAttribute(t);return n===null?void 0:n},es=(e,t)=>h.from(Qo(e,t)),ld=(e,t)=>{const n=e.dom;return n&&n.hasAttribute?n.hasAttribute(t):!1},Fo=(e,t)=>{e.dom.removeAttribute(t)},Jl=e=>On(e.dom.attributes,(t,n)=>(t[n.name]=n.value,t),{}),Ql=e=>{e.dom.textContent="",_e(Ws(e),t=>{Ur(t)})},Ur=e=>{const t=e.dom;t.parentNode!==null&&t.parentNode.removeChild(t)},ud=(e,t)=>Be.fromDom(e.dom.cloneNode(t)),eu=e=>ud(e,!1),tu=e=>ud(e,!0),ml=(e,t)=>{const o=(t||document).createElement("div");return o.innerHTML=e,Ws(Be.fromDom(o))},nu=e=>e.dom.innerHTML,Rc=(e,t)=>{const o=$r(e).dom,s=Be.fromDom(o.createDocumentFragment()),r=ml(t,o);dl(s,r),Ql(e),lr(e,s)},ou=e=>{const t=Be.fromTag("div"),n=Be.fromDom(e.dom.cloneNode(!0));return lr(t,n),nu(t)},su=e=>{if(Hc(e))return"#shadow-root";{const t=eu(e);return ou(t)}},hl=e=>new Promise((t,n)=>{const o=()=>{r(),t(e)},s=[Xo(e,"load",o),Xo(e,"error",()=>{r(),n("Unable to load data from image: "+e.dom.src)})],r=()=>_e(s,a=>a.unbind());e.dom.complete&&o()}),$i=e=>e.style!==void 0&&Se(e.style.getPropertyValue),ur=e=>{const t=Ic(e)?e.dom.parentNode:e.dom;if(t==null||t.ownerDocument===null)return!1;const n=t.ownerDocument;return il(Be.fromDom(t)).fold(()=>n.body.contains(t),Ae(ur,Di))},ac=()=>dd(Be.fromDom(document)),dd=e=>{const t=e.dom.body;if(t==null)throw new Error("Body is not available yet");return Be.fromDom(t)},ru=(e,t,n)=>{if(!X(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);$i(e)&&e.style.setProperty(t,n)},md=(e,t)=>{$i(e)&&e.style.removeProperty(t)},Vt=(e,t,n)=>{const o=e.dom;ru(o,t,n)},Lc=(e,t)=>{const n=e.dom;sn(t,(o,s)=>{ru(n,s,o)})},u=(e,t)=>{const n=e.dom;sn(t,(o,s)=>{o.fold(()=>{md(n,s)},r=>{ru(n,s,r)})})},p=(e,t)=>{const n=e.dom,s=window.getComputedStyle(n).getPropertyValue(t);return s===""&&!ur(e)?w(n,t):s},w=(e,t)=>$i(e)?e.style.getPropertyValue(t):"",H=(e,t)=>{const n=e.dom,o=w(n,t);return h.from(o).filter(s=>s.length>0)},Z=e=>{const t={},n=e.dom;if($i(n))for(let o=0;o<n.style.length;o++){const s=n.style.item(o);t[s]=n.style[s]}return t},Te=(e,t,n)=>{const o=Be.fromTag(e);return Vt(o,t,n),H(o,t).isSome()},Ne=(e,t)=>{const n=e.dom;md(n,t),dt(es(e,"style").map(va),"")&&Fo(e,"style")},Kt=e=>e.dom.offsetWidth,Yt=(e,t)=>{const n=(c,i)=>{if(!Rt(i)&&!i.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+i);const d=c.dom;$i(d)&&(d.style[e]=i+"px")},o=c=>{const i=t(c);if(i<=0||i===null){const d=p(c,e);return parseFloat(d)||0}return i},s=o,r=(c,i)=>On(i,(d,g)=>{const f=p(c,g),y=f===void 0?0:parseInt(f,10);return isNaN(y)?d:d+y},0);return{set:n,get:o,getOuter:s,aggregate:r,max:(c,i,d)=>{const g=r(c,d);return i>g?i-g:0}}},At=Yt("height",e=>{const t=e.dom;return ur(e)?t.getBoundingClientRect().height:t.offsetHeight}),pn=e=>At.get(e),ho=e=>At.getOuter(e),Ta=(e,t)=>{const n=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],o=At.max(e,t,n);Vt(e,"max-height",o+"px")},vs=e=>e.offsetWidth<=0&&e.offsetHeight<=0,Hi=e=>!vs(e.dom),hi=Yt("width",e=>e.dom.offsetWidth),au=Yt("width",e=>{const t=e.dom;return ur(e)?t.getBoundingClientRect().width:t.offsetWidth}),hd=(e,t)=>hi.set(e,t),yr=e=>hi.get(e),gl=e=>hi.getOuter(e),Vp=e=>au.getOuter(e),zp=(e,t)=>{const n=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],o=hi.max(e,t,n);Vt(e,"max-width",o+"px")},xm=(e,t)=>({left:e,top:t,translate:(o,s)=>xm(e+o,t+s)}),Mo=xm,Jv=e=>{const t=e.getBoundingClientRect();return Mo(t.left,t.top)},pl=(e,t)=>e!==void 0?e:t!==void 0?t:0,Hr=e=>{const t=e.dom.ownerDocument,n=t.body,o=t.defaultView,s=t.documentElement;if(n===e.dom)return Mo(n.offsetLeft,n.offsetTop);const r=pl(o==null?void 0:o.pageYOffset,s.scrollTop),a=pl(o==null?void 0:o.pageXOffset,s.scrollLeft),c=pl(s.clientTop,n.clientTop),i=pl(s.clientLeft,n.clientLeft);return fl(e).translate(a-i,r-c)},fl=e=>{const t=e.dom,o=t.ownerDocument.body;return o===t?Mo(o.offsetLeft,o.offsetTop):ur(e)?Jv(t):Mo(0,0)},Rr=e=>{const t=e!==void 0?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,o=t.body.scrollTop||t.documentElement.scrollTop;return Mo(n,o)},gd=(e,t,n)=>{const s=(n!==void 0?n.dom:document).defaultView;s&&s.scrollTo(e,t)},Zp=((e,t)=>{const n=r=>{if(!e(r))throw new Error("Can only get "+t+" value of a "+t+" node");return o(r).getOr("")},o=r=>e(r)?h.from(r.dom.nodeValue):h.none();return{get:n,getOption:o,set:(r,a)=>{if(!e(r))throw new Error("Can only set raw "+t+" value of a "+t+" node");r.dom.nodeValue=a}}})(Ic,"text"),Up=e=>Zp.get(e),wm=(e,t)=>n=>Wp(n)==="rtl"?t:e,Wp=e=>p(e,"direction")==="rtl"?"rtl":"ltr",Sm=(e,t)=>{const n=Qo(e,t);return n===void 0||n===""?[]:n.split(" ")},jp=(e,t,n)=>{const s=Sm(e,t).concat([n]);return Lt(e,t,s.join(" ")),!0},Wh=(e,t,n)=>{const o=jt(Sm(e,t),s=>s!==n);return o.length>0?Lt(e,t,o.join(" ")):Fo(e,t),!1};var jh=(e,t,n,o,s)=>e(n,o)?h.some(n):Se(s)&&s(n)?h.none():t(n,o,s);const Gh=(e,t,n)=>{let o=e.dom;const s=Se(n)?n:ue;for(;o.parentNode;){o=o.parentNode;const r=Be.fromDom(o);if(t(r))return h.some(r);if(s(r))break}return h.none()},qh=(e,t,n)=>jh((s,r)=>r(s),Gh,e,t,n),Gp=(e,t)=>{const n=e.dom;return n.parentNode?Kh(Be.fromDom(n.parentNode),o=>!dn(e,o)&&t(o)):h.none()},Kh=(e,t)=>{const n=s=>t(Be.fromDom(s));return ve(e.dom.childNodes,n).map(Be.fromDom)},qp=(e,t)=>{const n=o=>{for(let s=0;s<o.childNodes.length;s++){const r=Be.fromDom(o.childNodes[s]);if(t(r))return h.some(r);const a=n(o.childNodes[s]);if(a.isSome())return a}return h.none()};return n(e.dom)},Kp=e=>Zs(e),ja=(e,t,n)=>Gh(e,o=>qn(o,t),n),Yp=(e,t)=>Gp(e,n=>qn(n,t)),Cm=(e,t)=>Kh(e,n=>qn(n,t)),Qn=(e,t)=>Zs(t,e),cc=(e,t,n)=>jh((s,r)=>qn(s,r),ja,e,t,n),Xp=(e,t)=>{e.dom.checked=t},Jp=e=>e.dom.checked,bl=e=>e.dom.classList!==void 0,Tm=e=>Sm(e,"class"),Yh=(e,t)=>jp(e,"class",t),Xh=(e,t)=>Wh(e,"class",t),Qp=(e,t)=>Ee(Tm(e),t)?Xh(e,t):Yh(e,t),Ro=(e,t)=>{bl(e)?e.dom.classList.add(t):Yh(e,t)},Jh=e=>{(bl(e)?e.dom.classList:Tm(e)).length===0&&Fo(e,"class")},Lo=(e,t)=>{bl(e)?e.dom.classList.remove(t):Xh(e,t),Jh(e)},Qh=(e,t)=>{const n=bl(e)?e.dom.classList.toggle(t):Qp(e,t);return Jh(e),n},xr=(e,t)=>bl(e)&&e.dom.classList.contains(t),Ri=(e,t)=>{_e(t,n=>{Ro(e,n)})},ka=(e,t)=>{_e(t,n=>{Lo(e,n)})},ef=(e,t)=>{_e(t,n=>{Qh(e,n)})},tf=(e,t)=>Ft(t,n=>xr(e,n)),eg=e=>{const t=e.dom.classList,n=new Array(t.length);for(let o=0;o<t.length;o++){const s=t.item(o);s!==null&&(n[o]=s)}return n},tg=e=>bl(e)?eg(e):Tm(e),nf=e=>e.dom.textContent,ic=e=>e.dom.value,lc=(e,t)=>{if(t===void 0)throw new Error("Value.set was undefined");e.dom.value=t},cu=(e,t,n)=>jt(hm(e,n),t),js=(e,t)=>Jo(t,e),ng=(e,t,n)=>qh(e,t,n).isSome(),iu=(e,t,n)=>cc(e,t,n).isSome(),pd=e=>Se(e)?e:ue,og=(e,t,n)=>{let o=e.dom;const s=pd(n);for(;o.parentNode;){o=o.parentNode;const r=Be.fromDom(o),a=t(r);if(a.isSome())return a;if(s(r))break}return h.none()},fd=(e,t,n)=>{const o=t(e),s=pd(n);return o.orThunk(()=>s(e)?h.none():og(e,t,s))},l={create:(e,t,n,o)=>({start:e,soffset:t,finish:n,foffset:o})},m=Ko.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),v=(e,t,n,o)=>e.fold(t,n,o),M=e=>e.fold(Ve,Ve,Ve),j=m.before,pe=m.on,We=m.after,ht={before:j,on:pe,after:We,cata:v,getStart:M},Gt=Ko.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),vn=e=>Gt.exact(e.start,e.soffset,e.finish,e.foffset),go=e=>e.match({domRange:t=>Be.fromDom(t.startContainer),relative:(t,n)=>ht.getStart(t),exact:(t,n,o,s)=>t}),Po=Gt.domRange,ts=Gt.relative,ra=Gt.exact,gi=e=>{const t=go(e);return wa(t)},pi=l.create,Ga={domRange:Po,relative:ts,exact:ra,exactFromRange:vn,getWin:gi,range:pi},km=e=>h.from(e.getSelection()),lu=e=>{if(e.rangeCount>0){const t=e.getRangeAt(0),n=e.getRangeAt(e.rangeCount-1);return h.some(l.create(Be.fromDom(t.startContainer),t.startOffset,Be.fromDom(n.endContainer),n.endOffset))}else return h.none()},uu=e=>{if(e.anchorNode===null||e.focusNode===null)return lu(e);{const t=Be.fromDom(e.anchorNode),n=Be.fromDom(e.focusNode);return pm(t,e.anchorOffset,n,e.focusOffset)?h.some(l.create(t,e.anchorOffset,n,e.focusOffset)):lu(e)}},du=e=>km(e).filter(t=>t.rangeCount>0).bind(uu),bd=(e,t)=>{const n=k(e,t);return me(n)},vd=(e,t)=>{const n=k(e,t);return Le(n)},yd={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},of=(()=>{const e="[0-9]+",n="[eE]"+("[+-]?"+e),o="\\.",s=c=>`(?:${c})?`,a=`[+-]?(?:${["Infinity",e+o+s(e)+s(n),o+e+s(n),e+s(n)].join("|")})`;return new RegExp(`^(${a})(.*)$`)})(),sf=(e,t)=>Dt(t,n=>Dt(yd[n],o=>e===o)),Pn=(e,t)=>h.from(of.exec(e)).bind(o=>{const s=Number(o[1]),r=o[2];return sf(r,t)?h.some({value:s,unit:r}):h.none()}),No=(e,t)=>Pn(e,t).map(({value:n,unit:o})=>n+o),wr=e=>{const t=e===void 0?window:e;return fs().browser.isFirefox()?h.none():h.from(t.visualViewport)},Wr=(e,t,n,o)=>({x:e,y:t,width:n,height:o,right:e+n,bottom:t+o}),Om=e=>{const t=e===void 0?window:e,n=t.document,o=Rr(Be.fromDom(n));return wr(t).fold(()=>{const s=t.document.documentElement,r=s.clientWidth,a=s.clientHeight;return Wr(o.left,o.top,r,a)},s=>Wr(Math.max(s.pageLeft,o.left),Math.max(s.pageTop,o.top),s.width,s.height))},sg=(e,t)=>e.view(t).fold(A([]),o=>{const s=e.owner(o),r=sg(e,s);return[o].concat(r)}),xd=(e,t)=>{const n=t.owner(e),o=sg(t,n);return h.some(o)};var Ak=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?h.none():h.from((t=e.dom.defaultView)===null||t===void 0?void 0:t.frameElement)).map(Be.fromDom)},owner:e=>$r(e)});const rf=e=>{const t=Sa(),n=Rr(t);return xd(e,Ak).fold(cn(Hr,e),s=>{const r=fl(e),a=ln(s,(c,i)=>{const d=fl(i);return{left:c.left+d.left,top:c.top+d.top}},{left:0,top:0});return Mo(a.left+r.left+n.left,a.top+r.top+n.top)})},Ek=(e,t,n)=>({point:e,width:t,height:n}),Mk=(e,t,n,o)=>({x:e,y:t,width:n,height:o}),Hs=(e,t,n,o)=>({x:e,y:t,width:n,height:o,right:e+n,bottom:t+o}),Rs=e=>{const t=Hr(e),n=gl(e),o=ho(e);return Hs(t.left,t.top,n,o)},mu=e=>{const t=rf(e),n=gl(e),o=ho(e);return Hs(t.left,t.top,n,o)},af=(e,t)=>{const n=Math.max(e.x,t.x),o=Math.max(e.y,t.y),s=Math.min(e.right,t.right),r=Math.min(e.bottom,t.bottom),a=s-n,c=r-o;return Hs(n,o,a,c)},_k=(e,t)=>On(t,(n,o)=>af(n,o),e),Sr=()=>Om(window),ey=(e,t)=>dn(e.element,t.event.target),cf=e=>(dt(H(e,"position"),"fixed")?h.none():Gl(e)).orThunk(()=>{const o=Be.fromTag("span");return ir(e).bind(s=>{lr(s,o);const r=Gl(o);return Ur(o),r})}),ty=e=>cf(e).map(Hr).getOrThunk(()=>Mo(0,0)),Dk=(e,t)=>{const n=h.from(Qo(e,"id")).getOrThunk(()=>{const o=O("aria");return Lt(t,"id",o),o});Lt(e,"aria-describedby",n)},Fk=e=>{Fo(e,"aria-describedby")};var qa;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(qa||(qa={}));const lf=(e,t,n)=>e.stype===qa.Error?t(e.serror):n(e.svalue),Ik=e=>{const t=[],n=[];return _e(e,o=>{lf(o,s=>n.push(s),s=>t.push(s))}),{values:t,errors:n}},$k=(e,t)=>e.stype===qa.Error?{stype:qa.Error,serror:t(e.serror)}:e,Hk=(e,t)=>e.stype===qa.Value?{stype:qa.Value,svalue:t(e.svalue)}:e,Rk=(e,t)=>e.stype===qa.Value?t(e.svalue):e,Lk=(e,t)=>e.stype===qa.Error?t(e.serror):e,ny=e=>({stype:qa.Value,svalue:e}),oy=e=>({stype:qa.Error,serror:e}),as={fromResult:e=>e.fold(oy,ny),toResult:e=>lf(e,Ot.error,Ot.value),svalue:ny,partition:Ik,serror:oy,bind:Rk,bindError:Lk,map:Hk,mapError:$k,fold:lf},uf=e=>De(e)&&en(e).length>100?" removed due to size":JSON.stringify(e,null,2),Pk=e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:A("... (only showing first ten failures)")}]):e;return re(t,n=>"Failed path: ("+n.path.join(" > ")+`)
`+n.getErrorInfo())},Em=(e,t)=>as.serror([{path:e,getErrorInfo:t}]),Bk=(e,t,n)=>Em(e,()=>'Could not find valid *required* value for "'+t+'" in '+uf(n)),Nk=(e,t)=>Em(e,()=>'Choice schema did not contain choice key: "'+t+'"'),Vk=(e,t,n)=>Em(e,()=>'The chosen schema: "'+n+'" did not exist in branches: '+uf(t)),zk=(e,t)=>Em(e,()=>"There are unsupported fields: ["+t.join(", ")+"] specified"),Zk=(e,t)=>Em(e,A(t)),wd=e=>{const t=(o,s)=>as.bindError(e(s),r=>Zk(o,r)),n=A("val");return{extract:t,toString:n}},sy=wd(as.svalue),uc=A(sy),rg=(e,t)=>wd(n=>{const o=typeof n;return e(n)?as.svalue(n):as.serror(`Expected type: ${t} but got: ${o}`)}),ag=rg(Rt,"number"),ys=rg(X,"string"),cg=rg(Re,"boolean"),df=rg(Se,"function"),ry=e=>{if(Object(e)!==e)return!0;switch({}.toString.call(e).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(e).every(t=>ry(e[t]));default:return!1}},Uk=wd(e=>ry(e)?as.svalue(e):as.serror("Expected value to be acceptable for sending via postMessage")),Pc=()=>({tag:"required",process:{}}),ig=e=>({tag:"defaultedThunk",process:e}),lg=e=>ig(A(e)),mf=()=>({tag:"option",process:{}}),hf=e=>({tag:"mergeWithThunk",process:e}),Wk=e=>hf(A(e)),ay=(e,t,n,o)=>({tag:"field",key:e,newKey:t,presence:n,prop:o}),jk=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),gf=(e,t,n)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return n(e.newKey,e.instantiator)}},Gk=(e,t)=>e.length>0?as.svalue(ke(t,bt.apply(void 0,e))):as.svalue(t),cy=e=>on(as.serror,je)(e),iy={consolidateObj:(e,t)=>{const n=as.partition(e);return n.errors.length>0?cy(n.errors):Gk(n.values,t)},consolidateArr:e=>{const t=as.partition(e);return t.errors.length>0?cy(t.errors):as.svalue(t.values)}},qk=(e,t,n,o)=>lt(t,n).fold(()=>Bk(e,n,t),o),ly=(e,t,n,o)=>{const s=lt(e,t).getOrThunk(()=>n(e));return o(s)},Kk=(e,t,n)=>n(lt(e,t)),Yk=(e,t,n,o)=>{const s=lt(e,t).map(r=>r===!0?n(e):r);return o(s)},Xk=(e,t,n,o,s)=>{const r=c=>s.extract(t.concat([o]),c),a=c=>c.fold(()=>as.svalue(h.none()),i=>{const d=s.extract(t.concat([o]),i);return as.map(d,h.some)});switch(e.tag){case"required":return qk(t,n,o,r);case"defaultedThunk":return ly(n,o,e.process,r);case"option":return Kk(n,o,a);case"defaultedOptionThunk":return Yk(n,o,e.process,a);case"mergeWithThunk":return ly(n,o,A({}),c=>{const i=ke(e.process(n),c);return r(i)})}},Jk=(e,t,n)=>{const o={},s=[];for(const r of n)gf(r,(a,c,i,d)=>{const g=Xk(i,e,t,a,d);as.fold(g,f=>{s.push(...f)},f=>{o[c]=f})},(a,c)=>{o[a]=c(t)});return s.length>0?as.serror(s):as.svalue(o)},uy=e=>({extract:(o,s)=>e().extract(o,s),toString:()=>e().toString()}),Qk=e=>en(ao(e,Xe)),Oa=e=>{const t=Ht(e),n=ln(e,(s,r)=>gf(r,a=>ke(s,{[a]:!0}),A(s)),{});return{extract:(s,r)=>{const a=Re(r)?[]:Qk(r),c=jt(a,i=>!mo(n,i));return c.length===0?t.extract(s,r):zk(s,c)},toString:t.toString}},Ht=e=>({extract:(o,s)=>Jk(o,s,e),toString:()=>`obj{
`+re(e,s=>gf(s,(r,a,c,i)=>r+" -> "+i.toString(),(r,a)=>"state("+r+")")).join(`
`)+"}"}),vl=e=>({extract:(o,s)=>{const r=re(s,(a,c)=>e.extract(o.concat(["["+c+"]"]),a));return iy.consolidateArr(r)},toString:()=>"array("+e.toString()+")"}),ug=(e,t)=>{const n=t!==void 0?t:Ve;return{extract:(r,a)=>{const c=[];for(const i of e){const d=i.extract(r,a);if(d.stype===qa.Value)return{stype:qa.Value,svalue:n(d.svalue)};c.push(d)}return iy.consolidateArr(c)},toString:()=>"oneOf("+re(e,r=>r.toString()).join(", ")+")"}},eO=(e,t)=>{const n=(r,a)=>vl(wd(e)).extract(r,a);return{extract:(r,a)=>{const c=en(a),i=n(r,c);return as.bind(i,d=>{const g=re(d,f=>ay(f,f,Pc(),t));return Ht(g).extract(r,a)})},toString:()=>"setOf("+t.toString()+")"}},tO=(e,t)=>{const n=_s(t);return{extract:(r,a)=>n().extract(r,a),toString:()=>n().toString()}},dg=on(vl,Ht),nO=(e,t,n,o)=>lt(n,o).fold(()=>Vk(e,n,o),r=>r.extract(e.concat(["branch: "+o]),t)),Sd=(e,t)=>({extract:(s,r)=>lt(r,e).fold(()=>Nk(s,e),c=>nO(s,r,t,c)),toString:()=>"chooseOn("+e+"). Possible values: "+en(t)}),oO=()=>vl(sy),Mm=e=>wd(t=>e(t).fold(as.serror,as.svalue)),dy=(e,t)=>eO(n=>as.fromResult(e(n)),t),sO=(e,t,n)=>{const o=t.extract([e],n);return as.mapError(o,s=>({input:n,errors:s}))},Vo=(e,t,n)=>as.toResult(sO(e,t,n)),dc=e=>e.fold(t=>{throw new Error(Cd(t))},Ve),jr=(e,t,n)=>dc(Vo(e,t,n)),Cd=e=>`Errors: 
`+Pk(e.errors).join(`
`)+`

Input object: `+uf(e.input),Gr=(e,t)=>Sd(e,ge(t,Ht)),my=(e,t)=>tO(e,t),Gs=ay,Lr=jk,pf=e=>Mm(t=>Ee(e,t)?Ot.value(t):Ot.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`)),ye=e=>Gs(e,e,Pc(),uc()),Aa=(e,t)=>Gs(e,e,Pc(),t),hy=e=>Aa(e,ag),xs=e=>Aa(e,ys),mc=(e,t)=>Gs(e,e,Pc(),pf(t)),hc=e=>Aa(e,df),rO=(e,t)=>Gs(e,e,mf(),wd(n=>as.serror("The field: "+e+" is forbidden. "+t))),Li=(e,t)=>Gs(e,e,Pc(),Ht(t)),gy=(e,t)=>Gs(e,e,Pc(),dg(t)),aa=(e,t)=>Gs(e,e,Pc(),vl(t)),Zn=e=>Gs(e,e,mf(),uc()),fi=(e,t)=>Gs(e,e,mf(),t),_m=e=>fi(e,ag),ns=e=>fi(e,ys),py=(e,t)=>fi(e,pf(t)),Pi=e=>fi(e,df),fy=(e,t)=>fi(e,vl(t)),ca=(e,t)=>fi(e,Ht(t)),aO=(e,t)=>fi(e,Oa(t)),ee=(e,t)=>Gs(e,e,lg(t),uc()),Ka=(e,t,n)=>Gs(e,e,lg(t),n),ff=(e,t)=>Ka(e,t,ag),zo=(e,t)=>Ka(e,t,ys),Bc=(e,t,n)=>Ka(e,t,pf(n)),dr=(e,t)=>Ka(e,t,cg),bo=(e,t)=>Ka(e,t,df),cO=(e,t)=>Ka(e,t,Uk),yl=(e,t,n)=>Ka(e,t,vl(n)),bf=(e,t,n)=>Ka(e,t,Ht(n)),iO=(e,t)=>{const n={};return sn(e,(o,s)=>{Ee(t,s)||(n[s]=o)}),n},lO=(e,t)=>({[e]:t}),uO=e=>{const t={};return _e(e,n=>{t[n.key]=n.value}),t},dO=(e,t)=>iO(e,t),hu=(e,t)=>lO(e,t),Td=e=>uO(e),mO=(e,t)=>e.length===0?Ot.value(t):Ot.value(ke(t,bt.apply(void 0,e))),hO=e=>Ot.error(je(e)),gO=(e,t)=>{const n=Wn(e);return n.errors.length>0?hO(n.errors):mO(n.values,t)},qs=A,Bi=qs("touchstart"),Dm=qs("touchmove"),gu=qs("touchend"),by=qs("touchcancel"),Ea=qs("mousedown"),mg=qs("mousemove"),hg=qs("mouseout"),vf=qs("mouseup"),bi=qs("mouseover"),gc=qs("focusin"),vy=qs("focusout"),Nc=qs("keydown"),pO=qs("keyup"),Ni=qs("input"),kd=qs("change"),pu=qs("click"),fO=qs("transitioncancel"),Fm=qs("transitionend"),bO=qs("transitionstart"),vO=qs("selectstart"),os=e=>A("alloy."+e),yO={tap:os("tap")},xl=os("focus"),Im=os("blur.post"),yf=os("paste.post"),fu=os("receive"),Ma=os("execute"),$m=os("focus.item"),Hm=yO.tap,xO=os("longpress"),gg=os("sandbox.close"),xf=os("typeahead.cancel"),pg=os("system.init"),wO=os("system.touchmove"),SO=os("system.touchend"),wf=os("system.scroll"),Rm=os("system.resize"),Vc=os("system.attached"),vi=os("system.detached"),bu=os("system.dismissRequested"),yy=os("system.repositionRequested"),fg=os("focusmanager.shifted"),Sf=os("slotcontainer.visibility"),xy=os("system.external.element.scroll"),wy=os("change.tab"),Sy=os("dismiss.tab"),Cf=os("highlight"),Tf=os("dehighlight"),wl=e=>su(e),Cy="unknown";var Od;(function(e){e[e.STOP=0]="STOP",e[e.NORMAL=1]="NORMAL",e[e.LOGGING=2]="LOGGING"})(Od||(Od={}));const kf=ot({}),CO=(e,t)=>{const n=[],o=new Date().getTime();return{logEventCut:(s,r,a)=>{n.push({outcome:"cut",target:r,purpose:a})},logEventStopped:(s,r,a)=>{n.push({outcome:"stopped",target:r,purpose:a})},logNoParent:(s,r,a)=>{n.push({outcome:"no-parent",target:r,purpose:a})},logEventNoHandlers:(s,r)=>{n.push({outcome:"no-handlers-left",target:r})},logEventResponse:(s,r,a)=>{n.push({outcome:"response",purpose:a,target:r})},write:()=>{const s=new Date().getTime();Ee(["mousemove","mouseover","mouseout",pg()],e)||console.log(e,{event:e,time:s-o,target:t.dom,sequence:re(n,r=>Ee(["cut","stopped","response"],r.outcome)?"{"+r.purpose+"} "+r.outcome+" at ("+wl(r.target)+")":r.outcome)})}}},TO=(e,t,n)=>{switch(lt(kf.get(),e).orThunk(()=>{const s=en(kf.get());return kt(s,r=>e.indexOf(r)>-1?h.some(kf.get()[r]):h.none())}).getOr(Od.NORMAL)){case Od.NORMAL:return n(EO());case Od.LOGGING:{const s=CO(e,t),r=n(s);return s.write(),r}case Od.STOP:return!0}},kO=["alloy/data/Fields","alloy/debugging/Debugging"],OO=()=>{const e=new Error;if(e.stack!==void 0){const t=e.stack.split(`
`);return ve(t,n=>n.indexOf("alloy")>0&&!Dt(kO,o=>n.indexOf(o)>-1)).getOr(Cy)}else return Cy},AO={logEventCut:ce,logEventStopped:ce,logNoParent:ce,logEventNoHandlers:ce,logEventResponse:ce,write:ce},Of=(e,t,n)=>TO(e,t,n),EO=A(AO),Ty=A([ye("menu"),ye("selectedMenu")]),Af=A([ye("item"),ye("selectedItem")]);A(Ht(Af().concat(Ty())));const MO=A(Ht(Af())),_O=Li("initSize",[ye("numColumns"),ye("numRows")]),DO=()=>Aa("markers",MO()),bg=()=>Li("markers",[ye("backgroundMenu")].concat(Ty()).concat(Af())),vu=e=>Li("markers",re(e,ye)),vg=(e,t,n)=>(OO(),Gs(t,t,n,Mm(o=>Ot.value((...s)=>o.apply(void 0,s))))),$n=e=>vg("onHandler",e,lg(ce)),ia=e=>vg("onKeyboardHandler",e,lg(h.none)),yu=e=>vg("onHandler",e,Pc()),Ef=e=>vg("onKeyboardHandler",e,Pc()),_o=(e,t)=>Lr(e,A(t)),ky=e=>Lr(e,Ve),Oy=A(_O),FO=(e,t,n)=>{const o=n.toString(),s=o.indexOf(")")+1,r=o.indexOf("("),a=o.substring(r+1,s-1).split(/,\s*/);return e.toFunctionAnnotation=()=>({name:t,parameters:Mf(a.slice(0,1).concat(a.slice(3)))}),e},Mf=e=>re(e,t=>or(t,"/*")?t.substring(0,t.length-2):t),_f=(e,t)=>{const n=e.toString(),o=n.indexOf(")")+1,s=n.indexOf("("),r=n.substring(s+1,o-1).split(/,\s*/);return e.toFunctionAnnotation=()=>({name:t,parameters:Mf(r)}),e},IO=(e,t)=>{const n=t.toString(),o=n.indexOf(")")+1,s=n.indexOf("("),r=n.substring(s+1,o-1).split(/,\s*/);return e.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:Mf(r.slice(1))}),e},Ay=(e,t)=>{let n=null;return{cancel:()=>{n!==null&&(clearTimeout(n),n=null)},schedule:(...r)=>{n=setTimeout(()=>{e.apply(null,r),n=null},t)}}},Ey=5,$O=400,My=e=>{const t=e.raw;return t.touches===void 0||t.touches.length!==1?h.none():h.some(t.touches[0])},HO=(e,t)=>{const n=Math.abs(e.clientX-t.x),o=Math.abs(e.clientY-t.y);return n>Ey||o>Ey},RO=e=>{const t=kn(),n=ot(!1),o=Ay(d=>{e.triggerEvent(xO(),d),n.set(!0)},$O),s=d=>(My(d).each(g=>{o.cancel();const f={x:g.clientX,y:g.clientY,target:d.target};o.schedule(d),n.set(!1),t.set(f)}),h.none()),r=d=>(o.cancel(),My(d).each(g=>{t.on(f=>{HO(g,f)&&t.clear()})}),h.none()),a=d=>{o.cancel();const g=f=>dn(f.target,d.target);return t.get().filter(g).map(f=>n.get()?(d.prevent(),!1):e.triggerEvent(Hm(),d))},c=Td([{key:Bi(),value:s},{key:Dm(),value:r},{key:gu(),value:a}]);return{fireIfReady:(d,g)=>lt(c,g).bind(f=>f(d))}};var Sl;(function(e){e.OnFocusMode="onFocus",e.OnEnterOrSpaceMode="onEnterOrSpace",e.OnApiMode="onApi"})(Sl||(Sl={}));const _y="placeholder",yg=Ko.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),Df=e=>Nt(e,"uiType"),LO=(e,t,n,o)=>e.exists(s=>s!==n.owner)?yg.single(!0,A(n)):lt(o,n.name).fold(()=>{throw new Error("Unknown placeholder component: "+n.name+`
Known: [`+en(o)+`]
Namespace: `+e.getOr("none")+`
Spec: `+JSON.stringify(n,null,2))},s=>s.replace()),PO=(e,t,n,o)=>Df(n)&&n.uiType===_y?LO(e,t,n,o):yg.single(!1,A(n)),Dy=(e,t,n,o)=>PO(e,t,n,o).fold((r,a)=>{const c=Df(n)?a(t,n.config,n.validated):a(t),i=lt(c,"components").getOr([]),d=Tt(i,g=>Dy(e,t,g,o));return[{...c,components:d}]},(r,a)=>{if(Df(n)){const c=a(t,n.config,n.validated);return n.validated.preprocess.getOr(Ve)(c)}else return a(t)}),BO=(e,t,n,o)=>Tt(n,s=>Dy(e,t,s,o)),NO=(e,t)=>{let n=!1;const o=()=>n,s=()=>{if(n)throw new Error("Trying to use the same placeholder more than once: "+e);return n=!0,t},r=()=>t.fold((a,c)=>a,(a,c)=>a);return{name:A(e),required:r,used:o,replace:s}},VO=(e,t,n,o)=>{const s=ge(o,(a,c)=>NO(c,a)),r=BO(e,t,n,s);return sn(s,a=>{if(a.used()===!1&&a.required())throw new Error("Placeholder: "+a.name()+` was not found in components list
Namespace: `+e.getOr("none")+`
Components: `+JSON.stringify(t.components,null,2))}),r},Fy=yg.single,zO=yg.multiple,Iy=A(_y),xg=Ko.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),wg=ee("factory",{sketch:Ve}),Ff=ee("schema",[]),Sg=ye("name"),If=Gs("pname","pname",ig(e=>"<alloy."+O(e.name)+">"),uc()),ZO=Lr("schema",()=>[Zn("preprocess")]),Cg=ee("defaults",A({})),Tg=ee("overrides",A({})),UO=Ht([wg,Ff,Sg,If,Cg,Tg]),WO=Ht([wg,Ff,Sg,Cg,Tg]),jO=Ht([wg,Ff,Sg,If,Cg,Tg]),GO=Ht([wg,ZO,Sg,ye("unit"),If,Cg,Tg]),$y=e=>e.fold(h.some,h.none,h.some,h.some),Hy=e=>{const t=n=>n.name;return e.fold(t,t,t,t)},qO=e=>e.fold(Ve,Ve,Ve,Ve),kg=(e,t)=>n=>{const o=jr("Converting part type",t,n);return e(o)},mr=kg(xg.required,UO),pc=kg(xg.external,WO),Ya=kg(xg.optional,jO),Og=kg(xg.group,GO),$f=A("entirety");var KO=Object.freeze({__proto__:null,required:mr,external:pc,optional:Ya,group:Og,asNamedPart:$y,name:Hy,asCommon:qO,original:$f});const Hf=(e,t,n,o)=>ke(t.defaults(e,n,o),n,{uid:e.partUids[t.name]},t.overrides(e,n,o)),YO=(e,t,n)=>{const o={},s={};return _e(n,r=>{r.fold(a=>{o[a.pname]=Fy(!0,(c,i,d)=>a.factory.sketch(Hf(c,a,i,d)))},a=>{const c=t.parts[a.name];s[a.name]=A(a.factory.sketch(Hf(t,a,c[$f()]),c))},a=>{o[a.pname]=Fy(!1,(c,i,d)=>a.factory.sketch(Hf(c,a,i,d)))},a=>{o[a.pname]=zO(!0,(c,i,d)=>{const g=c[a.name];return re(g,f=>a.factory.sketch(ke(a.defaults(c,f,d),f,a.overrides(c,f))))})})}),{internals:A(o),externals:A(s)}},Rf=(e,t)=>{const n={};return _e(t,o=>{$y(o).each(s=>{const r=XO(e,s.pname);n[s.name]=a=>{const c=jr("Part: "+s.name+" in "+e,Ht(s.schema),a);return{...r,config:a,validated:c}}})}),n},XO=(e,t)=>({uiType:Iy(),owner:e,name:t}),Lf=(e,t,n)=>({uiType:Iy(),owner:e,name:t,config:n,validated:{}}),Ry=e=>Tt(e,t=>t.fold(h.none,h.some,h.none,h.none).map(n=>Li(n.name,n.schema.concat([ky($f())]))).toArray()),Ly=e=>re(e,Hy),Pf=(e,t,n)=>YO(e,t,n),Bf=(e,t,n)=>VO(h.some(e),t,t.components,n),io=(e,t,n)=>{const o=t.partUids[n];return e.getSystem().getByUid(o).toOptional()},Cl=(e,t,n)=>io(e,t,n).getOrDie("Could not find part: "+n),Py=(e,t,n)=>{const o={},s=t.partUids,r=e.getSystem();return _e(n,a=>{o[a]=A(r.getByUid(s[a]))}),o},By=(e,t)=>{const n=e.getSystem();return ge(t.partUids,(o,s)=>A(n.getByUid(o)))},Ny=e=>en(e.partUids),Nf=(e,t,n)=>{const o={},s=t.partUids,r=e.getSystem();return _e(n,a=>{o[a]=A(r.getByUid(s[a]).getOrDie())}),o},Vy=(e,t)=>{const n=Ly(t);return Td(re(n,o=>({key:o,value:e+"-"+o})))},Vf=e=>Gs("partUids","partUids",hf(t=>Vy(t.uid,e)),uc());var JO=Object.freeze({__proto__:null,generate:Rf,generateOne:Lf,schemas:Ry,names:Ly,substitutes:Pf,components:Bf,defaultUids:Vy,defaultUidsSchema:Vf,getAllParts:By,getAllPartNames:Ny,getPart:io,getPartOrDie:Cl,getParts:Py,getPartsOrDie:Nf});const QO=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],fc=(e,t,n,o=1)=>{const s=e*o,r=t*o,a=i=>lt(n,i).getOr([]),c=(i,d,g)=>{const f=no(QO,g);return{offset:Mo(i,d),classesOn:Tt(g,a),classesOff:Tt(f,a)}};return{southeast:()=>c(-e,t,["top","alignLeft"]),southwest:()=>c(e,t,["top","alignRight"]),south:()=>c(-e/2,t,["top","alignCentre"]),northeast:()=>c(-e,-t,["bottom","alignLeft"]),northwest:()=>c(e,-t,["bottom","alignRight"]),north:()=>c(-e/2,-t,["bottom","alignCentre"]),east:()=>c(e,-t/2,["valignCentre","left"]),west:()=>c(-e,-t/2,["valignCentre","right"]),insetNortheast:()=>c(s,r,["top","alignLeft","inset"]),insetNorthwest:()=>c(-s,r,["top","alignRight","inset"]),insetNorth:()=>c(-s/2,r,["top","alignCentre","inset"]),insetSoutheast:()=>c(s,-r,["bottom","alignLeft","inset"]),insetSouthwest:()=>c(-s,-r,["bottom","alignRight","inset"]),insetSouth:()=>c(-s/2,-r,["bottom","alignCentre","inset"]),insetEast:()=>c(-s,-r/2,["valignCentre","right","inset"]),insetWest:()=>c(s,-r/2,["valignCentre","left","inset"])}},Ag=()=>fc(0,0,{}),Ks=(e,t,n,o,s,r,a,c=!1)=>({x:e,y:t,bubble:n,direction:o,placement:s,restriction:r,label:`${a}-${s}`,alwaysFit:c}),Tl=Ko.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),eA=(e,t,n,o,s,r,a,c,i)=>e.fold(t,n,o,s,r,a,c,i),tA=(e,t,n,o)=>e.fold(t,t,o,o,t,o,n,n),nA=(e,t,n,o)=>e.fold(t,o,t,o,n,n,t,o),Eg=Tl.southeast,zf=Tl.southwest,Zf=Tl.northeast,Uf=Tl.northwest,zy=Tl.south,Zy=Tl.north,Uy=Tl.east,Wy=Tl.west,oA=(e,t)=>{switch(t){case 1:return e.x;case 0:return e.x+e.width;case 2:return e.y;case 3:return e.y+e.height}},Ys=(e,t)=>ro(["left","right","top","bottom"],n=>lt(t,n).map(o=>oA(e,o))),sA=(e,t,n)=>{const o=(i,d)=>t[i].map(g=>{const f=i==="top"||i==="bottom",y=f?n.top:n.left,_=(i==="left"||i==="top"?Math.max:Math.min)(g,d)+y;return f?fn(_,e.y,e.bottom):fn(_,e.x,e.right)}).getOr(d),s=o("left",e.x),r=o("top",e.y),a=o("right",e.right),c=o("bottom",e.bottom);return Hs(s,r,a-s,c-r)},kl="layout",jy=e=>e.x,Gy=(e,t)=>e.x+e.width/2-t.width/2,qy=(e,t)=>e.x+e.width-t.width,Wf=(e,t)=>e.y-t.height,jf=e=>e.y+e.height,Ky=(e,t)=>e.y+e.height/2-t.height/2,rA=e=>e.x+e.width,aA=(e,t)=>e.x-t.width,is=(e,t,n)=>Ks(jy(e),jf(e),n.southeast(),Eg(),"southeast",Ys(e,{left:1,top:3}),kl),ls=(e,t,n)=>Ks(qy(e,t),jf(e),n.southwest(),zf(),"southwest",Ys(e,{right:0,top:3}),kl),Xs=(e,t,n)=>Ks(jy(e),Wf(e,t),n.northeast(),Zf(),"northeast",Ys(e,{left:1,bottom:2}),kl),Js=(e,t,n)=>Ks(qy(e,t),Wf(e,t),n.northwest(),Uf(),"northwest",Ys(e,{right:0,bottom:2}),kl),Ts=(e,t,n)=>Ks(Gy(e,t),Wf(e,t),n.north(),Zy(),"north",Ys(e,{bottom:2}),kl),us=(e,t,n)=>Ks(Gy(e,t),jf(e),n.south(),zy(),"south",Ys(e,{top:3}),kl),Gf=(e,t,n)=>Ks(rA(e),Ky(e,t),n.east(),Uy(),"east",Ys(e,{left:0}),kl),qf=(e,t,n)=>Ks(aA(e,t),Ky(e,t),n.west(),Wy(),"west",Ys(e,{right:1}),kl),Yy=()=>[is,ls,Xs,Js,us,Ts,Gf,qf],Xy=()=>[ls,is,Js,Xs,us,Ts,Gf,qf],Jy=()=>[Xs,Js,is,ls,Ts,us],Qy=()=>[Js,Xs,ls,is,Ts,us],Kf=()=>[is,ls,Xs,Js,us,Ts],Yf=()=>[ls,is,Js,Xs,us,Ts],Xf="data-alloy-placement",cA=(e,t)=>{Lt(e,Xf,t)},e4=e=>es(e,Xf),iA=e=>Fo(e,Xf),Ol="layout-inset",Jf=e=>e.x,t4=(e,t)=>e.x+e.width/2-t.width/2,Qf=(e,t)=>e.x+e.width-t.width,e0=e=>e.y,t0=(e,t)=>e.y+e.height-t.height,n4=(e,t)=>e.y+e.height/2-t.height/2,Mg=(e,t,n)=>Ks(Qf(e,t),t0(e,t),n.insetSouthwest(),Uf(),"southwest",Ys(e,{right:0,bottom:3}),Ol),_g=(e,t,n)=>Ks(Jf(e),t0(e,t),n.insetSoutheast(),Zf(),"southeast",Ys(e,{left:1,bottom:3}),Ol),Lm=(e,t,n)=>Ks(Qf(e,t),e0(e),n.insetNorthwest(),zf(),"northwest",Ys(e,{right:0,top:2}),Ol),Pm=(e,t,n)=>Ks(Jf(e),e0(e),n.insetNortheast(),Eg(),"northeast",Ys(e,{left:1,top:2}),Ol),bc=(e,t,n)=>Ks(t4(e,t),e0(e),n.insetNorth(),zy(),"north",Ys(e,{top:2}),Ol),Bm=(e,t,n)=>Ks(t4(e,t),t0(e,t),n.insetSouth(),Zy(),"south",Ys(e,{bottom:3}),Ol),o4=(e,t,n)=>Ks(Qf(e,t),n4(e,t),n.insetEast(),Wy(),"east",Ys(e,{right:0}),Ol),s4=(e,t,n)=>Ks(Jf(e),n4(e,t),n.insetWest(),Uy(),"west",Ys(e,{left:1}),Ol),lA=e=>{switch(e){case"north":return bc;case"northeast":return Pm;case"northwest":return Lm;case"south":return Bm;case"southeast":return _g;case"southwest":return Mg;case"east":return o4;case"west":return s4}},r4=(e,t,n,o,s)=>e4(o).map(lA).getOr(bc)(e,t,n,o,s),uA=e=>{switch(e){case"north":return Bm;case"northeast":return _g;case"northwest":return Mg;case"south":return bc;case"southeast":return Pm;case"southwest":return Lm;case"east":return s4;case"west":return o4}},dA=(e,t,n,o,s)=>e4(o).map(uA).getOr(bc)(e,t,n,o,s),a4=(e,t)=>{Ta(e,Math.floor(t))},c4=A((e,t)=>{a4(e,t),Lc(e,{"overflow-x":"hidden","overflow-y":"auto"})}),Ad=A((e,t)=>{a4(e,t)}),n0=A((e,t)=>{zp(e,Math.floor(t))});var Vi;(function(e){e.TopToBottom="toptobottom",e.BottomToTop="bottomtotop"})(Vi||(Vi={}));const o0="data-alloy-vertical-dir",mA=e=>ng(e,t=>br(t)&&Qo(t,"data-alloy-vertical-dir")===Vi.BottomToTop);var Pr;(function(e){e[e.HighlightMenuAndItem=0]="HighlightMenuAndItem",e[e.HighlightJustMenu=1]="HighlightJustMenu",e[e.HighlightNone=2]="HighlightNone"})(Pr||(Pr={}));const zc={init:()=>_a({readState:A("No State required")})},_a=e=>e,hA={can:st,abort:ue,run:ce},Ed=e=>{if(!mo(e,"can")&&!mo(e,"abort")&&!mo(e,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(e,null,2)+" does not have can, abort, or run!");return{...hA,...e}},gA=(e,t)=>(...n)=>On(e,(o,s)=>o&&t(s).apply(void 0,n),!0),pA=(e,t)=>(...n)=>On(e,(o,s)=>o||t(s).apply(void 0,n),!1),fA=e=>Se(e)?{can:st,abort:ue,run:e}:e,bA=e=>{const t=gA(e,s=>s.can),n=pA(e,s=>s.abort);return{can:t,abort:n,run:(...s)=>{_e(e,r=>{r.run.apply(void 0,s)})}}},Cn=(e,t)=>{r0(e,e.element,t,{})},Ct=(e,t,n)=>{r0(e,e.element,t,n)},xu=e=>{Cn(e,Ma())},s0=(e,t,n)=>{r0(e,t,n,{})},r0=(e,t,n,o)=>{const s={target:t,...o};e.getSystem().triggerEvent(n,t,s)},vA=(e,t,n,o)=>{const s={...o,target:t};e.getSystem().triggerEvent(n,t,s)},i4=(e,t,n,o)=>{e.getSystem().triggerEvent(n,t,o.event)},Co=e=>Td(e),l4=(e,t)=>({key:e,value:Ed({abort:t})}),yA=(e,t)=>({key:e,value:Ed({can:t})}),xA=e=>({key:e,value:Ed({run:(t,n)=>{n.event.prevent()}})}),le=(e,t)=>({key:e,value:Ed({run:t})}),a0=(e,t,n)=>({key:e,value:Ed({run:(o,s)=>{t.apply(void 0,[o,s].concat(n))}})}),wA=e=>t=>le(e,t),Dg=e=>t=>({key:e,value:Ed({run:(n,o)=>{ey(n,o)&&t(n,o)}})}),SA=(e,t)=>le(e,(n,o)=>{n.getSystem().getByUid(t).each(s=>{i4(s,s.element,e,o)})}),Md=(e,t,n)=>{const o=t.partUids[n];return SA(e,o)},c0=(e,t)=>le(e,(n,o)=>{const s=o.event,r=n.getSystem().getByDom(s.target).getOrThunk(()=>fd(s.target,c=>n.getSystem().getByDom(c).toOptional(),ue).getOr(n));t(n,r,o)}),wu=e=>le(e,(t,n)=>{n.cut()}),CA=e=>le(e,(t,n)=>{n.stop()}),_d=(e,t)=>Dg(e)(t),vo=Dg(Vc()),Zc=Dg(vi()),u4=Dg(pg()),zi=wA(Ma()),vc=e=>({classes:Qe(e.classes)?[]:e.classes,attributes:Qe(e.attributes)?{}:e.attributes,styles:Qe(e.styles)?{}:e.styles}),TA=(e,t)=>({...e,attributes:{...e.attributes,...t.attributes},styles:{...e.styles,...t.styles},classes:e.classes.concat(t.classes)}),kA=(e,t,n)=>zi(o=>{n(o,e,t)}),i0=(e,t,n)=>u4((o,s)=>{n(o,e,t)}),OA=(e,t,n,o,s,r)=>{const a=Oa(e),c=ca(t,[aO("config",e)]);return d4(a,c,t,n,o,s,r)},AA=(e,t,n,o,s,r)=>{const a=e,c=ca(t,[fi("config",e)]);return d4(a,c,t,n,o,s,r)},EA=(e,t,n)=>FO((s,...r)=>{const a=[s].concat(r);return s.config({name:A(e)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+e+". Using API: "+n)},c=>{const i=Array.prototype.slice.call(a,1);return t.apply(void 0,[s,c.config,c.state].concat(i))})},n,t),MA=e=>({key:e,value:void 0}),d4=(e,t,n,o,s,r,a)=>{const c=f=>mo(f,n)?f[n]():h.none(),i=ge(s,(f,y)=>EA(n,f,y)),g={...ge(r,(f,y)=>_f(f,y)),...i,revoke:cn(MA,n),config:f=>{const y=jr(n+"-config",e,f);return{key:n,value:{config:y,me:g,configAsRaw:_s(()=>jr(n+"-config",e,f)),initialConfig:f,state:a}}},schema:A(t),exhibit:(f,y)=>Dn(c(f),lt(o,"exhibit"),(T,_)=>_(y,T.config,T.state)).getOrThunk(()=>vc({})),name:A(n),handlers:f=>c(f).map(y=>lt(o,"events").getOr(()=>({}))(y.config,y.state)).getOr({})};return g},Fe=e=>Td(e),_A=Oa([ye("fields"),ye("name"),ee("active",{}),ee("apis",{}),ee("state",zc),ee("extra",{})]),Ls=e=>{const t=jr("Creating behaviour: "+e.name,_A,e);return OA(t.fields,t.name,t.active,t.apis,t.extra,t.state)},DA=Oa([ye("branchKey"),ye("branches"),ye("name"),ee("active",{}),ee("apis",{}),ee("state",zc),ee("extra",{})]),m4=e=>{const t=jr("Creating behaviour: "+e.name,DA,e);return AA(Gr(t.branchKey,t.branches),t.name,t.active,t.apis,t.extra,t.state)},FA=A(void 0),IA=(e,t)=>{const n=Co(t);return Ls({fields:[ye("enabled")],name:e,active:{events:A(n)}})},Pt=(e,t)=>{const n=IA(e,t);return{key:e,value:{config:{},me:n,configAsRaw:A({}),initialConfig:{},state:zc}}},$A=e=>({init:()=>{const n=ot(e);return{get:()=>n.get(),set:c=>n.set(c),clear:()=>n.set(e),readState:()=>n.get()}}}),h4=(e,t)=>{t.ignore||(jo(e.element),t.onFocus(e))};var HA=Object.freeze({__proto__:null,focus:h4,blur:(e,t)=>{t.ignore||ul(e.element)},isFocused:e=>rc(e.element)}),RA=Object.freeze({__proto__:null,exhibit:(e,t)=>{const n=t.ignore?{}:{attributes:{tabindex:"-1"}};return vc(n)},events:e=>Co([le(xl(),(t,n)=>{h4(t,e),n.stop()})].concat(e.stopMousedown?[le(Ea(),(t,n)=>{n.event.prevent()})]:[]))}),LA=[$n("onFocus"),ee("stopMousedown",!1),ee("ignore",!1)];const It=Ls({fields:LA,name:"focusing",active:RA,apis:HA}),PA=[8],Zi=[9],yi=[13],Fg=[27],la=[32],Ig=[37],Nm=[38],$g=[39],Dd=[40],BA=(e,t,n)=>{const o=In(e.slice(0,t)),s=In(e.slice(t+1));return ve(o.concat(s),n)},NA=(e,t,n)=>{const o=In(e.slice(0,t));return ve(o,n)},VA=(e,t,n)=>{const o=e.slice(0,t),s=e.slice(t+1);return ve(s.concat(o),n)},zA=(e,t,n)=>{const o=e.slice(t+1);return ve(o,n)},Fn=e=>t=>{const n=t.raw;return Ee(e,n.which)},Uc=e=>t=>Ft(e,n=>n(t)),Su=e=>e.raw.shiftKey===!0,ZA=e=>e.raw.ctrlKey===!0,Vm=Xt(Su),Bn=(e,t)=>({matches:e,classification:t}),UA=(e,t)=>ve(e,o=>o.matches(t)).map(o=>o.classification),g4=(e,t,n,o)=>{const s=js(e.element,"."+t.highlightClass);_e(s,r=>{Dt(o,c=>dn(c.element,r))||(Lo(r,t.highlightClass),e.getSystem().getByDom(r).each(c=>{t.onDehighlight(e,c),Cn(c,Tf())}))})},WA=(e,t,n)=>g4(e,t,n,[]),jA=(e,t,n,o)=>{l0(e,t,n,o)&&(Lo(o.element,t.highlightClass),t.onDehighlight(e,o),Cn(o,Tf()))},zm=(e,t,n,o)=>{g4(e,t,n,[o]),l0(e,t,n,o)||(Ro(o.element,t.highlightClass),t.onHighlight(e,o),Cn(o,Cf()))},GA=(e,t,n)=>{p4(e,t).each(o=>{zm(e,t,n,o)})},qA=(e,t,n)=>{f4(e,t).each(o=>{zm(e,t,n,o)})},KA=(e,t,n,o)=>{JA(e,t,n,o).fold(s=>{throw s},s=>{zm(e,t,n,s)})},YA=(e,t,n,o)=>{const s=v4(e,t);ve(s,o).each(a=>{zm(e,t,n,a)})},l0=(e,t,n,o)=>xr(o.element,t.highlightClass),XA=(e,t,n)=>Qn(e.element,"."+t.highlightClass).bind(o=>e.getSystem().getByDom(o).toOptional()),JA=(e,t,n,o)=>{const s=js(e.element,"."+t.itemClass);return h.from(s[o]).fold(()=>Ot.error(new Error("No element found with index "+o)),e.getSystem().getByDom)},p4=(e,t,n)=>Qn(e.element,"."+t.itemClass).bind(o=>e.getSystem().getByDom(o).toOptional()),f4=(e,t,n)=>{const o=js(e.element,"."+t.itemClass);return(o.length>0?h.some(o[o.length-1]):h.none()).bind(r=>e.getSystem().getByDom(r).toOptional())},b4=(e,t,n,o)=>{const s=js(e.element,"."+t.itemClass);return we(s,a=>xr(a,t.highlightClass)).bind(a=>{const c=qt(a,o,0,s.length-1);return e.getSystem().getByDom(s[c]).toOptional()})},QA=(e,t,n)=>b4(e,t,n,-1),e7=(e,t,n)=>b4(e,t,n,1),v4=(e,t,n)=>{const o=js(e.element,"."+t.itemClass);return Ut(re(o,s=>e.getSystem().getByDom(s).toOptional()))};var t7=Object.freeze({__proto__:null,dehighlightAll:WA,dehighlight:jA,highlight:zm,highlightFirst:GA,highlightLast:qA,highlightAt:KA,highlightBy:YA,isHighlighted:l0,getHighlighted:XA,getFirst:p4,getLast:f4,getPrevious:QA,getNext:e7,getCandidates:v4}),n7=[ye("highlightClass"),ye("itemClass"),$n("onHighlight"),$n("onDehighlight")];const Un=Ls({fields:n7,name:"highlighting",apis:t7}),y4=(e,t,n)=>{t.exists(s=>n.exists(r=>dn(r,s)))||Ct(e,fg(),{prevFocus:t,newFocus:n})},u0=()=>{const e=n=>bs(n.element);return{get:e,set:(n,o)=>{const s=e(n);n.getSystem().triggerFocus(o,n.element);const r=e(n);y4(n,s,r)}}},o7=()=>{const e=n=>Un.getHighlighted(n).map(o=>o.element);return{get:e,set:(n,o)=>{const s=e(n);n.getSystem().getByDom(o).fold(ce,a=>{Un.highlight(n,a)});const r=e(n);y4(n,s,r)}}},Cu=(e,t,n,o,s)=>{const r=()=>e.concat([ee("focusManager",u0()),Ka("focusInside","onFocus",Mm(d=>Ee(["onFocus","onEnterOrSpace","onApi"],d)?Ot.value(d):Ot.error("Invalid value for focusInside"))),_o("handler",i),_o("state",t),_o("sendFocusIn",s)]),a=(d,g,f,y,T)=>{const _=f(d,g,y,T);return UA(_,g.event).bind(L=>L(d,g,y,T))},i={schema:r,processKey:a,toEvents:(d,g)=>{const f=d.focusInside!==Sl.OnFocusMode?h.none():s(d).map(_=>le(xl(),(L,z)=>{_(L,d,g),z.stop()})),y=(_,L)=>{const z=Fn(la.concat(yi))(L.event);d.focusInside===Sl.OnEnterOrSpaceMode&&z&&ey(_,L)&&s(d).each(R=>{R(_,d,g),L.stop()})},T=[le(Nc(),(_,L)=>{a(_,L,n,d,g).fold(()=>{y(_,L)},z=>{L.stop()})}),le(pO(),(_,L)=>{a(_,L,o,d,g).each(z=>{L.stop()})})];return Co(f.toArray().concat(T))}};return i},x4=e=>{const t=[Zn("onEscape"),Zn("onEnter"),ee("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),ee("firstTabstop",0),ee("useTabstopAt",st),Zn("visibilitySelector")].concat([e]),n=(R,W)=>{const G=R.visibilitySelector.bind(oe=>cc(W,oe)).getOr(W);return pn(G)>0},o=(R,W)=>{const G=js(R.element,W.selector),oe=jt(G,ae=>n(W,ae));return h.from(oe[W.firstTabstop])},s=(R,W)=>W.focusManager.get(R).bind(G=>cc(G,W.selector)),r=(R,W)=>n(R,W)&&R.useTabstopAt(W),a=(R,W,G)=>{o(R,W).each(oe=>{W.focusManager.set(R,oe)})},c=(R,W,G,oe,ae)=>ae(W,G,ze=>r(oe,ze)).fold(()=>oe.cyclic?h.some(!0):h.none(),ze=>(oe.focusManager.set(R,ze),h.some(!0))),i=(R,W,G,oe)=>{const ae=jt(js(R.element,G.selector),ze=>n(G,ze));return s(R,G).bind(ze=>we(ae,cn(dn,ze)).bind(Y=>c(R,ae,Y,G,oe)))},d=(R,W,G)=>{const oe=G.cyclic?BA:NA;return i(R,W,G,oe)},g=(R,W,G)=>{const oe=G.cyclic?VA:zA;return i(R,W,G,oe)},f=R=>li(R).bind(ui).exists(W=>dn(W,R)),y=(R,W,G)=>s(R,G).filter(oe=>!G.useTabstopAt(oe)).bind(oe=>(f(oe)?d:g)(R,W,G)),T=(R,W,G)=>G.onEnter.bind(oe=>oe(R,W)),_=(R,W,G)=>G.onEscape.bind(oe=>oe(R,W)),L=A([Bn(Uc([Su,Fn(Zi)]),d),Bn(Fn(Zi),g),Bn(Uc([Vm,Fn(yi)]),T)]),z=A([Bn(Fn(Fg),_),Bn(Fn(Zi),y)]);return Cu(t,zc.init,L,z,()=>h.some(a))};var s7=x4(Lr("cyclic",ue)),r7=x4(Lr("cyclic",st));const Fd=e=>Wl("input")(e)&&Qo(e,"type")!=="radio"||Wl("textarea")(e),a7=(e,t,n)=>(s0(e,n,Ma()),h.some(!0)),Zm=(e,t,n)=>Fd(n)&&Fn(la)(t.event)?h.none():a7(e,t,n),Id=(e,t)=>h.some(!0),c7=[ee("execute",Zm),ee("useSpace",!1),ee("useEnter",!0),ee("useControlEnter",!1),ee("useDown",!1)],w4=(e,t,n)=>n.execute(e,t,e.element),i7=(e,t,n,o)=>{const s=n.useSpace&&!Fd(e.element)?la:[],r=n.useEnter?yi:[],a=n.useDown?Dd:[],c=s.concat(r).concat(a);return[Bn(Fn(c),w4)].concat(n.useControlEnter?[Bn(Uc([ZA,Fn(yi)]),w4)]:[])},l7=(e,t,n,o)=>n.useSpace&&!Fd(e.element)?[Bn(Fn(la),Id)]:[];var u7=Cu(c7,zc.init,i7,l7,()=>h.none());const S4=()=>{const e=kn();return _a({readState:()=>e.get().map(s=>({numRows:String(s.numRows),numColumns:String(s.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(s,r)=>{e.set({numRows:s,numColumns:r})},getNumRows:()=>e.get().map(s=>s.numRows),getNumColumns:()=>e.get().map(s=>s.numColumns)})};var d7=Object.freeze({__proto__:null,flatgrid:S4,init:e=>e.state(e)});const C4=e=>(t,n,o,s)=>{const r=e(t.element);return T4(r,t,n,o,s)},d0=(e,t)=>{const n=wm(e,t);return C4(n)},m0=(e,t)=>{const n=wm(t,e);return C4(n)},h0=e=>(t,n,o,s)=>T4(e,t,n,o,s),T4=(e,t,n,o,s)=>o.focusManager.get(t).bind(a=>e(t.element,a,o,s)).map(a=>(o.focusManager.set(t,a),!0)),k4=h0,O4=h0,Hg=h0,m7=(e,t)=>we(e,t).map(n=>({index:n,candidates:e})),A4=(e,t,n)=>{const o=a=>dn(a,t),s=js(e,n),r=jt(s,Hi);return m7(r,o)},E4=(e,t)=>we(e,n=>dn(t,n)),M4=(e,t,n,o)=>{const s=Math.floor(t/n),r=t%n;return o(s,r).bind(a=>{const c=a.row*n+a.column;return c>=0&&c<e.length?h.some(e[c]):h.none()})},_4=(e,t,n,o,s)=>M4(e,t,o,(r,a)=>{const i=r===n-1?e.length-r*o:o,d=qt(a,s,0,i-1);return h.some({row:r,column:d})}),D4=(e,t,n,o,s)=>M4(e,t,o,(r,a)=>{const c=qt(r,s,0,n-1),d=c===n-1?e.length-c*o:o,g=fn(a,0,d-1);return h.some({row:c,column:g})}),h7=(e,t,n,o)=>_4(e,t,n,o,1),g7=(e,t,n,o)=>_4(e,t,n,o,-1),p7=(e,t,n,o)=>D4(e,t,n,o,-1),f7=(e,t,n,o)=>D4(e,t,n,o,1),b7=[ye("selector"),ee("execute",Zm),ia("onEscape"),ee("captureTab",!1),Oy()],v7=(e,t,n)=>{Qn(e.element,t.selector).each(o=>{t.focusManager.set(e,o)})},y7=(e,t)=>t.focusManager.get(e).bind(n=>cc(n,t.selector)),x7=(e,t,n,o)=>y7(e,n).bind(s=>n.execute(e,t,s)),Rg=e=>(t,n,o,s)=>A4(t,n,o.selector).bind(r=>e(r.candidates,r.index,s.getNumRows().getOr(o.initSize.numRows),s.getNumColumns().getOr(o.initSize.numColumns))),F4=(e,t,n)=>n.captureTab?h.some(!0):h.none(),w7=(e,t,n)=>n.onEscape(e,t),I4=Rg(g7),$4=Rg(h7),S7=Rg(p7),C7=Rg(f7),T7=A([Bn(Fn(Ig),d0(I4,$4)),Bn(Fn($g),m0(I4,$4)),Bn(Fn(Nm),k4(S7)),Bn(Fn(Dd),O4(C7)),Bn(Uc([Su,Fn(Zi)]),F4),Bn(Uc([Vm,Fn(Zi)]),F4),Bn(Fn(la.concat(yi)),x7)]),k7=A([Bn(Fn(Fg),w7),Bn(Fn(la),Id)]);var O7=Cu(b7,S4,T7,k7,()=>h.some(v7));const H4=(e,t,n,o,s)=>{const r=c=>Wa(c)==="button"&&Qo(c,"disabled")==="disabled",a=(c,i,d)=>s(c,i,o,0,d.length-1,d[i],g=>r(d[g])?a(c,g,d):h.from(d[g]));return A4(e,n,t).bind(c=>{const i=c.index,d=c.candidates;return a(i,i,d)})},R4=(e,t,n,o)=>H4(e,t,n,o,(s,r,a,c,i,d,g)=>{const f=fn(r+a,c,i);return f===s?h.from(d):g(f)}),Lg=(e,t,n,o)=>H4(e,t,n,o,(s,r,a,c,i,d,g)=>{const f=qt(r,a,c,i);return f===s?h.none():g(f)}),A7=[ye("selector"),ee("getInitial",h.none),ee("execute",Zm),ia("onEscape"),ee("executeOnMove",!1),ee("allowVertical",!0),ee("allowHorizontal",!0),ee("cycles",!0)],E7=(e,t)=>t.focusManager.get(e).bind(n=>cc(n,t.selector)),g0=(e,t,n)=>E7(e,n).bind(o=>n.execute(e,t,o)),M7=(e,t,n)=>{t.getInitial(e).orThunk(()=>Qn(e.element,t.selector)).each(o=>{t.focusManager.set(e,o)})},L4=(e,t,n)=>(n.cycles?Lg:R4)(e,n.selector,t,-1),P4=(e,t,n)=>(n.cycles?Lg:R4)(e,n.selector,t,1),B4=e=>(t,n,o,s)=>e(t,n,o,s).bind(()=>o.executeOnMove?g0(t,n,o):h.some(!0)),_7=(e,t,n)=>n.onEscape(e,t),D7=(e,t,n,o)=>{const s=[...n.allowHorizontal?Ig:[]].concat(n.allowVertical?Nm:[]),r=[...n.allowHorizontal?$g:[]].concat(n.allowVertical?Dd:[]);return[Bn(Fn(s),B4(d0(L4,P4))),Bn(Fn(r),B4(m0(L4,P4))),Bn(Fn(yi),g0),Bn(Fn(la),g0)]},F7=A([Bn(Fn(la),Id),Bn(Fn(Fg),_7)]);var I7=Cu(A7,zc.init,D7,F7,()=>h.some(M7));const Pg=(e,t,n)=>h.from(e[t]).bind(o=>h.from(o[n]).map(s=>({rowIndex:t,columnIndex:n,cell:s}))),N4=(e,t,n,o)=>{const r=e[t].length,a=qt(n,o,0,r-1);return Pg(e,t,a)},V4=(e,t,n,o)=>{const s=qt(n,o,0,e.length-1),r=e[s].length,a=fn(t,0,r-1);return Pg(e,s,a)},z4=(e,t,n,o)=>{const r=e[t].length,a=fn(n+o,0,r-1);return Pg(e,t,a)},Z4=(e,t,n,o)=>{const s=fn(n+o,0,e.length-1),r=e[s].length,a=fn(t,0,r-1);return Pg(e,s,a)},$7=(e,t,n)=>N4(e,t,n,1),H7=(e,t,n)=>N4(e,t,n,-1),R7=(e,t,n)=>V4(e,n,t,-1),L7=(e,t,n)=>V4(e,n,t,1),P7=(e,t,n)=>z4(e,t,n,-1),B7=(e,t,n)=>z4(e,t,n,1),N7=(e,t,n)=>Z4(e,n,t,-1),V7=(e,t,n)=>Z4(e,n,t,1),z7=[Li("selectors",[ye("row"),ye("cell")]),ee("cycles",!0),ee("previousSelector",h.none),ee("execute",Zm)],Z7=(e,t,n)=>{t.previousSelector(e).orThunk(()=>{const s=t.selectors;return Qn(e.element,s.cell)}).each(s=>{t.focusManager.set(e,s)})},U7=(e,t,n)=>bs(e.element).bind(o=>n.execute(e,t,o)),W7=(e,t)=>re(e,n=>js(n,t.selectors.cell)),Bg=(e,t)=>(n,o,s)=>{const r=s.cycles?e:t;return cc(o,s.selectors.row).bind(a=>{const c=js(a,s.selectors.cell);return E4(c,o).bind(i=>{const d=js(n,s.selectors.row);return E4(d,a).bind(g=>{const f=W7(d,s);return r(f,g,i).map(y=>y.cell)})})})},U4=Bg(H7,P7),W4=Bg($7,B7),j7=Bg(R7,N7),G7=Bg(L7,V7),q7=A([Bn(Fn(Ig),d0(U4,W4)),Bn(Fn($g),m0(U4,W4)),Bn(Fn(Nm),k4(j7)),Bn(Fn(Dd),O4(G7)),Bn(Fn(la.concat(yi)),U7)]),K7=A([Bn(Fn(la),Id)]);var Y7=Cu(z7,zc.init,q7,K7,()=>h.some(Z7));const X7=[ye("selector"),ee("execute",Zm),ee("moveOnTab",!1)],j4=(e,t,n)=>n.focusManager.get(e).bind(o=>n.execute(e,t,o)),J7=(e,t,n)=>{Qn(e.element,t.selector).each(o=>{t.focusManager.set(e,o)})},G4=(e,t,n)=>Lg(e,n.selector,t,-1),q4=(e,t,n)=>Lg(e,n.selector,t,1),Q7=(e,t,n,o)=>n.moveOnTab?Hg(G4)(e,t,n,o):h.none(),eE=(e,t,n,o)=>n.moveOnTab?Hg(q4)(e,t,n,o):h.none(),tE=A([Bn(Fn(Nm),Hg(G4)),Bn(Fn(Dd),Hg(q4)),Bn(Uc([Su,Fn(Zi)]),Q7),Bn(Uc([Vm,Fn(Zi)]),eE),Bn(Fn(yi),j4),Bn(Fn(la),j4)]),nE=A([Bn(Fn(la),Id)]);var oE=Cu(X7,zc.init,tE,nE,()=>h.some(J7));const sE=[ia("onSpace"),ia("onEnter"),ia("onShiftEnter"),ia("onLeft"),ia("onRight"),ia("onTab"),ia("onShiftTab"),ia("onUp"),ia("onDown"),ia("onEscape"),ee("stopSpaceKeyup",!1),Zn("focusIn")],rE=(e,t,n)=>[Bn(Fn(la),n.onSpace),Bn(Uc([Vm,Fn(yi)]),n.onEnter),Bn(Uc([Su,Fn(yi)]),n.onShiftEnter),Bn(Uc([Su,Fn(Zi)]),n.onShiftTab),Bn(Uc([Vm,Fn(Zi)]),n.onTab),Bn(Fn(Nm),n.onUp),Bn(Fn(Dd),n.onDown),Bn(Fn(Ig),n.onLeft),Bn(Fn($g),n.onRight),Bn(Fn(la),n.onSpace)],aE=(e,t,n)=>[...n.stopSpaceKeyup?[Bn(Fn(la),Id)]:[],Bn(Fn(Fg),n.onEscape)];var cE=Cu(sE,zc.init,rE,aE,e=>e.focusIn);const iE=s7.schema(),lE=r7.schema(),uE=I7.schema(),dE=O7.schema(),mE=Y7.schema(),hE=u7.schema(),gE=oE.schema(),pE=cE.schema();var fE=Object.freeze({__proto__:null,acyclic:iE,cyclic:lE,flow:uE,flatgrid:dE,matrix:mE,execution:hE,menu:gE,special:pE});const bE=e=>mo(e,"setGridSize"),pt=m4({branchKey:"mode",branches:fE,name:"keying",active:{events:(e,t)=>e.handler.toEvents(e,t)},apis:{focusIn:(e,t,n)=>{t.sendFocusIn(t).fold(()=>{e.getSystem().triggerFocus(e.element,e.element)},o=>{o(e,t,n)})},setGridSize:(e,t,n,o,s)=>{bE(n)?n.setGridSize(o,s):console.error("Layout does not support setGridSize")}},state:d7}),Ng=O("alloy-premade"),K4=e=>(Object.defineProperty(e.element.dom,Ng,{value:e.uid,writable:!0}),hu(Ng,e)),vE=e=>Nt(e.dom,Ng),Y4=e=>lt(e,Ng),Vg=e=>IO((t,...n)=>e(t.getApis(),t,...n),e),p0=e=>e.getSystem().isConnected(),Um=e=>{Cn(e,vi());const t=e.components();_e(t,Um)},Wm=e=>{const t=e.components();_e(t,Wm),Cn(e,Vc())},X4=(e,t)=>{e.getSystem().addToWorld(t),ur(e.element)&&Wm(t)},f0=e=>{Um(e),e.getSystem().removeFromWorld(e)},J4=(e,t)=>{lr(e.element,t.element)},yE=e=>{_e(e.components(),t=>Ur(t.element)),Ql(e.element),e.syncComponents()},xE=(e,t,n)=>{const o=e.components();yE(e);const s=n(t),r=no(o,s);_e(r,a=>{Um(a),e.getSystem().removeFromWorld(a)}),_e(s,a=>{p0(a)?J4(e,a):(e.getSystem().addToWorld(a),J4(e,a),ur(e.element)&&Wm(a))}),e.syncComponents()},wE=(e,t,n)=>{const o=e.components(),s=Tt(t,c=>Y4(c).toArray());_e(o,c=>{Ee(s,c)||f0(c)});const r=n(t),a=no(o,r);_e(a,c=>{p0(c)&&f0(c)}),_e(r,c=>{p0(c)||X4(e,c)}),e.syncComponents()},Tu=(e,t)=>{Q4(e,t,lr)},Q4=(e,t,n)=>{e.getSystem().addToWorld(t),n(e.element,t.element),ur(e.element)&&Wm(t),e.syncComponents()},ex=e=>{Um(e),Ur(e.element),e.getSystem().removeFromWorld(e)},Ui=e=>{const t=ir(e.element).bind(n=>e.getSystem().getByDom(n).toOptional());ex(e),t.each(n=>{n.syncComponents()})},tx=e=>{const t=e.components();_e(t,ex),Ql(e.element),e.syncComponents()},b0=(e,t)=>{nx(e,t,lr)},zg=(e,t)=>{nx(e,t,sd)},nx=(e,t,n)=>{n(e,t.element);const o=Ws(t.element);_e(o,s=>{t.getByDom(s).each(Wm)})},SE=e=>{const t=Ws(e.element);_e(t,n=>{e.getByDom(n).each(Um)}),Ur(e.element)},CE=(e,t,n)=>$c(e,t).map(s=>{if(n.exists(a=>!dn(a,s))){const a=n.map(Wa).getOr("span"),c=Be.fromTag(a);return mi(s,c),c}else return s}),ox=(e,t,n)=>{n.fold(()=>lr(e,t),o=>{dn(o,t)||(mi(o,t),Ur(o))})},sx=(e,t,n)=>{const o=re(t,n),s=Ws(e);return _e(s.slice(o.length),Ur),o},rx=(e,t,n,o)=>{const s=$c(e,t),r=o(n,s),a=CE(e,t,s);return ox(e,r.element,a),r},TE=(e,t,n)=>sx(e,t,(o,s)=>rx(e,s,o,n)),kE=(e,t)=>sx(e,t,(n,o)=>{const s=$c(e,o);return ox(e,n,s),n}),v0=(e,t)=>{const n=Is(t),o=Ca(n).bind(r=>{const a=c=>dn(r,c);return a(t)?h.some(t):qp(t,a)}),s=e(t);return o.each(r=>{Ca(n).filter(a=>dn(a,r)).fold(()=>{jo(r)},ce)}),s},ax=(e,t)=>{v0(()=>{xE(e,t,()=>re(t,e.getSystem().build))},e.element)},cx=(e,t)=>{v0(()=>{wE(e,t,()=>TE(e.element,t,e.getSystem().buildOrPatch))},e.element)},OE=(e,t,n,o)=>{f0(t);const s=rx(e.element,n,o,e.getSystem().buildOrPatch);X4(e,s),e.syncComponents()},y0=(e,t,n)=>{const o=e.getSystem().build(n);Q4(e,o,t)},AE=(e,t,n,o)=>{Ui(t),y0(e,(s,r)=>ad(s,r,n),o)},EE=(e,t,n,o)=>(t.reuseDom?cx:ax)(e,o),ME=(e,t,n,o)=>{y0(e,lr,o)},_E=(e,t,n,o)=>{y0(e,rd,o)},DE=(e,t,n,o)=>{const s=Zg(e);ve(s,a=>dn(o.element,a.element)).each(Ui)},Zg=(e,t)=>e.components(),ix=(e,t,n,o,s)=>{const r=Zg(e);return h.from(r[o]).map(a=>(s.fold(()=>Ui(a),c=>{(t.reuseDom?OE:AE)(e,a,o,c)}),a))};var FE=Object.freeze({__proto__:null,append:ME,prepend:_E,remove:DE,replaceAt:ix,replaceBy:(e,t,n,o,s)=>{const r=Zg(e);return we(r,o).bind(a=>ix(e,t,n,a,s))},set:EE,contents:Zg});const zt=Ls({fields:[dr("reuseDom",!0)],name:"replacing",apis:FE}),IE=(e,t,n)=>dn(t,e.element)&&!dn(t,n),$E=Co([yA(xl(),(e,t)=>{const n=t.event,o=n.originator,s=n.target;return IE(e,o,s)?(console.warn(xl()+` did not get interpreted by the desired target. 
Originator: `+wl(o)+`
Target: `+wl(s)+`
Check the `+xl()+" event handlers"),!1):!0})]);var HE=Object.freeze({__proto__:null,events:$E});const RE=A("alloy-id-"),LE=A("data-alloy-id"),PE=RE(),lx=LE(),BE=(e,t)=>{const n=O(PE+e);return x0(t,n),n},x0=(e,t)=>{Object.defineProperty(e.dom,lx,{value:t,writable:!0})},jm=e=>{const t=br(e)?e.dom[lx]:null;return h.from(t)},$d=e=>O(e),NE=Ve,Ug=e=>{const t=s=>`The component must be in a context to execute: ${s}`+(e?`
`+wl(e().element)+" is not in context.":""),n=s=>()=>{throw new Error(t(s))},o=s=>()=>{console.warn(t(s))};return{debugInfo:A("fake"),triggerEvent:o("triggerEvent"),triggerFocus:o("triggerFocus"),triggerEscape:o("triggerEscape"),broadcast:o("broadcast"),broadcastOn:o("broadcastOn"),broadcastEvent:o("broadcastEvent"),build:n("build"),buildOrPatch:n("buildOrPatch"),addToWorld:n("addToWorld"),removeFromWorld:n("removeFromWorld"),addToGui:n("addToGui"),removeFromGui:n("removeFromGui"),getByUid:n("getByUid"),getByDom:n("getByDom"),isConnected:ue}},VE=Ug(),zE=(e,t)=>{const n=re(t,s=>ca(s.name(),[ye("config"),ee("state",zc)])),o=Vo("component.behaviours",Ht(n),e.behaviours).fold(s=>{throw new Error(Cd(s)+`
Complete spec:
`+JSON.stringify(e,null,2))},Ve);return{list:t,data:ge(o,s=>{const r=s.map(a=>({config:a.config,state:a.state.init(a.config)}));return A(r)})}},ZE=e=>e.list,UE=e=>e.data,ux=(e,t)=>{const n={};return sn(e,(o,s)=>{sn(o,(r,a)=>{const c=lt(n,a).getOr([]);n[a]=c.concat([t(s,r)])})}),n},WE=(e,t,n,o)=>{const s={...t};_e(n,g=>{s[g.name()]=g.exhibit(e,o)});const r=ux(s,(g,f)=>({name:g,modification:f})),a=g=>ln(g,(f,y)=>({...y.modification,...f}),{}),c=ln(r.classes,(g,f)=>f.modification.concat(g),[]),i=a(r.attributes),d=a(r.styles);return vc({classes:c,attributes:i,styles:d})},jE=(e,t,n,o)=>{try{const s=Me(n,(r,a)=>{const c=r[t],i=a[t],d=o.indexOf(c),g=o.indexOf(i);if(d===-1)throw new Error("The ordering for "+e+" does not have an entry for "+c+`.
Order specified: `+JSON.stringify(o,null,2));if(g===-1)throw new Error("The ordering for "+e+" does not have an entry for "+i+`.
Order specified: `+JSON.stringify(o,null,2));return d<g?-1:g<d?1:0});return Ot.value(s)}catch(s){return Ot.error([s])}},GE=(e,t)=>({handler:e,purpose:t}),qE=(e,t)=>({cHandler:e,purpose:t}),KE=(e,t)=>qE(cn.apply(void 0,[e.handler].concat(t)),e.purpose),w0=e=>e.cHandler,YE=(e,t)=>({name:e,handler:t}),XE=(e,t)=>{const n={};return _e(e,o=>{n[o.name()]=o.handlers(t)}),n},JE=(e,t,n)=>{const o={...n,...XE(t,e)};return ux(o,YE)},QE=(e,t,n,o)=>{const s=JE(e,n,o);return oM(s,t)},eM=e=>{const t=fA(e);return(n,o,...s)=>{const r=[n,o].concat(s);t.abort.apply(void 0,r)?o.stop():t.can.apply(void 0,r)&&t.run.apply(void 0,r)}},tM=(e,t)=>Ot.error(["The event ("+e+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(re(t,n=>n.name),null,2)]),nM=(e,t,n)=>{const o=t[n];return o?jE("Event: "+n,"name",e,o).map(s=>{const r=re(s,a=>a.handler);return bA(r)}):tM(n,e)},oM=(e,t)=>{const n=yn(e,(o,s)=>(o.length===1?Ot.value(o[0].handler):nM(o,t,s)).map(a=>{const c=eM(a),i=o.length>1?jt(t[s],d=>Dt(o,g=>g.name===d)).join(" > "):o[0].name;return hu(s,GE(c,i))}));return gO(n,{})},ku="alloy.base.behaviour",sM=Ht([Gs("dom","dom",Pc(),Ht([ye("tag"),ee("styles",{}),ee("classes",[]),ee("attributes",{}),Zn("value"),Zn("innerHtml")])),ye("components"),ye("uid"),ee("events",{}),ee("apis",{}),Gs("eventOrder","eventOrder",Wk({[Ma()]:["disabling",ku,"toggling","typeaheadevents"],[xl()]:[ku,"focusing","keying"],[pg()]:[ku,"disabling","toggling","representing","tooltipping"],[Ni()]:[ku,"representing","streaming","invalidating"],[vi()]:[ku,"representing","item-events","toolbar-button-events","tooltipping"],[Ea()]:["focusing",ku,"item-type-events"],[Bi()]:["focusing",ku,"item-type-events"],[bi()]:["item-type-events","tooltipping"],[fu()]:["receiving","reflecting","tooltipping"]}),uc()),Zn("domModification")]),rM=e=>Vo("custom.definition",sM,e),aM=e=>({...e.dom,uid:e.uid,domChildren:re(e.components,t=>t.element)}),cM=e=>e.domModification.fold(()=>vc({}),vc),iM=e=>e.events,dx=(e,t)=>{const n=en(e),o=en(t),s=no(o,n),r=Tn(e,(a,c)=>!Nt(t,c)||a!==t[c]).t;return{toRemove:s,toSet:r}},lM=(e,t)=>{const{class:n,style:o,...s}=Jl(t),{toSet:r,toRemove:a}=dx(e.attributes,s),c=()=>{_e(a,G=>Fo(t,G)),id(t,r)},i=Z(t),{toSet:d,toRemove:g}=dx(e.styles,i),f=()=>{_e(g,G=>Ne(t,G)),Lc(t,d)},y=tg(t),T=no(y,e.classes),_=no(e.classes,y),L=()=>{Ri(t,_),ka(t,T)},z=G=>{Rc(t,G)},R=()=>{const G=e.domChildren;kE(t,G)},W=()=>{const G=t,oe=e.value.getOrUndefined();oe!==ic(G)&&lc(G,oe??"")};return c(),L(),f(),e.innerHtml.fold(R,z),W(),t},uM=e=>{const t=Be.fromTag(e.tag);id(t,e.attributes),Ri(t,e.classes),Lc(t,e.styles),e.innerHtml.each(o=>Rc(t,o));const n=e.domChildren;return dl(t,n),e.value.each(o=>{lc(t,o)}),t},dM=(e,t)=>{try{const n=lM(e,t);return h.some(n)}catch{return h.none()}},mM=e=>e.innerHtml.isSome()&&e.domChildren.length>0,hM=(e,t)=>{const n=s=>Wa(s)===e.tag&&!mM(e)&&!vE(s),o=t.filter(n).bind(s=>dM(e,s)).getOrThunk(()=>uM(e));return x0(o,e.uid),o},gM=e=>{const t=lt(e,"behaviours").getOr({});return Tt(en(t),n=>{const o=t[n];return Xe(o)?[o.me]:[]})},pM=(e,t)=>zE(e,t),fM=e=>{const t=gM(e);return pM(e,t)},bM=(e,t,n)=>{const o=aM(e),s=cM(e),r={"alloy.base.modification":s},a=t.length>0?WE(n,r,t,o):s;return TA(o,a)},vM=(e,t,n)=>{const o={"alloy.base.behaviour":iM(e)};return QE(n,e.eventOrder,t,o).getOrDie()},yM=(e,t)=>{const n=()=>G,o=ot(VE),s=dc(rM(e)),r=fM(e),a=ZE(r),c=UE(r),i=bM(s,a,c),d=hM(i,t),g=vM(s,a,c),f=ot(s.components),y=oe=>{o.set(oe)},T=()=>{o.set(Ug(n))},_=()=>{const oe=Ws(d),ae=Tt(oe,ze=>o.get().getByDom(ze).fold(()=>[],Ce));f.set(ae)},L=oe=>{const ae=c;return(Se(ae[oe.name()])?ae[oe.name()]:()=>{throw new Error("Could not find "+oe.name()+" in "+JSON.stringify(e,null,2))})()},z=oe=>Se(c[oe.name()]),R=()=>s.apis,W=oe=>c[oe]().map(ae=>ae.state.readState()).getOr("not enabled"),G={uid:e.uid,getSystem:o.get,config:L,hasConfigured:z,spec:e,readState:W,getApis:R,connect:y,disconnect:T,element:d,syncComponents:_,components:f.get,events:g};return G},xM=(e,t)=>{const n=lt(e,"components").getOr([]);return t.fold(()=>re(n,hr),o=>re(n,(s,r)=>S0(s,$c(o,r))))},wM=(e,t)=>{const{events:n,...o}=NE(e),s=xM(o,t),r={...o,events:{...HE,...n},components:s};return Ot.value(yM(r,t))},To=e=>{const t=Be.fromText(e);return mx({element:t})},mx=e=>{const t=jr("external.component",Oa([ye("element"),Zn("uid")]),e),n=ot(Ug()),o=c=>{n.set(c)},s=()=>{n.set(Ug(()=>a))},r=t.uid.getOrThunk(()=>$d("external"));x0(t.element,r);const a={uid:r,getSystem:n.get,config:h.none,hasConfigured:ue,connect:o,disconnect:s,getApis:()=>({}),element:t.element,spec:e,readState:A("No state"),syncComponents:ce,components:A([]),events:{}};return K4(a)},SM=$d,CM=e=>Nt(e,"uid"),S0=(e,t)=>Y4(e).getOrThunk(()=>{const n=CM(e)?e:{uid:SM(""),...e};return wM(n,t).getOrDie()}),hr=e=>S0(e,h.none()),Da=K4;var TM=Object.freeze({__proto__:null,block:(e,t,n,o)=>{Lt(e.element,"aria-busy",!0);const s=t.getRoot(e).getOr(e),r=Fe([pt.config({mode:"special",onTab:()=>h.some(!0),onShiftTab:()=>h.some(!0)}),It.config({})]),a=o(s,r),c=s.getSystem().build(a);zt.append(s,Da(c)),c.hasConfigured(pt)&&t.focus&&pt.focusIn(c),n.isBlocked()||t.onBlock(e),n.blockWith(()=>zt.remove(s,c))},unblock:(e,t,n)=>{Fo(e.element,"aria-busy"),n.isBlocked()&&t.onUnblock(e),n.clear()},isBlocked:(e,t,n)=>n.isBlocked()}),kM=[bo("getRoot",h.none),dr("focus",!0),$n("onBlock"),$n("onUnblock")],OM=Object.freeze({__proto__:null,init:()=>{const e=na(),t=n=>{e.set({destroy:n})};return _a({readState:e.isSet,blockWith:t,clear:e.clear,isBlocked:e.isSet})}});const Wc=Ls({fields:kM,name:"blocking",apis:TM,state:OM});var AM=Object.freeze({__proto__:null,getCurrent:(e,t,n)=>t.find(e)});const EM=[ye("find")],En=Ls({fields:EM,name:"composing",apis:AM});var MM=Object.freeze({__proto__:null,getCoupled:(e,t,n,o)=>n.getOrCreate(e,t,o),getExistingCoupled:(e,t,n,o)=>n.getExisting(e,t,o)}),_M=[Aa("others",dy(Ot.value,uc()))],DM=Object.freeze({__proto__:null,init:()=>{const e={},t=(r,a)=>{if(en(r.others).length===0)throw new Error("Cannot find any known coupled components");return lt(e,a)},n=(r,a,c)=>t(a,c).getOrThunk(()=>{const d=lt(a.others,c).getOrDie("No information found for coupled component: "+c)(r),g=r.getSystem().build(d);return e[c]=g,g}),o=(r,a,c)=>t(a,c).orThunk(()=>(lt(a.others,c).getOrDie("No information found for coupled component: "+c),h.none())),s=A({});return _a({readState:s,getExisting:o,getOrCreate:n})}});const Zo=Ls({fields:_M,name:"coupling",apis:MM,state:DM}),FM=["input","button","textarea","select"],hx=(e,t,n)=>{(t.disabled()?T0:k0)(e,t)},C0=(e,t)=>t.useNative===!0&&Ee(FM,Wa(e.element)),IM=e=>ld(e.element,"disabled"),$M=e=>{Lt(e.element,"disabled","disabled")},HM=e=>{Fo(e.element,"disabled")},RM=e=>Qo(e.element,"aria-disabled")==="true",LM=e=>{Lt(e.element,"aria-disabled","true")},PM=e=>{Lt(e.element,"aria-disabled","false")},T0=(e,t,n)=>{t.disableClass.each(s=>{Ro(e.element,s)}),(C0(e,t)?$M:LM)(e),t.onDisabled(e)},k0=(e,t,n)=>{t.disableClass.each(s=>{Lo(e.element,s)}),(C0(e,t)?HM:PM)(e),t.onEnabled(e)},gx=(e,t)=>C0(e,t)?IM(e):RM(e);var BM=Object.freeze({__proto__:null,enable:k0,disable:T0,isDisabled:gx,onLoad:hx,set:(e,t,n,o)=>{(o?T0:k0)(e,t)}}),NM=Object.freeze({__proto__:null,exhibit:(e,t)=>vc({classes:t.disabled()?t.disableClass.toArray():[]}),events:(e,t)=>Co([l4(Ma(),(n,o)=>gx(n,e)),i0(e,t,hx)])}),VM=[bo("disabled",ue),ee("useNative",!0),Zn("disableClass"),$n("onDisabled"),$n("onEnabled")];const gt=Ls({fields:VM,name:"disabling",active:NM,apis:BM}),yc=(e,t,n,o,s)=>{const r=a=>a+"px";return{position:e,left:t.map(r),top:n.map(r),right:o.map(r),bottom:s.map(r)}},zM=e=>({...e,position:h.some(e.position)}),px=(e,t)=>{u(e,zM(t))},ZM=(e,t)=>{const n=e.element;Ro(n,t.transitionClass),Lo(n,t.fadeOutClass),Ro(n,t.fadeInClass),t.onShow(e)},UM=(e,t)=>{const n=e.element;Ro(n,t.transitionClass),Lo(n,t.fadeInClass),Ro(n,t.fadeOutClass),t.onHide(e)},WM=(e,t)=>e.y<t.bottom&&e.bottom>t.y,fx=(e,t)=>e.y>=t.y,bx=(e,t)=>e.bottom<=t.bottom,O0=(e,t,n)=>({location:"top",leftX:t,topY:n.bounds.y-e.y}),A0=(e,t,n)=>({location:"bottom",leftX:t,bottomY:e.bottom-n.bounds.bottom}),E0=e=>e.box.x-e.win.x,jM=(e,t,n)=>{const o=t.win,s=t.box,r=E0(t);return kt(e,a=>{switch(a){case"bottom":return bx(s,n.bounds)?h.none():h.some(A0(o,r,n));case"top":return fx(s,n.bounds)?h.none():h.some(O0(o,r,n));default:return h.none()}}).getOr({location:"no-dock"})},GM=(e,t,n)=>Ft(e,o=>{switch(o){case"bottom":return bx(t,n.bounds);case"top":return fx(t,n.bounds)}}),qM=(e,t)=>{const n=t.optScrollEnv.fold(A(e.bounds.y),o=>o.scrollElmTop+(e.bounds.y-o.currentScrollTop));return Mo(e.bounds.x,n)},KM=(e,t)=>{const n=t.optScrollEnv.fold(A(e.y),o=>e.y+o.currentScrollTop-o.scrollElmTop);return Mo(e.x,n)},M0=(e,t,n)=>n.getInitialPos().map(o=>{const s=qM(o,t);return{box:Hs(s.left,s.top,yr(e),pn(e)),location:o.location}}),vx=(e,t,n,o,s)=>{const r=KM(t,n),a=Hs(r.left,r.top,t.width,t.height);o.setInitialPos({style:Z(e),position:p(e,"position")||"static",bounds:a,location:s.location})},YM=(e,t,n,o,s)=>{o.getInitialPos().fold(()=>vx(e,t,n,o,s),()=>ce)},yx=(e,t,n)=>n.getInitialPos().bind(o=>{var s;switch(n.clearInitialPos(),o.position){case"static":return h.some({morph:"static"});case"absolute":const r=cf(e).getOr(ac()),a=Rs(r),c=(s=r.dom.scrollTop)!==null&&s!==void 0?s:0;return h.some({morph:"absolute",positionCss:yc("absolute",lt(o.style,"left").map(i=>t.x-a.x),lt(o.style,"top").map(i=>t.y-a.y+c),lt(o.style,"right").map(i=>a.right-t.right),lt(o.style,"bottom").map(i=>a.bottom-t.bottom))});default:return h.none()}}),XM=(e,t,n)=>M0(e,t,n).filter(({box:o})=>GM(n.getModes(),o,t)).bind(({box:o})=>yx(e,o,n)),_0=e=>{switch(e.location){case"top":return h.some({morph:"fixed",positionCss:yc("fixed",h.some(e.leftX),h.some(e.topY),h.none(),h.none())});case"bottom":return h.some({morph:"fixed",positionCss:yc("fixed",h.some(e.leftX),h.none(),h.none(),h.some(e.bottomY))});default:return h.none()}},JM=(e,t,n)=>{const o=Rs(e),s=Sr(),r=jM(n.getModes(),{win:s,box:o},t);return r.location==="top"||r.location==="bottom"?(vx(e,o,t,n,r),_0(r)):h.none()},QM=(e,t,n)=>XM(e,t,n).orThunk(()=>t.optScrollEnv.bind(o=>M0(e,t,n)).bind(({box:o,location:s})=>{const r=Sr(),a=E0({win:r,box:o}),c=s==="top"?O0(r,a,t):A0(r,a,t);return _0(c)})),e_=(e,t,n)=>{const o=e.element;return dt(H(o,"position"),"fixed")?QM(o,t,n):JM(o,t,n)},t_=(e,t,n)=>{const o=e.element;return M0(o,t,n).bind(({box:s})=>yx(o,s,n))},n_=(e,t,n,o)=>{const s=Rs(e),r=Sr(),a=E0({win:r,box:s}),c=o(r,a,t);return c.location==="bottom"||c.location==="top"?(YM(e,s,t,n,c),_0(c)):h.none()},xx=(e,t,n)=>{n.setDocked(!1),_e(["left","right","top","bottom","position"],o=>Ne(e.element,o)),t.onUndocked(e)},D0=(e,t,n,o)=>{const s=o.position==="fixed";n.setDocked(s),px(e.element,o),(s?t.onDocked:t.onUndocked)(e)},wx=(e,t,n,o,s=!1)=>{t.contextual.each(r=>{r.lazyContext(e).each(a=>{const c=WM(a,o.bounds);c!==n.isVisible()&&(n.setVisible(c),s&&!c?(Ri(e.element,[r.fadeOutClass]),r.onHide(e)):(c?ZM:UM)(e,r))})})},Sx=(e,t,n,o,s)=>{wx(e,t,n,o,!0),D0(e,t,n,s.positionCss)},o_=(e,t,n,o,s)=>{switch(s.morph){case"static":return xx(e,t,n);case"absolute":return D0(e,t,n,s.positionCss);case"fixed":return Sx(e,t,n,o,s)}},s_=(e,t,n)=>{const o=t.lazyViewport(e);wx(e,t,n,o),e_(e,o,n).each(s=>{o_(e,t,n,o,s)})},r_=(e,t,n)=>{const o=e.element;n.setDocked(!1);const s=t.lazyViewport(e);t_(e,s,n).each(r=>{switch(r.morph){case"static":{xx(e,t,n);break}case"absolute":{D0(e,t,n,r.positionCss);break}}}),n.setVisible(!0),t.contextual.each(r=>{ka(o,[r.fadeInClass,r.fadeOutClass,r.transitionClass]),r.onShow(e)}),Wg(e,t,n)},Wg=(e,t,n)=>{e.getSystem().isConnected()&&s_(e,t,n)},Cx=(e,t,n)=>{n.isDocked()&&r_(e,t,n)},Tx=e=>(t,n,o)=>{const s=n.lazyViewport(t);n_(t.element,s,o,e).each(a=>{Sx(t,n,o,s,a)})},a_=Tx(O0),c_=Tx(A0);var i_=Object.freeze({__proto__:null,refresh:Wg,reset:Cx,isDocked:(e,t,n)=>n.isDocked(),getModes:(e,t,n)=>n.getModes(),setModes:(e,t,n,o)=>n.setModes(o),forceDockToTop:a_,forceDockToBottom:c_}),l_=Object.freeze({__proto__:null,events:(e,t)=>Co([_d(Fm(),(n,o)=>{e.contextual.each(s=>{xr(n.element,s.transitionClass)&&(ka(n.element,[s.transitionClass,s.fadeInClass]),(t.isVisible()?s.onShown:s.onHidden)(n)),o.stop()})}),le(wf(),(n,o)=>{Wg(n,e,t)}),le(xy(),(n,o)=>{Wg(n,e,t)}),le(Rm(),(n,o)=>{Cx(n,e,t)})])}),u_=[ca("contextual",[xs("fadeInClass"),xs("fadeOutClass"),xs("transitionClass"),hc("lazyContext"),$n("onShow"),$n("onShown"),$n("onHide"),$n("onHidden")]),bo("lazyViewport",()=>({bounds:Sr(),optScrollEnv:h.none()})),yl("modes",["top","bottom"],ys),$n("onDocked"),$n("onUndocked")],d_=Object.freeze({__proto__:null,init:e=>{const t=ot(!1),n=ot(!0),o=kn(),s=ot(e.modes),r=()=>`docked:  ${t.get()}, visible: ${n.get()}, modes: ${s.get().join(",")}`;return _a({isDocked:t.get,setDocked:t.set,getInitialPos:o.get,setInitialPos:o.set,clearInitialPos:o.clear,isVisible:n.get,setVisible:n.set,getModes:s.get,setModes:s.set,readState:r})}});const Do=Ls({fields:u_,name:"docking",active:l_,apis:i_,state:d_}),F0=Ko.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),jg=e=>t=>t.translate(-e.left,-e.top),Gg=e=>t=>t.translate(e.left,e.top),Wi=e=>(t,n)=>On(e,(o,s)=>s(o),Mo(t,n)),qg=(e,t,n)=>e.fold(Wi([Gg(n),jg(t)]),Wi([jg(t)]),Wi([])),Hd=(e,t,n)=>e.fold(Wi([Gg(n)]),Wi([]),Wi([Gg(t)])),kx=(e,t,n)=>e.fold(Wi([]),Wi([jg(n)]),Wi([Gg(t),jg(n)])),m_=(e,t,n,o,s,r)=>{const a=Hd(e,s,r),c=Hd(t,s,r);return Math.abs(a.left-c.left)<=n&&Math.abs(a.top-c.top)<=o},h_=(e,t,n,o,s,r)=>{const a=Hd(e,s,r),c=Hd(t,s,r),i=Math.abs(a.left-c.left),d=Math.abs(a.top-c.top);return Mo(i,d)},Ox=(e,t,n)=>{const o=e.fold((s,r)=>({position:h.some("absolute"),left:h.some(s+"px"),top:h.some(r+"px")}),(s,r)=>({position:h.some("absolute"),left:h.some(s-n.left+"px"),top:h.some(r-n.top+"px")}),(s,r)=>({position:h.some("fixed"),left:h.some(s+"px"),top:h.some(r+"px")}));return{right:h.none(),bottom:h.none(),...o}},g_=(e,t,n)=>e.fold((o,s)=>Kg(o+t,s+n),(o,s)=>Al(o+t,s+n),(o,s)=>Ou(o+t,s+n)),I0=(e,t,n,o)=>{const s=(r,a)=>(c,i)=>{const d=r(t,n,o);return a(c.getOr(d.left),i.getOr(d.top))};return e.fold(s(kx,Kg),s(Hd,Al),s(qg,Ou))},Kg=F0.offset,Al=F0.absolute,Ou=F0.fixed,Ax=(e,t)=>{const n=Qo(e,t);return Qe(n)?NaN:parseInt(n,10)},p_=(e,t)=>{const n=e.element,o=Ax(n,t.leftAttr),s=Ax(n,t.topAttr);return isNaN(o)||isNaN(s)?h.none():h.some(Mo(o,s))},f_=(e,t,n)=>{const o=e.element;Lt(o,t.leftAttr,n.left+"px"),Lt(o,t.topAttr,n.top+"px")},b_=(e,t)=>{const n=e.element;Fo(n,t.leftAttr),Fo(n,t.topAttr)},v_=(e,t,n,o)=>p_(e,t).fold(()=>n,s=>Ou(s.left+o.left,s.top+o.top)),y_=(e,t,n,o,s,r)=>{const a=v_(e,t,n,o),c=t.mustSnap?w_(e,t,a,s,r):S_(e,t,a,s,r),i=qg(a,s,r);return f_(e,t,i),c.fold(()=>({coord:Ou(i.left,i.top),extra:h.none()}),d=>({coord:d.output,extra:d.extra}))},x_=(e,t)=>{b_(e,t)},Ex=(e,t,n,o)=>kt(e,s=>{const r=s.sensor;return m_(t,r,s.range.left,s.range.top,n,o)?h.some({output:I0(s.output,t,n,o),extra:s.extra}):h.none()}),w_=(e,t,n,o,s)=>{const r=t.getSnapPoints(e);return Ex(r,n,o,s).orThunk(()=>On(r,(i,d)=>{const g=d.sensor,f=h_(n,g,d.range.left,d.range.top,o,s);return i.deltas.fold(()=>({deltas:h.some(f),snap:h.some(d)}),y=>{const T=(f.left+f.top)/2,_=(y.left+y.top)/2;return T<=_?{deltas:h.some(f),snap:h.some(d)}:i})},{deltas:h.none(),snap:h.none()}).snap.map(i=>({output:I0(i.output,n,o,s),extra:i.extra})))},S_=(e,t,n,o,s)=>{const r=t.getSnapPoints(e);return Ex(r,n,o,s)},C_=(e,t,n)=>({coord:I0(e.output,e.output,t,n),extra:e.extra});var T_=Object.freeze({__proto__:null,snapTo:(e,t,n,o)=>{const s=t.getTarget(e.element);if(t.repositionTarget){const r=$r(e.element),a=Rr(r),c=ty(s),i=C_(o,a,c),d=Ox(i.coord,a,c);u(s,d)}}});const ks=(e,t)=>bf(e,{},re(t,n=>rO(n.name(),"Cannot configure "+n.name()+" for "+e)).concat([Lr("dump",Ve)])),Yg=e=>e.dump,Ps=(e,t)=>({...Fe(t),...e.dump}),xc={field:ks,augment:Ps,get:Yg},k_=(e,t)=>(e.length>0?[Li("parts",e)]:[]).concat([ye("uid"),ee("dom",{}),ee("components",[]),ky("originalSpec"),ee("debug.sketcher",{})]).concat(t),Mx=(e,t,n,o,s)=>{const r=k_(o,s);return jr(e+" [SpecSchema]",Oa(r.concat(t)),n)},O_=(e,t,n,o)=>{const s=_x(o),r=Mx(e,t,s,[],[]);return n(r,s)},$0=(e,t,n,o,s)=>{const r=_x(s),a=Ry(n),c=Vf(n),i=Mx(e,t,r,a,[c]),d=Pf(e,i,n),g=Bf(e,i,d.internals());return o(i,g,r,d.externals())},A_=e=>Nt(e,"uid"),_x=e=>A_(e)?e:{...e,uid:$d("uid")},E_=e=>e.uid!==void 0,M_=Oa([ye("name"),ye("factory"),ye("configFields"),ee("apis",{}),ee("extraApis",{})]),__=Oa([ye("name"),ye("factory"),ye("configFields"),ye("partFields"),ee("apis",{}),ee("extraApis",{})]),Fa=e=>{const t=jr("Sketcher for "+e.name,M_,e),n=r=>O_(t.name,t.configFields,t.factory,r),o=ge(t.apis,Vg),s=ge(t.extraApis,(r,a)=>_f(r,a));return{name:t.name,configFields:t.configFields,sketch:n,...o,...s}},Cr=e=>{const t=jr("Sketcher for "+e.name,__,e),n=a=>$0(t.name,t.configFields,t.partFields,t.factory,a),o=Rf(t.name,t.partFields),s=ge(t.apis,Vg),r=ge(t.extraApis,(a,c)=>_f(a,c));return{name:t.name,partFields:t.partFields,configFields:t.configFields,sketch:n,parts:o,...s,...r}},jc=Fa({name:"Container",factory:e=>{const{attributes:t,...n}=e.dom;return{uid:e.uid,dom:{tag:"div",attributes:{role:"presentation",...t},...n},components:e.components,behaviours:Yg(e.containerBehaviours),events:e.events,domModification:e.domModification,eventOrder:e.eventOrder}},configFields:[ee("components",[]),ks("containerBehaviours",[]),ee("events",{}),ee("domModification",{}),ee("eventOrder",{})]}),H0="data-initial-z-index",D_=e=>{ir(e.element).filter(br).each(t=>{es(t,H0).fold(()=>Ne(t,"z-index"),n=>Vt(t,"z-index",n)),Fo(t,H0)})},F_=e=>{ir(e.element).filter(br).each(t=>{H(t,"z-index").each(n=>{Lt(t,H0,n)}),Vt(t,"z-index",p(e.element,"z-index"))})},Dx=(e,t)=>{e.getSystem().addToGui(t),F_(t)},I_=e=>{D_(e),e.getSystem().removeFromGui(e)},Fx=(e,t,n)=>e.getSystem().build(jc.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[t]},events:n}));var $_=ca("snaps",[ye("getSnapPoints"),$n("onSensor"),ye("leftAttr"),ye("topAttr"),ee("lazyViewport",Sr),ee("mustSnap",!1)]);const R0=[ee("useFixed",ue),ye("blockerClass"),ee("getTarget",Ve),ee("onDrag",ce),ee("repositionTarget",!0),ee("onDrop",ce),bo("getBounds",Sr),$_],H_=e=>po(H(e,"left"),H(e,"top"),H(e,"position"),(t,n,o)=>(o==="fixed"?Ou:Kg)(parseInt(t,10),parseInt(n,10))).getOrThunk(()=>{const t=Hr(e);return Al(t.left,t.top)}),R_=(e,t,n,o,s)=>{const r=s.bounds,a=Hd(t,n,o),c=fn(a.left,r.x,r.x+r.width-s.width),i=fn(a.top,r.y,r.y+r.height-s.height),d=Al(c,i);return t.fold(()=>{const g=kx(d,n,o);return Kg(g.left,g.top)},A(d),()=>{const g=qg(d,n,o);return Ou(g.left,g.top)})},L_=(e,t,n,o,s,r,a)=>{const c=t.fold(()=>{const i=g_(n,r.left,r.top),d=qg(i,o,s);return Ou(d.left,d.top)},i=>{const d=y_(e,i,n,r,o,s);return d.extra.each(g=>{i.onSensor(e,g)}),d.coord});return R_(e,c,o,s,a)},P_=(e,t,n,o)=>{const s=t.getTarget(e.element);if(t.repositionTarget){const r=$r(e.element),a=Rr(r),c=ty(s),i=H_(s),d=L_(e,t.snaps,i,a,c,o,n),g=Ox(d,a,c);u(s,g)}t.onDrag(e,s,o)},Ix=(e,t)=>({bounds:e.getBounds(),height:ho(t.element),width:gl(t.element)}),L0=(e,t,n,o,s)=>{const r=n.update(o,s),a=n.getStartData().getOrThunk(()=>Ix(t,e));r.each(c=>{P_(e,t,a,c)})},$x=(e,t,n,o)=>{t.each(I_),n.snaps.each(r=>{x_(e,r)});const s=n.getTarget(e.element);o.reset(),n.onDrop(e,s)},P0=e=>(t,n)=>{const o=s=>{n.setStartData(Ix(t,s))};return Co([le(wf(),s=>{n.getStartData().each(()=>o(s))}),...e(t,n,o)])},B_=e=>Co([le(Ea(),e.forceDrop),le(vf(),e.drop),le(mg(),(t,n)=>{e.move(n.event)}),le(hg(),e.delayDrop)]);var N_=Object.freeze({__proto__:null,getData:e=>h.from(Mo(e.x,e.y)),getDelta:(e,t)=>Mo(t.left-e.left,t.top-e.top)});const Hx=(e,t,n)=>[le(Ea(),(o,s)=>{if(s.event.raw.button!==0)return;s.stop();const a=()=>$x(o,h.some(d),e,t),c=Ay(a,200),i={drop:a,delayDrop:c.schedule,forceDrop:a,move:f=>{c.cancel(),L0(o,e,t,N_,f)}},d=Fx(o,e.blockerClass,B_(i));(()=>{n(o),Dx(o,d)})()})],V_=[...R0,_o("dragger",{handlers:P0(Hx)})],z_=e=>Co([le(Bi(),e.forceDrop),le(gu(),e.drop),le(by(),e.drop),le(Dm(),(t,n)=>{e.move(n.event)})]),Z_=e=>{const t=e[0];return h.some(Mo(t.clientX,t.clientY))};var Rx=Object.freeze({__proto__:null,getData:e=>{const n=e.raw.touches;return n.length===1?Z_(n):h.none()},getDelta:(e,t)=>Mo(t.left-e.left,t.top-e.top)});const Lx=(e,t,n)=>{const o=kn(),s=r=>{$x(r,o.get(),e,t),o.clear()};return[le(Bi(),(r,a)=>{a.stop();const c=()=>s(r),i={drop:c,delayDrop:ce,forceDrop:c,move:f=>{L0(r,e,t,Rx,f)}},d=Fx(r,e.blockerClass,z_(i));o.set(d),(()=>{n(r),Dx(r,d)})()}),le(Dm(),(r,a)=>{a.stop(),L0(r,e,t,Rx,a.event)}),le(gu(),(r,a)=>{a.stop(),s(r)}),le(by(),s)]},U_=[...R0,_o("dragger",{handlers:P0(Lx)})],W_=(e,t,n)=>[...Hx(e,t,n),...Lx(e,t,n)],j_=[...R0,_o("dragger",{handlers:P0(W_)})];var G_=Object.freeze({__proto__:null,mouse:V_,touch:U_,mouseOrTouch:j_}),q_=Object.freeze({__proto__:null,init:()=>{let e=h.none(),t=h.none();const n=()=>{e=h.none(),t=h.none()},o=(i,d)=>{const g=e.map(f=>i.getDelta(f,d));return e=h.some(d),g},s=(i,d)=>i.getData(d).bind(g=>o(i,g)),r=i=>{t=h.some(i)},a=()=>t,c=A({});return _a({readState:c,reset:n,update:s,getStartData:a,setStartData:r})}});const Au=m4({branchKey:"mode",branches:G_,name:"dragging",active:{events:(e,t)=>e.dragger.handlers(e,t)},extra:{snap:e=>({sensor:e.sensor,range:e.range,output:e.output,extra:h.from(e.extra)})},state:q_,apis:T_}),K_=["input","textarea"],Px=e=>{const t=Wa(e);return Ee(K_,t)},Bx=(e,t)=>{const n=t.getRoot(e).getOr(e.element);Lo(n,t.invalidClass),t.notify.each(o=>{Px(e.element)&&Lt(e.element,"aria-invalid",!1),o.getContainer(e).each(s=>{Rc(s,o.validHtml)}),o.onValid(e)})},Nx=(e,t,n,o)=>{const s=t.getRoot(e).getOr(e.element);Ro(s,t.invalidClass),t.notify.each(r=>{Px(e.element)&&Lt(e.element,"aria-invalid",!0),r.getContainer(e).each(a=>{Rc(a,o)}),r.onInvalid(e,o)})},Vx=(e,t,n)=>t.validator.fold(()=>An.pure(Ot.value(!0)),o=>o.validate(e)),B0=(e,t,n)=>(t.notify.each(o=>{o.onValidate(e)}),Vx(e,t).map(o=>e.getSystem().isConnected()?o.fold(s=>(Nx(e,t,n,s),Ot.error(s)),s=>(Bx(e,t),Ot.value(s))):Ot.error("No longer in system")));var Y_=Object.freeze({__proto__:null,markValid:Bx,markInvalid:Nx,query:Vx,run:B0,isInvalid:(e,t)=>{const n=t.getRoot(e).getOr(e.element);return xr(n,t.invalidClass)}}),X_=Object.freeze({__proto__:null,events:(e,t)=>e.validator.map(n=>Co([le(n.onEvent,o=>{B0(o,e,t).get(Ve)})].concat(n.validateOnLoad?[vo(o=>{B0(o,e,t).get(ce)})]:[]))).getOr({})}),J_=[ye("invalidClass"),ee("getRoot",h.none),ca("notify",[ee("aria","alert"),ee("getContainer",h.none),ee("validHtml",""),$n("onValid"),$n("onInvalid"),$n("onValidate")]),ca("validator",[ye("validate"),ee("onEvent","input"),ee("validateOnLoad",!0)])];const N0=(e,t,n)=>{t.store.manager.onLoad(e,t,n)},zx=(e,t,n)=>{t.store.manager.onUnload(e,t,n)};var Q_=Object.freeze({__proto__:null,onLoad:N0,onUnload:zx,setValue:(e,t,n,o)=>{t.store.manager.setValue(e,t,n,o)},getValue:(e,t,n)=>t.store.manager.getValue(e,t,n),getState:(e,t,n)=>n}),eD=Object.freeze({__proto__:null,events:(e,t)=>{const n=e.resetOnDom?[vo((o,s)=>{N0(o,e,t)}),Zc((o,s)=>{zx(o,e,t)})]:[i0(e,t,N0)];return Co(n)}});const Zx=()=>{const e=ot(null),t=()=>({mode:"memory",value:e.get()}),n=()=>e.get()===null,o=()=>{e.set(null)};return _a({set:e.set,get:e.get,isNotSet:n,clear:o,readState:t})},tD=()=>_a({readState:ce}),Ux=()=>{const e=ot({}),t=ot({});return _a({readState:()=>({mode:"dataset",dataByValue:e.get(),dataByText:t.get()}),lookup:a=>lt(e.get(),a).orThunk(()=>lt(t.get(),a)),update:a=>{const c=e.get(),i=t.get(),d={},g={};_e(a,f=>{d[f.value]=f,lt(f,"meta").each(y=>{lt(y,"text").each(T=>{g[T]=f})})}),e.set({...c,...d}),t.set({...i,...g})},clear:()=>{e.set({}),t.set({})}})};var nD=Object.freeze({__proto__:null,memory:Zx,dataset:Ux,manual:tD,init:e=>e.store.manager.state(e)});const Wx=(e,t,n,o)=>{const s=t.store;n.update([o]),s.setValue(e,o),t.onSetValue(e,o)},oD=(e,t,n)=>{const o=t.store,s=o.getDataKey(e);return n.lookup(s).getOrThunk(()=>o.getFallbackEntry(s))},sD=(e,t,n)=>{t.store.initialValue.each(s=>{Wx(e,t,n,s)})},rD=(e,t,n)=>{n.clear()};var aD=[Zn("initialValue"),ye("getFallbackEntry"),ye("getDataKey"),ye("setValue"),_o("manager",{setValue:Wx,getValue:oD,onLoad:sD,onUnload:rD,state:Ux})];const cD=(e,t,n)=>t.store.getValue(e),iD=(e,t,n,o)=>{t.store.setValue(e,o),t.onSetValue(e,o)},lD=(e,t,n)=>{t.store.initialValue.each(o=>{t.store.setValue(e,o)})};var uD=[ye("getValue"),ee("setValue",ce),Zn("initialValue"),_o("manager",{setValue:iD,getValue:cD,onLoad:lD,onUnload:ce,state:zc.init})];const dD=(e,t,n,o)=>{n.set(o),t.onSetValue(e,o)},mD=(e,t,n)=>n.get(),hD=(e,t,n)=>{t.store.initialValue.each(o=>{n.isNotSet()&&n.set(o)})},gD=(e,t,n)=>{n.clear()};var pD=[Zn("initialValue"),_o("manager",{setValue:dD,getValue:mD,onLoad:hD,onUnload:gD,state:Zx})],fD=[Ka("store",{mode:"memory"},Gr("mode",{memory:pD,manual:uD,dataset:aD})),$n("onSetValue"),ee("resetOnDom",!1)];const Ye=Ls({fields:fD,name:"representing",active:eD,apis:Q_,extra:{setValueFrom:(e,t)=>{const n=Ye.getValue(t);Ye.setValue(e,n)}},state:nD}),xi=Ls({fields:J_,name:"invalidating",active:X_,apis:Y_,extra:{validation:e=>t=>{const n=Ye.getValue(t);return An.pure(e(n))}}});var bD=Object.freeze({__proto__:null,exhibit:(e,t)=>vc({classes:[],styles:t.useFixed()?{}:{position:"relative"}})});const V0=Ko.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),jx=(e,t,n,o,s,r)=>{const a=t.rect,c=a.x-n,i=a.y-o,d=a.width,g=a.height,f=s-(c+d),y=r-(i+g),T=h.some(c),_=h.some(i),L=h.some(f),z=h.some(y),R=h.none();return eA(t.direction,()=>yc(e,T,_,R,R),()=>yc(e,R,_,L,R),()=>yc(e,T,R,R,z),()=>yc(e,R,R,L,z),()=>yc(e,T,_,R,R),()=>yc(e,T,R,R,z),()=>yc(e,T,_,R,R),()=>yc(e,R,_,L,R))},Gx=(e,t)=>e.fold(()=>{const n=t.rect;return yc("absolute",h.some(n.x),h.some(n.y),h.none(),h.none())},(n,o,s,r)=>jx("absolute",t,n,o,s,r),(n,o,s,r)=>jx("fixed",t,n,o,s,r)),z0=(e,t)=>{const n=cn(rf,t),o=e.fold(n,n,()=>{const a=Rr();return rf(t).translate(-a.left,-a.top)}),s=gl(t),r=ho(t);return Hs(o.left,o.top,s,r)},vD=(e,t)=>t.fold(()=>e.fold(Sr,Sr,Hs),n=>e.fold(A(n),A(n),()=>{const o=qx(e,n.x,n.y);return Hs(o.left,o.top,n.width,n.height)})),qx=(e,t,n)=>{const o=Mo(t,n),s=()=>{const r=Rr();return o.translate(-r.left,-r.top)};return e.fold(A(o),A(o),s)},yD=(e,t,n,o)=>e.fold(t,n,o);V0.none;const xD=V0.relative,wD=V0.fixed,SD=(e,t)=>({anchorBox:e,origin:t}),CD=(e,t)=>SD(e,t),Xg=Ko.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),TD=(e,t)=>{const{x:n,y:o,right:s,bottom:r}=t,{x:a,y:c,right:i,bottom:d,width:g,height:f}=e,y=a>=n&&a<=s,T=c>=o&&c<=r,_=y&&T,L=i<=s&&i>=n,z=d<=r&&d>=o,R=L&&z,W=Math.min(g,a>=n?s-a:i-n),G=Math.min(f,c>=o?r-c:d-o);return{originInBounds:_,sizeInBounds:R,visibleW:W,visibleH:G}},kD=(e,t)=>{const{x:n,y:o,right:s,bottom:r}=t,{x:a,y:c,width:i,height:d}=e,g=Math.max(n,s-i),f=Math.max(o,r-d),y=fn(a,n,g),T=fn(c,o,f),_=Math.min(y+i,s)-y,L=Math.min(T+d,r)-T;return Hs(y,T,_,L)},OD=(e,t,n)=>{const o=A(t.bottom-n.y),s=A(n.bottom-t.y),r=tA(e,s,s,o),a=A(t.right-n.x),c=A(n.right-t.x);return{maxWidth:nA(e,c,c,a),maxHeight:r}},AD=(e,t,n,o)=>{const s=e.bubble,r=s.offset,a=sA(o,e.restriction,r),c=e.x+r.left,i=e.y+r.top,d=Hs(c,i,t,n),{originInBounds:g,sizeInBounds:f,visibleW:y,visibleH:T}=TD(d,a),_=g&&f,L=_?d:kD(d,a),z=L.width>0&&L.height>0,{maxWidth:R,maxHeight:W}=OD(e.direction,L,o),G={rect:L,maxHeight:W,maxWidth:R,direction:e.direction,placement:e.placement,classes:{on:s.classesOn,off:s.classesOff},layout:e.label,testY:i};return _||e.alwaysFit?Xg.fit(G):Xg.nofit(G,y,T,z)},ED=(e,t,n,o,s,r)=>{const a=o.width,c=o.height,i=(g,f,y,T,_)=>{const L=g(n,o,s,e,r),z=AD(L,a,c,r);return z.fold(A(z),(R,W,G,oe)=>(_===oe?G>T||W>y:!_&&oe)?z:Xg.nofit(f,y,T,_))};return On(t,(g,f)=>{const y=cn(i,f);return g.fold(A(g),y)},Xg.nofit({rect:n,maxHeight:o.height,maxWidth:o.width,direction:Eg(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:n.y},-1,-1,!1)).fold(Ve,Ve)},Kx=["top","bottom","right","left"],Jg="data-alloy-transition-timer",MD=(e,t)=>tf(e,t.classes),_D=(e,t,n)=>n.exists(o=>{const s=e.mode;return s==="all"?!0:o[s]!==t[s]}),DD=(e,t)=>{const n=o=>parseFloat(o).toFixed(3);return oo(t,(o,s)=>{const r=e[s].map(n),a=o.map(n);return!mt(r,a)}).isSome()},FD=e=>{const t=r=>{const c=p(e,r).split(/\s*,\s*/);return jt(c,sr)},n=r=>{if(X(r)&&/^[\d.]+/.test(r)){const a=parseFloat(r);return or(r,"ms")?a:a*1e3}else return 0},o=t("transition-delay"),s=t("transition-duration");return On(s,(r,a,c)=>{const i=n(o[c])+n(a);return Math.max(r,i)},0)},ID=(e,t)=>{const n=Vs(),o=Vs();let s;const r=d=>{var g;const f=(g=d.raw.pseudoElement)!==null&&g!==void 0?g:"";return dn(d.target,e)&&fr(f)&&Ee(Kx,d.raw.propertyName)},a=d=>{if(Je(d)||r(d)){n.clear(),o.clear();const g=d==null?void 0:d.raw.type;(Je(g)||g===Fm())&&(clearTimeout(s),Fo(e,Jg),ka(e,t.classes))}},c=Xo(e,bO(),d=>{r(d)&&(c.unbind(),n.set(Xo(e,Fm(),a)),o.set(Xo(e,fO(),a)))}),i=FD(e);requestAnimationFrame(()=>{s=setTimeout(a,i+17),Lt(e,Jg,s)})},$D=(e,t)=>{Ri(e,t.classes),es(e,Jg).each(n=>{clearTimeout(parseInt(n,10)),Fo(e,Jg)}),ID(e,t)},HD=(e,t,n,o,s,r)=>{const a=_D(o,s,r);if(a||MD(e,o)){Vt(e,"position",n.position);const c=z0(t,e),i=Gx(t,{...s,rect:c}),d=ro(Kx,g=>i[g]);DD(n,d)&&(u(e,d),a&&$D(e,o),Kt(e))}else ka(e,o.classes)},RD=e=>({width:Math.ceil(Vp(e)),height:ho(e)}),LD=(e,t,n,o)=>{Ne(t,"max-height"),Ne(t,"max-width");const s=RD(t);return ED(t,o.preference,e,s,n,o.bounds)},PD=(e,t)=>{const n=t.classes;ka(e,n.off),Ri(e,n.on)},BD=(e,t,n)=>{const o=n.maxHeightFunction;o(e,t.maxHeight)},ND=(e,t,n)=>{const o=n.maxWidthFunction;o(e,t.maxWidth)},VD=(e,t,n)=>{const o=Gx(n.origin,t);n.transition.each(s=>{HD(e,n.origin,o,s,t,n.lastPlacement)}),px(e,o)},zD=(e,t)=>{cA(e,t.placement)},Yx=(e,t,n)=>e[t]===void 0?n:e[t],ZD=(e,t,n,o,s,r,a,c)=>{const i=Yx(a,"maxHeightFunction",c4()),d=Yx(a,"maxWidthFunction",ce),g=e.anchorBox,f=e.origin,y={bounds:vD(f,r),origin:f,preference:o,maxHeightFunction:i,maxWidthFunction:d,lastPlacement:s,transition:c};return UD(g,t,n,y)},UD=(e,t,n,o)=>{const s=LD(e,t,n,o);return VD(t,s,o),zD(t,s),PD(t,s),BD(t,s,o),ND(t,s,o),{layout:s.layout,placement:s.placement}},Qg=Ve,El=()=>ca("layouts",[ye("onLtr"),ye("onRtl"),Zn("onBottomLtr"),Zn("onBottomRtl")]),e1=(e,t,n,o,s,r,a)=>{const c=a.map(mA).getOr(!1),i=t.layouts.map(T=>T.onLtr(e)),d=t.layouts.map(T=>T.onRtl(e)),g=c?t.layouts.bind(T=>T.onBottomLtr.map(_=>_(e))).or(i).getOr(s):i.getOr(n),f=c?t.layouts.bind(T=>T.onBottomRtl.map(_=>_(e))).or(d).getOr(r):d.getOr(o);return wm(g,f)(e)},WD=(e,t,n)=>{const o=t.hotspot,s=z0(n,o.element),r=e1(e.element,t,Kf(),Yf(),Jy(),Qy(),h.some(t.hotspot.element));return h.some(Qg({anchorBox:s,bubble:t.bubble.getOr(Ag()),overrides:t.overrides,layouts:r}))};var jD=[ye("hotspot"),Zn("bubble"),ee("overrides",{}),El(),_o("placement",WD)];const GD=(e,t,n)=>{const o=qx(n,t.x,t.y),s=Hs(o.left,o.top,t.width,t.height),r=e1(e.element,t,Yy(),Xy(),Yy(),Xy(),h.none());return h.some(Qg({anchorBox:s,bubble:t.bubble,overrides:t.overrides,layouts:r}))};var qD=[ye("x"),ye("y"),ee("height",0),ee("width",0),ee("bubble",Ag()),ee("overrides",{}),El(),_o("placement",GD)];const Xx=Ko.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),KD=e=>e.fold(Ve,(t,n,o)=>t.translate(-n,-o)),YD=e=>e.fold(Ve,Ve),Jx=e=>On(e,(t,n)=>t.translate(n.left,n.top),Mo(0,0)),XD=e=>{const t=re(e,KD);return Jx(t)},Qx=e=>{const t=re(e,YD);return Jx(t)},JD=Xx.screen,QD=Xx.absolute,eF=(e,t,n)=>{const o=wa(n.root).dom,s=r=>{const a=$r(r),c=$r(e.element);return dn(a,c)};return h.from(o.frameElement).map(Be.fromDom).filter(s).map(Hr)},e3=(e,t,n)=>{const o=$r(e.element),s=Rr(o),r=eF(e,t,n).getOr(s);return QD(r,s.left,s.top)},Z0=(e,t,n,o)=>{const s=JD(Mo(e,t));return h.some(Ek(s,n,o))},t3=(e,t,n,o,s)=>e.map(r=>{const a=[t,r.point],c=yD(o,()=>Qx(a),()=>Qx(a),()=>XD(a)),i=Mk(c.left,c.top,r.width,r.height),d=n.showAbove?Jy():Kf(),g=n.showAbove?Qy():Yf(),f=e1(s,n,d,g,d,g,h.none());return Qg({anchorBox:i,bubble:n.bubble.getOr(Ag()),overrides:n.overrides,layouts:f})}),tF=(e,t,n)=>{const o=e3(e,n,t);return t.node.filter(ur).bind(s=>{const r=s.dom.getBoundingClientRect(),a=Z0(r.left,r.top,r.width,r.height),c=t.node.getOr(e.element);return t3(a,o,t,n,c)})};var nF=[ye("node"),ye("root"),Zn("bubble"),El(),ee("overrides",{}),ee("showAbove",!1),_o("placement",tF)];const t1=(e,t)=>({element:e,offset:t}),oF=(e,t)=>{const n=Ws(e);if(n.length===0)return t1(e,t);if(t<n.length)return t1(n[t],0);{const o=n[n.length-1],s=Ic(o)?Up(o).length:Ws(o).length;return t1(o,s)}},n3=(e,t)=>Ic(e)?t1(e,t):oF(e,t),U0=e=>e.foffset!==void 0,o3=(e,t)=>t.getSelection.getOrThunk(()=>()=>du(e))().map(o=>{if(U0(o)){const s=n3(o.start,o.soffset),r=n3(o.finish,o.foffset);return Ga.range(s.element,s.offset,r.element,r.offset)}else return o}),sF=(e,t,n)=>{const o=wa(t.root).dom,s=e3(e,n,t),r=o3(o,t).bind(i=>{if(U0(i))return vd(o,Ga.exactFromRange(i)).orThunk(()=>{const g=Be.fromText(Vr);mi(i.start,g);const f=bd(o,Ga.exact(g,0,g,1));return Ur(g),f}).bind(g=>Z0(g.left,g.top,g.width,g.height));{const d=ge(i,f=>f.dom.getBoundingClientRect()),g={left:Math.min(d.firstCell.left,d.lastCell.left),right:Math.max(d.firstCell.right,d.lastCell.right),top:Math.min(d.firstCell.top,d.lastCell.top),bottom:Math.max(d.firstCell.bottom,d.lastCell.bottom)};return Z0(g.left,g.top,g.right-g.left,g.bottom-g.top)}}),c=o3(o,t).bind(i=>U0(i)?br(i.start)?h.some(i.start):vr(i.start):h.some(i.firstCell)).getOr(e.element);return t3(r,s,t,n,c)};var rF=[Zn("getSelection"),ye("root"),Zn("bubble"),El(),ee("overrides",{}),ee("showAbove",!1),_o("placement",sF)];const n1="link-layout",s3=e=>e.x+e.width,r3=(e,t)=>e.x-t.width,a3=(e,t)=>e.y-t.height+e.height,c3=e=>e.y,i3=(e,t,n)=>Ks(s3(e),c3(e),n.southeast(),Eg(),"southeast",Ys(e,{left:0,top:2}),n1),l3=(e,t,n)=>Ks(r3(e,t),c3(e),n.southwest(),zf(),"southwest",Ys(e,{right:1,top:2}),n1),u3=(e,t,n)=>Ks(s3(e),a3(e,t),n.northeast(),Zf(),"northeast",Ys(e,{left:0,bottom:3}),n1),d3=(e,t,n)=>Ks(r3(e,t),a3(e,t),n.northwest(),Uf(),"northwest",Ys(e,{right:1,bottom:3}),n1),m3=()=>[i3,l3,u3,d3],h3=()=>[l3,i3,d3,u3],aF=(e,t,n)=>{const o=z0(n,t.item.element),s=e1(e.element,t,m3(),h3(),m3(),h3(),h.none());return h.some(Qg({anchorBox:o,bubble:Ag(),overrides:t.overrides,layouts:s}))};var cF=[ye("item"),El(),ee("overrides",{}),_o("placement",aF)],iF=Gr("type",{selection:rF,node:nF,hotspot:jD,submenu:cF,makeshift:qD});const lF=[aa("classes",ys),Bc("mode","all",["all","layout","placement"])],uF=[ee("useFixed",ue),Zn("getBounds")],dF=[Aa("anchor",iF),ca("transition",lF)],mF=()=>{const e=document.documentElement;return wD(0,0,e.clientWidth,e.clientHeight)},hF=e=>{const t=Hr(e.element),n=e.element.dom.getBoundingClientRect();return xD(t.left,t.top,n.width,n.height)},gF=(e,t,n,o,s,r)=>{const a=CD(t.anchorBox,e);return ZD(a,o.element,t.bubble,t.layouts,s,n,t.overrides,r)},pF=(e,t,n,o,s)=>{const r=h.none();g3(e,t,n,o,s,r)},g3=(e,t,n,o,s,r)=>{const a=jr("placement.info",Ht(dF),s),c=a.anchor,i=o.element,d=n.get(o.uid);v0(()=>{Vt(i,"position","fixed");const g=H(i,"visibility");Vt(i,"visibility","hidden");const f=t.useFixed()?mF():hF(e);c.placement(e,c,f).each(y=>{const T=r.orThunk(()=>t.getBounds.map(to)),_=gF(f,y,T,o,d,a.transition);n.set(o.uid,_)}),g.fold(()=>{Ne(i,"visibility")},y=>{Vt(i,"visibility",y)}),H(i,"left").isNone()&&H(i,"top").isNone()&&H(i,"right").isNone()&&H(i,"bottom").isNone()&&dt(H(i,"position"),"fixed")&&Ne(i,"position")},i)};var fF=Object.freeze({__proto__:null,position:pF,positionWithinBounds:g3,getMode:(e,t,n)=>t.useFixed()?"fixed":"absolute",reset:(e,t,n,o)=>{const s=o.element;_e(["position","left","right","top","bottom"],r=>Ne(s,r)),iA(s),n.clear(o.uid)}}),bF=Object.freeze({__proto__:null,init:()=>{let e={};return _a({readState:()=>e,clear:s=>{Xe(s)?delete e[s]:e={}},set:(s,r)=>{e[s]=r},get:s=>lt(e,s)})}});const gr=Ls({fields:uF,name:"positioning",active:bD,apis:fF,state:bF}),vF=(e,t)=>t.universal?e:jt(e,n=>Ee(t.channels,n));var yF=Object.freeze({__proto__:null,events:e=>Co([le(fu(),(t,n)=>{const o=e.channels,s=en(o),r=n,a=vF(s,r);_e(a,c=>{const i=o[c],d=i.schema,g=jr("channel["+c+`] data
Receiver: `+wl(t.element),d,r.data);i.onReceive(t,g)})})])}),xF=[Aa("channels",dy(Ot.value,Oa([yu("onReceive"),ee("schema",uc())])))];const ua=Ls({fields:xF,name:"receiving",active:yF});var wF=Object.freeze({__proto__:null,events:(e,t)=>{const n=(o,s)=>{e.updateState.each(r=>{const a=r(o,s);t.set(a)}),e.renderComponents.each(r=>{const a=r(s,t.get());(e.reuseDom?cx:ax)(o,a)})};return Co([le(fu(),(o,s)=>{const r=s;if(!r.universal){const a=e.channel;Ee(r.channels,a)&&n(o,r.data)}}),vo((o,s)=>{e.initialData.each(r=>{n(o,r)})})])}}),SF=Object.freeze({__proto__:null,getState:(e,t,n)=>n}),CF=[ye("channel"),Zn("renderComponents"),Zn("updateState"),Zn("initialData"),dr("reuseDom",!0)],TF=Object.freeze({__proto__:null,init:()=>{const e=ot(h.none()),t=()=>e.set(h.none());return{readState:()=>e.get().getOr("none"),get:e.get,set:e.set,clear:t}}});const da=Ls({fields:CF,name:"reflecting",active:wF,apis:SF,state:TF}),p3=(e,t,n,o)=>{n.get().each(a=>{tx(e)});const s=t.getAttachPoint(e);Tu(s,e);const r=e.getSystem().build(o);return Tu(e,r),n.set(r),r},f3=(e,t,n,o)=>{const s=p3(e,t,n,o);return t.onOpen(e,s),s},kF=(e,t,n,o)=>n.get().map(()=>p3(e,t,n,o)),OF=(e,t,n,o,s)=>{y3(e,t),f3(e,t,n,o),s(),x3(e,t)},b3=(e,t,n)=>{n.get().each(o=>{tx(e),Ui(e),t.onClose(e,o),n.clear()})},v3=(e,t,n)=>n.isOpen(),AF=(e,t,n,o)=>v3(e,t,n)&&n.get().exists(s=>t.isPartOf(e,s,o)),EF=(e,t,n)=>n.get(),MF=(e,t,n,o)=>{H(e.element,t).fold(()=>{Fo(e.element,n)},s=>{Lt(e.element,n,s)}),Vt(e.element,t,o)},_F=(e,t,n)=>{es(e.element,n).fold(()=>Ne(e.element,t),o=>Vt(e.element,t,o))},y3=(e,t,n)=>{const o=t.getAttachPoint(e);Vt(e.element,"position",gr.getMode(o)),MF(e,"visibility",t.cloakVisibilityAttr,"hidden")},DF=e=>Dt(["top","left","right","bottom"],t=>H(e,t).isSome()),x3=(e,t,n)=>{DF(e.element)||Ne(e.element,"position"),_F(e,"visibility",t.cloakVisibilityAttr)};var FF=Object.freeze({__proto__:null,cloak:y3,decloak:x3,open:f3,openWhileCloaked:OF,close:b3,isOpen:v3,isPartOf:AF,getState:EF,setContent:kF}),IF=Object.freeze({__proto__:null,events:(e,t)=>Co([le(gg(),(n,o)=>{b3(n,e,t)})])}),$F=[$n("onOpen"),$n("onClose"),ye("isPartOf"),ye("getAttachPoint"),ee("cloakVisibilityAttr","data-precloak-visibility")],HF=Object.freeze({__proto__:null,init:()=>{const e=kn(),t=A("not-implemented");return _a({readState:t,isOpen:e.isSet,clear:e.clear,set:e.set,get:e.get})}});const Hn=Ls({fields:$F,name:"sandboxing",active:IF,apis:FF,state:HF}),Gm=(e,t)=>t.getAnimationRoot.fold(()=>e.element,n=>n(e)),ji=e=>e.dimension.property,Eu=(e,t)=>e.dimension.getDimension(t),o1=(e,t)=>{const n=Gm(e,t);ka(n,[t.shrinkingClass,t.growingClass])},W0=(e,t)=>{Lo(e.element,t.openClass),Ro(e.element,t.closedClass),Vt(e.element,ji(t),"0px"),Kt(e.element)},j0=(e,t)=>{Lo(e.element,t.closedClass),Ro(e.element,t.openClass),Ne(e.element,ji(t))},w3=(e,t,n,o)=>{n.setCollapsed(),Vt(e.element,ji(t),Eu(t,e.element)),o1(e,t),W0(e,t),t.onStartShrink(e),t.onShrunk(e)},RF=(e,t,n,o)=>{const s=o.getOrThunk(()=>Eu(t,e.element));n.setCollapsed(),Vt(e.element,ji(t),s),Kt(e.element);const r=Gm(e,t);Lo(r,t.growingClass),Ro(r,t.shrinkingClass),W0(e,t),t.onStartShrink(e)},S3=(e,t,n)=>{const o=Eu(t,e.element);(o==="0px"?w3:RF)(e,t,n,h.some(o))},C3=(e,t,n)=>{const o=Gm(e,t),s=xr(o,t.shrinkingClass),r=Eu(t,e.element);j0(e,t);const a=Eu(t,e.element);(s?()=>{Vt(e.element,ji(t),r),Kt(e.element)}:()=>{W0(e,t)})(),Lo(o,t.shrinkingClass),Ro(o,t.growingClass),j0(e,t),Vt(e.element,ji(t),a),n.setExpanded(),t.onStartGrow(e)},LF=(e,t,n)=>{if(n.isExpanded()){Ne(e.element,ji(t));const o=Eu(t,e.element);Vt(e.element,ji(t),o)}},PF=(e,t,n)=>{n.isExpanded()||C3(e,t,n)},BF=(e,t,n)=>{n.isExpanded()&&S3(e,t,n)},NF=(e,t,n)=>{n.isExpanded()&&w3(e,t,n)},VF=(e,t,n)=>n.isExpanded(),zF=(e,t,n)=>n.isCollapsed(),T3=(e,t,n)=>{const o=Gm(e,t);return xr(o,t.growingClass)===!0},k3=(e,t,n)=>{const o=Gm(e,t);return xr(o,t.shrinkingClass)===!0};var ZF=Object.freeze({__proto__:null,refresh:LF,grow:PF,shrink:BF,immediateShrink:NF,hasGrown:VF,hasShrunk:zF,isGrowing:T3,isShrinking:k3,isTransitioning:(e,t,n)=>T3(e,t)||k3(e,t),toggleGrow:(e,t,n)=>{(n.isExpanded()?S3:C3)(e,t,n)},disableTransitions:o1,immediateGrow:(e,t,n)=>{n.isExpanded()||(j0(e,t),Vt(e.element,ji(t),Eu(t,e.element)),o1(e,t),n.setExpanded(),t.onStartGrow(e),t.onGrown(e))}}),UF=Object.freeze({__proto__:null,exhibit:(e,t,n)=>{const o=t.expanded;return vc(o?{classes:[t.openClass],styles:{}}:{classes:[t.closedClass],styles:hu(t.dimension.property,"0px")})},events:(e,t)=>Co([_d(Fm(),(n,o)=>{o.event.raw.propertyName===e.dimension.property&&(o1(n,e),t.isExpanded()&&Ne(n.element,e.dimension.property),(t.isExpanded()?e.onGrown:e.onShrunk)(n))})])}),WF=[ye("closedClass"),ye("openClass"),ye("shrinkingClass"),ye("growingClass"),Zn("getAnimationRoot"),$n("onShrunk"),$n("onStartShrink"),$n("onGrown"),$n("onStartGrow"),ee("expanded",!1),Aa("dimension",Gr("property",{width:[_o("property","width"),_o("getDimension",e=>yr(e)+"px")],height:[_o("property","height"),_o("getDimension",e=>pn(e)+"px")]}))],jF=Object.freeze({__proto__:null,init:e=>{const t=ot(e.expanded),n=()=>"expanded: "+t.get();return _a({isExpanded:()=>t.get()===!0,isCollapsed:()=>t.get()===!1,setCollapsed:cn(t.set,!1),setExpanded:cn(t.set,!0),readState:n})}});const qr=Ls({fields:WF,name:"sliding",active:UF,apis:ZF,state:jF});var GF=Object.freeze({__proto__:null,events:(e,t)=>{const o=e.stream.streams.setup(e,t);return Co([le(e.event,o),Zc(()=>t.cancel())].concat(e.cancelEvent.map(s=>[le(s,()=>t.cancel())]).getOr([])))}});const O3=e=>{const t=ot(null);return _a({readState:()=>({timer:t.get()!==null?"set":"unset"}),setTimer:r=>{t.set(r)},cancel:()=>{const r=t.get();r!==null&&r.cancel()}})};var qF=Object.freeze({__proto__:null,throttle:O3,init:e=>e.stream.streams.state(e)});const KF=(e,t)=>{const n=e.stream,o=_r(e.onStream,n.delay);return t.setTimer(o),(s,r)=>{o.throttle(s,r),n.stopEvent&&r.stop()}};var YF=[Aa("stream",Gr("mode",{throttle:[ye("delay"),ee("stopEvent",!0),_o("streams",{setup:KF,state:O3})]})),ee("event","input"),Zn("cancelEvent"),yu("onStream")];const G0=Ls({fields:YF,name:"streaming",active:GF,state:qF});var XF=Object.freeze({__proto__:null,exhibit:(e,t)=>vc({attributes:Td([{key:t.tabAttr,value:"true"}])})}),JF=[ee("tabAttr","data-alloy-tabstop")];const co=Ls({fields:JF,name:"tabstopping",active:XF}),QF=(e,t,n)=>{const o=t.aria;o.update(e,o,n.get())},e9=(e,t,n)=>{t.toggleClass.each(o=>{n.get()?Ro(e.element,o):Lo(e.element,o)})},qm=(e,t,n,o)=>{const s=n.get();n.set(o),e9(e,t,n),QF(e,t,n),s!==o&&t.onToggled(e,o)},A3=(e,t,n)=>{qm(e,t,n,!n.get())},t9=(e,t,n)=>{qm(e,t,n,!0)},n9=(e,t,n)=>{qm(e,t,n,!1)},o9=(e,t,n)=>n.get(),E3=(e,t,n)=>{qm(e,t,n,t.selected)};var s9=Object.freeze({__proto__:null,onLoad:E3,toggle:A3,isOn:o9,on:t9,off:n9,set:qm}),r9=Object.freeze({__proto__:null,exhibit:()=>vc({}),events:(e,t)=>{const n=kA(e,t,A3),o=i0(e,t,E3);return Co(je([e.toggleOnExecute?[n]:[],[o]]))}});const a9=(e,t,n)=>{Lt(e.element,"aria-pressed",n),t.syncWithExpanded&&M3(e,t,n)},c9=(e,t,n)=>{Lt(e.element,"aria-selected",n)},i9=(e,t,n)=>{Lt(e.element,"aria-checked",n)},M3=(e,t,n)=>{Lt(e.element,"aria-expanded",n)};var l9=[ee("selected",!1),Zn("toggleClass"),ee("toggleOnExecute",!0),$n("onToggled"),Ka("aria",{mode:"none"},Gr("mode",{pressed:[ee("syncWithExpanded",!1),_o("update",a9)],checked:[_o("update",i9)],expanded:[_o("update",M3)],selected:[_o("update",c9)],none:[_o("update",ce)]}))];const tn=Ls({fields:l9,name:"toggling",active:r9,apis:s9,state:$A(!1)}),_3=O("tooltip.exclusive"),Km=O("tooltip.show"),Ym=O("tooltip.hide"),Xm=O("tooltip.immediateHide"),Jm=O("tooltip.immediateShow"),D3=(e,t,n)=>{e.getSystem().broadcastOn([_3],{})};var u9=Object.freeze({__proto__:null,hideAllExclusive:D3,immediateOpenClose:(e,t,n,o)=>Cn(e,o?Jm:Xm),isEnabled:(e,t,n)=>n.isEnabled(),setComponents:(e,t,n,o)=>{n.getTooltip().each(s=>{s.getSystem().isConnected()&&zt.set(s,o)})},setEnabled:(e,t,n,o)=>n.setEnabled(o)}),d9=Object.freeze({__proto__:null,events:(e,t)=>{const n=a=>{t.getTooltip().each(c=>{c.getSystem().isConnected()&&(Ui(c),e.onHide(a,c),t.clearTooltip())}),t.clearTimer()},o=a=>{if(!t.isShowing()&&t.isEnabled()){D3(a);const c=e.lazySink(a).getOrDie(),i=a.getSystem().build({dom:e.tooltipDom,components:e.tooltipComponents,events:Co(e.mode==="normal"?[le(bi(),d=>{Cn(a,Km)}),le(hg(),d=>{Cn(a,Ym)})]:[]),behaviours:Fe([zt.config({})])});t.setTooltip(i),Tu(c,i),e.onShow(a,i),gr.position(c,i,{anchor:e.anchor(a)})}},s=a=>{t.getTooltip().each(c=>{const i=e.lazySink(a).getOrDie();gr.position(i,c,{anchor:e.anchor(a)})})},r=()=>{switch(e.mode){case"normal":return[le(gc(),a=>{Cn(a,Jm)}),le(Im(),a=>{Cn(a,Xm)}),le(bi(),a=>{Cn(a,Km)}),le(hg(),a=>{Cn(a,Ym)})];case"follow-highlight":return[le(Cf(),(a,c)=>{Cn(a,Km)}),le(Tf(),a=>{Cn(a,Ym)})];case"children-normal":return[le(gc(),(a,c)=>{bs(a.element).each(i=>{qn(c.event.target,"[data-mce-tooltip]")&&t.getTooltip().fold(()=>{Cn(a,Jm)},d=>{t.isShowing()&&(e.onShow(a,d),s(a))})})}),le(Im(),a=>{bs(a.element).fold(()=>{Cn(a,Xm)},ce)}),le(bi(),a=>{Qn(a.element,"[data-mce-tooltip]:hover").each(c=>{t.getTooltip().fold(()=>{Cn(a,Km)},i=>{t.isShowing()&&(e.onShow(a,i),s(a))})})}),le(hg(),a=>{Qn(a.element,"[data-mce-tooltip]:hover").fold(()=>{Cn(a,Ym)},ce)})];default:return[le(gc(),(a,c)=>{bs(a.element).each(i=>{qn(c.event.target,"[data-mce-tooltip]")&&t.getTooltip().fold(()=>{Cn(a,Jm)},d=>{t.isShowing()&&(e.onShow(a,d),s(a))})})}),le(Im(),a=>{bs(a.element).fold(()=>{Cn(a,Xm)},ce)})]}};return Co(je([[u4(a=>{e.onSetup(a)}),le(Km,a=>{t.resetTimer(()=>{o(a)},e.delayForShow())}),le(Ym,a=>{t.resetTimer(()=>{n(a)},e.delayForHide())}),le(Jm,a=>{t.resetTimer(()=>{o(a)},0)}),le(Xm,a=>{t.resetTimer(()=>{n(a)},0)}),le(fu(),(a,c)=>{const i=c;i.universal||Ee(i.channels,_3)&&n(a)}),Zc(a=>{n(a)})],r()]))}}),m9=[ye("lazySink"),ye("tooltipDom"),ee("exclusive",!0),ee("tooltipComponents",[]),bo("delayForShow",A(300)),bo("delayForHide",A(100)),bo("onSetup",ce),Bc("mode","normal",["normal","follow-highlight","children-keyboard-focus","children-normal"]),ee("anchor",e=>({type:"hotspot",hotspot:e,layouts:{onLtr:A([us,Ts,is,Xs,ls,Js]),onRtl:A([us,Ts,is,Xs,ls,Js])},bubble:fc(0,-2,{})})),$n("onHide"),$n("onShow")],h9=Object.freeze({__proto__:null,init:()=>{const e=ot(!0),t=kn(),n=kn(),o=()=>{t.on(clearTimeout)},s=(a,c)=>{o(),t.set(setTimeout(a,c))},r=A("not-implemented");return _a({getTooltip:n.get,isShowing:n.isSet,setTooltip:n.set,clearTooltip:n.clear,clearTimer:o,resetTimer:s,readState:r,isEnabled:()=>e.get(),setEnabled:a=>e.set(a)})}});const ko=Ls({fields:m9,name:"tooltipping",active:d9,state:h9,apis:u9});var g9=Object.freeze({__proto__:null,events:()=>Co([l4(vO(),st)]),exhibit:()=>vc({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})});const Qm=Ls({fields:[],name:"unselecting",active:g9}),p9=e=>{const t=e.dom.attributes!==void 0?e.dom.attributes:[];return On(t,(n,o)=>o.name==="class"?n:{...n,[o.name]:o.value},{})},f9=e=>Array.prototype.slice.call(e.dom.classList,0),Gi=e=>{const t=Be.fromHtml(e),n=Ws(t),o=p9(t),s=f9(t),r=n.length===0?{}:{innerHtml:nu(t)};return{tag:Wa(t),classes:s,attributes:o,...r}},Vn=e=>{const t=E_(e)&&mo(e,"uid")?e.uid:$d("memento");return{get:r=>r.getSystem().getByUid(t).getOrDie(),getOpt:r=>r.getSystem().getByUid(t).toOptional(),asSpec:()=>({...e,uid:t})}},ws=JO,wi=KO,qi=A("dismiss.popups"),Ml=A("reposition.popups"),q0=A("mouse.released"),b9=(e,t)=>{const n=ot(!1),o=ot(!1);return{stop:()=>{n.set(!0)},cut:()=>{o.set(!0)},isStopped:n.get,isCut:o.get,event:e,setSource:t.set,getSource:t.get}},v9=e=>{const t=ot(!1);return{stop:()=>{t.set(!0)},cut:ce,isStopped:t.get,isCut:ue,event:e,setSource:hn("Cannot set source of a broadcasted event"),getSource:hn("Cannot get source of a broadcasted event")}},y9=e=>e.raw.which===PA[0]&&!Ee(["input","textarea"],Wa(e.target))&&!iu(e.target,'[contenteditable="true"]'),x9=(e,t)=>{const n={stopBackspace:!0,...t},o=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],s=RO(n),r=re(o.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),T=>Xo(e,T,_=>{s.fireIfReady(_,T).each(z=>{z&&_.kill()}),n.triggerEvent(T,_)&&_.kill()})),a=kn(),c=Xo(e,"paste",T=>{s.fireIfReady(T,"paste").each(L=>{L&&T.kill()}),n.triggerEvent("paste",T)&&T.kill(),a.set(setTimeout(()=>{n.triggerEvent(yf(),T)},0))}),i=Xo(e,"keydown",T=>{n.triggerEvent("keydown",T)?T.kill():n.stopBackspace&&y9(T)&&T.prevent()}),d=Xo(e,"focusin",T=>{n.triggerEvent("focusin",T)&&T.kill()}),g=kn(),f=Xo(e,"focusout",T=>{n.triggerEvent("focusout",T)&&T.kill(),g.set(setTimeout(()=>{n.triggerEvent(Im(),T)},0))});return{unbind:()=>{_e(r,T=>{T.unbind()}),i.unbind(),d.unbind(),f.unbind(),c.unbind(),a.on(clearTimeout),g.on(clearTimeout)}}},F3=(e,t)=>{const n=lt(e,"target").getOr(t);return ot(n)},eh=Ko.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),I3=(e,t,n,o,s,r)=>{const a=e(t,o),c=b9(n,s);return a.fold(()=>(r.logEventNoHandlers(t,o),eh.complete()),i=>{const d=i.descHandler;return w0(d)(c),c.isStopped()?(r.logEventStopped(t,i.element,d.purpose),eh.stopped()):c.isCut()?(r.logEventCut(t,i.element,d.purpose),eh.complete()):ir(i.element).fold(()=>(r.logNoParent(t,i.element,d.purpose),eh.complete()),f=>(r.logEventResponse(t,i.element,d.purpose),eh.resume(f)))})},$3=(e,t,n,o,s,r)=>I3(e,t,n,o,s,r).fold(st,a=>$3(e,t,n,a,s,r),ue),w9=(e,t,n,o,s)=>{const r=F3(n,o);return I3(e,t,n,o,r,s)},S9=(e,t,n)=>{const o=v9(t);return _e(e,s=>{const r=s.descHandler;w0(r)(o)}),o.isStopped()},C9=(e,t,n,o)=>H3(e,t,n,n.target,o),H3=(e,t,n,o,s)=>{const r=F3(n,o);return $3(e,t,n,o,r,s)},T9=(e,t)=>({element:e,descHandler:t}),k9=(e,t)=>({id:e,descHandler:t}),O9=()=>{const e={},t=(a,c,i)=>{sn(i,(d,g)=>{const f=e[g]!==void 0?e[g]:{};f[c]=KE(d,a),e[g]=f})},n=(a,c)=>jm(c).bind(i=>lt(a,i)).map(i=>T9(c,i));return{registerId:t,unregisterId:a=>{sn(e,(c,i)=>{Nt(c,a)&&delete c[a]})},filterByType:a=>lt(e,a).map(c=>yn(c,(i,d)=>k9(d,i))).getOr([]),find:(a,c,i)=>lt(e,c).bind(d=>fd(i,g=>n(d,g),a))}},A9=()=>{const e=O9(),t={},n=d=>{const g=d.element;return jm(g).getOrThunk(()=>BE("uid-",d.element))},o=(d,g)=>{const f=t[g];if(f===d)r(d);else throw new Error('The tagId "'+g+'" is already used by: '+wl(f.element)+`
Cannot use it for: `+wl(d.element)+`
The conflicting element is`+(ur(f.element)?" ":" not ")+"already in the DOM")},s=d=>{const g=n(d);mo(t,g)&&o(d,g);const f=[d];e.registerId(f,g,d.events),t[g]=d},r=d=>{jm(d.element).each(g=>{delete t[g],e.unregisterId(g)})};return{find:(d,g,f)=>e.find(d,g,f),filter:d=>e.filterByType(d),register:s,unregister:r,getById:d=>lt(t,d)}},K0=e=>{const t=R=>ir(e.element).fold(st,W=>dn(R,W)),n=A9(),o=(R,W)=>n.find(t,R,W),s=x9(e.element,{triggerEvent:(R,W)=>Of(R,W.target,G=>C9(o,R,W,G))}),r={debugInfo:A("real"),triggerEvent:(R,W,G)=>{Of(R,W,oe=>H3(o,R,G,W,oe))},triggerFocus:(R,W)=>{jm(R).fold(()=>{jo(R)},G=>{Of(xl(),R,oe=>(w9(o,xl(),{originator:W,kill:ce,prevent:ce,target:R},R,oe),!1))})},triggerEscape:(R,W)=>{r.triggerEvent("keydown",R.element,W.event)},getByUid:R=>L(R),getByDom:R=>z(R),build:hr,buildOrPatch:S0,addToGui:R=>{i(R)},removeFromGui:R=>{d(R)},addToWorld:R=>{a(R)},removeFromWorld:R=>{c(R)},broadcast:R=>{y(R)},broadcastOn:(R,W)=>{T(R,W)},broadcastEvent:(R,W)=>{_(R,W)},isConnected:st},a=R=>{R.connect(r),Ic(R.element)||(n.register(R),_e(R.components(),a),r.triggerEvent(pg(),R.element,{target:R.element}))},c=R=>{Ic(R.element)||(_e(R.components(),c),n.unregister(R)),R.disconnect()},i=R=>{Tu(e,R)},d=R=>{Ui(R)},g=()=>{s.unbind(),Ur(e.element)},f=R=>{const W=n.filter(fu());_e(W,G=>{const oe=G.descHandler;w0(oe)(R)})},y=R=>{f({universal:!0,data:R})},T=(R,W)=>{f({universal:!1,channels:R,data:W})},_=(R,W)=>{const G=n.filter(R);return S9(G,W)},L=R=>n.getById(R).fold(()=>Ot.error(new Error('Could not find component with uid: "'+R+'" in system.')),Ot.value),z=R=>{const W=jm(R).getOr("not found");return L(W)};return a(e),{root:e,element:e.element,destroy:g,add:i,remove:d,getByUid:L,getByDom:z,addToWorld:a,removeFromWorld:c,broadcast:y,broadcastOn:T,broadcastEvent:_}},R3=()=>{const e=(t,n)=>{n.stop(),xu(t)};return[le(pu(),e),le(Hm(),e),wu(Bi()),wu(Ea())]},s1=e=>{const t=n=>zi((o,s)=>{n(o),s.stop()});return Co(je([e.map(t).toArray(),R3()]))},Bs=Fa({name:"Button",factory:e=>{const t=s1(e.action),n=e.dom.tag,o=r=>lt(e.dom,"attributes").bind(a=>lt(a,r)),s=()=>{if(n==="button"){const r=o("type").getOr("button"),a=o("role").map(c=>({role:c})).getOr({});return{type:r,...a}}else return{role:e.role.getOr(o("role").getOr("button"))}};return{uid:e.uid,dom:e.dom,components:e.components,events:t,behaviours:xc.augment(e.buttonBehaviours,[It.config({}),pt.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:s()},eventOrder:e.eventOrder}},configFields:[ee("uid",void 0),ye("dom"),ee("components",[]),xc.field("buttonBehaviours",[It,pt]),Zn("action"),Zn("role"),ee("eventOrder",{})]}),E9=A([ee("shell",!1),ye("makeItem"),ee("setupItem",ce),xc.field("listBehaviours",[zt])]),M9=Ya({name:"items",overrides:()=>({behaviours:Fe([zt.config({})])})}),_9=A([M9]),D9=A("CustomList"),F9=(e,t,n,o)=>{const s=(c,i)=>{a(c).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},d=>{const g=zt.contents(d),f=i.length,y=f-g.length,T=y>0?de(y,()=>e.makeItem()):[],_=g.slice(f);_e(_,z=>zt.remove(d,z)),_e(T,z=>zt.append(d,z));const L=zt.contents(d);_e(L,(z,R)=>{e.setupItem(c,z,i[R],R)})})},r=e.shell?{behaviours:[zt.config({})],components:[]}:{behaviours:[],components:t},a=c=>e.shell?h.some(c):io(c,e,"items");return{uid:e.uid,dom:e.dom,components:r.components,behaviours:Ps(e.listBehaviours,r.behaviours),apis:{setItems:s}}},L3=Cr({name:D9(),configFields:E9(),partFields:_9(),factory:F9,apis:{setItems:(e,t,n)=>{e.setItems(t,n)}}}),th="aria-controls",I9=e=>qh(e,n=>{if(!br(n))return!1;const o=Qo(n,"id");return o!==void 0&&o.indexOf(th)>-1}).bind(n=>{const o=Qo(n,"id"),s=Is(n);return Qn(s,`[${th}="${o}"]`)}),P3=()=>{const e=O(th);return{id:e,link:o=>{Lt(o,th,e)},unlink:o=>{Fo(o,th)}}},$9=(e,t)=>I9(t).exists(n=>Mu(e,n)),Mu=(e,t)=>ng(t,n=>dn(n,e.element),ue)||$9(e,t),B3="alloy.item-hover",N3="alloy.item-focus",V3="alloy.item-toggled",z3=e=>{(bs(e.element).isNone()||It.isFocused(e))&&(It.isFocused(e)||It.focus(e),Ct(e,B3,{item:e}))},Z3=e=>{Ct(e,N3,{item:e})},H9=(e,t)=>{Ct(e,V3,{item:e,state:t})},U3=A(B3),R9=A(N3),L9=A(V3),P9=e=>e.role.fold(()=>e.toggling.map(t=>t.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),Ve),B9=(e,t)=>({aria:{mode:t?"selected":"checked"},...ao(e,(n,o)=>o!=="exclusive"),onToggled:(n,o)=>{Se(e.onToggled)&&e.onToggled(n,o),H9(n,o)}}),N9=e=>({dom:e.dom,domModification:{...e.domModification,attributes:{role:P9(e),...e.domModification.attributes,"aria-haspopup":e.hasSubmenu,...e.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:xc.augment(e.itemBehaviours,[e.toggling.fold(tn.revoke,t=>tn.config(B9(t,e.role.exists(n=>n==="option")))),It.config({ignore:e.ignoreFocus,stopMousedown:e.ignoreFocus,onFocus:t=>{Z3(t)}}),pt.config({mode:"execution"}),Ye.config({store:{mode:"memory",initialValue:e.data}}),Pt("item-type-events",[...R3(),le(bi(),z3),le($m(),It.focus)])]),components:e.components,eventOrder:e.eventOrder});var V9=[ye("data"),ye("components"),ye("dom"),ee("hasSubmenu",!1),Zn("toggling"),Zn("role"),xc.field("itemBehaviours",[tn,It,pt,Ye]),ee("ignoreFocus",!1),ee("domModification",{}),_o("builder",N9),ee("eventOrder",{})];const z9=e=>({dom:e.dom,components:e.components,events:Co([CA($m())])});var Z9=[ye("dom"),ye("components"),_o("builder",z9)];const Y0=A("item-widget"),X0=A([mr({name:"widget",overrides:e=>({behaviours:Fe([Ye.config({store:{mode:"manual",getValue:t=>e.data,setValue:ce}})])})})]),U9=e=>{const t=Pf(Y0(),e,X0()),n=Bf(Y0(),e,t.internals()),o=r=>io(r,e,"widget").map(a=>(pt.focusIn(a),a)),s=(r,a)=>Fd(a.event.target)?h.none():(()=>(e.autofocus&&a.setSource(r.element),h.none()))();return{dom:e.dom,components:n,domModification:e.domModification,events:Co([zi((r,a)=>{o(r).each(c=>{a.stop()})}),le(bi(),z3),le($m(),(r,a)=>{e.autofocus?o(r):It.focus(r)})]),behaviours:xc.augment(e.widgetBehaviours,[Ye.config({store:{mode:"memory",initialValue:e.data}}),It.config({ignore:e.ignoreFocus,onFocus:r=>{Z3(r)}}),pt.config({mode:"special",focusIn:e.autofocus?r=>{o(r)}:FA(),onLeft:s,onRight:s,onEscape:(r,a)=>!It.isFocused(r)&&!e.autofocus?(It.focus(r),h.some(!0)):(e.autofocus&&a.setSource(r.element),h.none())})])}};var W9=[ye("uid"),ye("data"),ye("components"),ye("dom"),ee("autofocus",!1),ee("ignoreFocus",!1),xc.field("widgetBehaviours",[Ye,It,pt]),ee("domModification",{}),Vf(X0()),_o("builder",U9)];const j9=Gr("type",{widget:W9,item:V9,separator:Z9}),G9=(e,t)=>({mode:"flatgrid",selector:"."+e.markers.item,initSize:{numColumns:t.initSize.numColumns,numRows:t.initSize.numRows},focusManager:e.focusManager}),q9=(e,t)=>({mode:"matrix",selectors:{row:t.rowSelector,cell:"."+e.markers.item},previousSelector:t.previousSelector,focusManager:e.focusManager}),K9=(e,t)=>({mode:"menu",selector:"."+e.markers.item,moveOnTab:t.moveOnTab,focusManager:e.focusManager}),Y9=A([Og({factory:{sketch:e=>{const t=jr("menu.spec item",j9,e);return t.builder(t)}},name:"items",unit:"item",defaults:(e,t)=>Nt(t,"uid")?t:{...t,uid:$d("item")},overrides:(e,t)=>({type:t.type,ignoreFocus:e.fakeFocus,domModification:{classes:[e.markers.item]}})})]),X9=A([ns("role"),ye("value"),ye("items"),ye("dom"),ye("components"),ee("eventOrder",{}),ks("menuBehaviours",[Un,Ye,En,pt]),Ka("movement",{mode:"menu",moveOnTab:!0},Gr("mode",{grid:[Oy(),_o("config",G9)],matrix:[_o("config",q9),ye("rowSelector"),ee("previousSelector",h.none)],menu:[ee("moveOnTab",!0),_o("config",K9)]})),DO(),ee("fakeFocus",!1),ee("focusManager",u0()),$n("onHighlight"),$n("onDehighlight"),ee("showMenuRole",!0)]),W3=A("alloy.menu-focus"),J9=(e,t)=>{const n=js(e.element,'[role="menuitemradio"][aria-checked="true"]');_e(n,o=>{dn(o,t.element)||e.getSystem().getByDom(o).each(s=>{tn.off(s)})})},Q9=(e,t,n,o)=>({uid:e.uid,dom:e.dom,markers:e.markers,behaviours:Ps(e.menuBehaviours,[Un.config({highlightClass:e.markers.selectedItem,itemClass:e.markers.item,onHighlight:e.onHighlight,onDehighlight:e.onDehighlight}),Ye.config({store:{mode:"memory",initialValue:e.value}}),En.config({find:h.some}),pt.config(e.movement.config(e,e.movement))]),events:Co([le(R9(),(s,r)=>{const a=r.event;s.getSystem().getByDom(a.target).each(c=>{Un.highlight(s,c),r.stop(),Ct(s,W3(),{menu:s,item:c})})}),le(U3(),(s,r)=>{const a=r.event.item;Un.highlight(s,a)}),le(L9(),(s,r)=>{const{item:a,state:c}=r.event;c&&Qo(a.element,"role")==="menuitemradio"&&J9(s,a)})]),components:t,eventOrder:e.eventOrder,...e.showMenuRole?{domModification:{attributes:{role:e.role.getOr("menu")}}}:{}}),Ki=Cr({name:"Menu",configFields:X9(),partFields:Y9(),factory:Q9}),eI=e=>He(e,(t,n)=>({k:t,v:n})),j3=(e,t,n,o)=>lt(n,o).bind(s=>lt(e,s).bind(r=>{const a=j3(e,t,n,r);return h.some([r].concat(a))})).getOr([]),tI=(e,t)=>{const n={};sn(e,(a,c)=>{_e(a,i=>{n[i]=c})});const o=t,s=eI(t),r=ge(s,(a,c)=>[c].concat(j3(n,o,s,c)));return ge(n,a=>lt(r,a).getOr([a]))},nI=()=>{const e=ot({}),t=ot({}),n=ot({}),o=kn(),s=ot({}),r=()=>{e.set({}),t.set({}),n.set({}),o.clear()},a=()=>o.get().isNone(),c=(ae,ze)=>{t.set({...t.get(),[ae]:{type:"prepared",menu:ze}})},i=(ae,ze,Ke,Y)=>{o.set(ae),e.set(Ke),t.set(ze),s.set(Y);const qe=tI(Y,Ke);n.set(qe)},d=ae=>oo(e.get(),(ze,Ke)=>ze===ae),g=(ae,ze,Ke)=>L(ae).bind(Y=>d(ae).bind(qe=>ze(qe).map(vt=>({triggeredMenu:Y,triggeringItem:vt,triggeringPath:Ke})))),f=(ae,ze)=>{const Ke=jt(R(ae).toArray(),Y=>L(Y).isSome());return lt(n.get(),ae).bind(Y=>{const qe=In(Ke.concat(Y)),vt=Tt(qe,(ct,nn)=>g(ct,ze,qe.slice(0,nn+1)).fold(()=>dt(o.get(),ct)?[]:[h.none()],$t=>[h.some($t)]));return bn(vt)})},y=ae=>lt(e.get(),ae).map(ze=>{const Ke=lt(n.get(),ae).getOr([]);return[ze].concat(Ke)}),T=ae=>lt(n.get(),ae).bind(ze=>ze.length>1?h.some(ze.slice(1)):h.none()),_=ae=>lt(n.get(),ae),L=ae=>z(ae).bind(G3),z=ae=>lt(t.get(),ae),R=ae=>lt(e.get(),ae);return{setMenuBuilt:c,setContents:i,expand:y,refresh:_,collapse:T,lookupMenu:z,lookupItem:R,otherMenus:ae=>{const ze=s.get();return no(en(ze),ae)},getPrimary:()=>o.get().bind(L),getMenus:()=>t.get(),clear:r,isClear:a,getTriggeringPath:f}},G3=e=>e.type==="prepared"?h.some(e.menu):h.none(),q3={init:nI,extractPreparedMenu:G3},K3=O("tiered-menu-item-highlight"),Y3=O("tiered-menu-item-dehighlight"),oI=(e,t)=>{const n=kn(),o=(be,Pe,Et)=>ge(Et,(Wt,ft)=>{const Zt=()=>Ki.sketch({...Wt,value:ft,markers:e.markers,fakeFocus:e.fakeFocus,onHighlight:(Yn,jn)=>{Ct(Yn,K3,{menuComp:Yn,itemComp:jn})},onDehighlight:(Yn,jn)=>{Ct(Yn,Y3,{menuComp:Yn,itemComp:jn})},focusManager:e.fakeFocus?o7():u0()});return ft===Pe?{type:"prepared",menu:be.getSystem().build(Zt())}:{type:"notbuilt",nbMenu:Zt}}),s=q3.init(),r=be=>{const Pe=o(be,e.data.primary,e.data.menus),Et=i();return s.setContents(e.data.primary,Pe,e.data.expansions,Et),s.getPrimary()},a=be=>Ye.getValue(be).value,c=(be,Pe,Et)=>kt(Pe,Wt=>{if(!Wt.getSystem().isConnected())return h.none();const ft=Un.getCandidates(Wt);return ve(ft,Zt=>a(Zt)===Et)}),i=be=>ge(e.data.menus,(Pe,Et)=>Tt(Pe.items,Wt=>Wt.type==="separator"?[]:[Wt.data.value])),d=Un.highlight,g=(be,Pe)=>{d(be,Pe),Un.getHighlighted(Pe).orThunk(()=>Un.getFirst(Pe)).each(Et=>{e.fakeFocus?Un.highlight(Pe,Et):s0(be,Et.element,$m())})},f=(be,Pe)=>Ut(re(Pe,Et=>be.lookupMenu(Et).bind(Wt=>Wt.type==="prepared"?h.some(Wt.menu):h.none()))),y=(be,Pe,Et)=>{const Wt=f(Pe,Pe.otherMenus(Et));_e(Wt,ft=>{ka(ft.element,[e.markers.backgroundMenu]),e.stayInDom||zt.remove(be,ft)})},T=be=>n.get().getOrThunk(()=>{const Pe={},Et=js(be.element,`.${e.markers.item}`),Wt=jt(Et,ft=>Qo(ft,"aria-haspopup")==="true");return _e(Wt,ft=>{be.getSystem().getByDom(ft).each(Zt=>{const Yn=a(Zt);Pe[Yn]=Zt})}),n.set(Pe),Pe}),_=(be,Pe)=>{const Et=T(be);sn(Et,(Wt,ft)=>{const Zt=Ee(Pe,ft);Lt(Wt.element,"aria-expanded",Zt)})},L=(be,Pe,Et)=>h.from(Et[0]).bind(Wt=>Pe.lookupMenu(Wt).bind(ft=>{if(ft.type==="notbuilt")return h.none();{const Zt=ft.menu,Yn=f(Pe,Et.slice(1));return _e(Yn,jn=>{Ro(jn.element,e.markers.backgroundMenu)}),ur(Zt.element)||zt.append(be,Da(Zt)),ka(Zt.element,[e.markers.backgroundMenu]),g(be,Zt),y(be,Pe,Et),h.some(Zt)}}));let z;(function(be){be[be.HighlightSubmenu=0]="HighlightSubmenu",be[be.HighlightParent=1]="HighlightParent"})(z||(z={}));const R=(be,Pe,Et)=>{if(Et.type==="notbuilt"){const Wt=be.getSystem().build(Et.nbMenu());return s.setMenuBuilt(Pe,Wt),Wt}else return Et.menu},W=(be,Pe,Et=z.HighlightSubmenu)=>{if(Pe.hasConfigured(gt)&&gt.isDisabled(Pe))return h.some(Pe);{const Wt=a(Pe);return s.expand(Wt).bind(ft=>(_(be,ft),h.from(ft[0]).bind(Zt=>s.lookupMenu(Zt).bind(Yn=>{const jn=R(be,Zt,Yn);return ur(jn.element)||zt.append(be,Da(jn)),e.onOpenSubmenu(be,Pe,jn,In(ft)),Et===z.HighlightSubmenu?(Un.highlightFirst(jn),L(be,s,ft)):(Un.dehighlightAll(jn),h.some(Pe))}))))}},G=(be,Pe)=>{const Et=a(Pe);return s.collapse(Et).bind(Wt=>(_(be,Wt),L(be,s,Wt).map(ft=>(e.onCollapseMenu(be,Pe,ft),ft))))},oe=(be,Pe)=>{const Et=a(Pe);return s.refresh(Et).bind(Wt=>(_(be,Wt),L(be,s,Wt)))},ae=(be,Pe)=>Fd(Pe.element)?h.none():W(be,Pe,z.HighlightSubmenu),ze=(be,Pe)=>Fd(Pe.element)?h.none():G(be,Pe),Ke=(be,Pe)=>G(be,Pe).orThunk(()=>e.onEscape(be,Pe).map(()=>be)),Y=be=>(Pe,Et)=>cc(Et.getSource(),`.${e.markers.item}`).bind(Wt=>Pe.getSystem().getByDom(Wt).toOptional().bind(ft=>be(Pe,ft).map(st))),qe=Co([le(W3(),(be,Pe)=>{const Et=Pe.event.item;s.lookupItem(a(Et)).each(()=>{const Wt=Pe.event.menu;Un.highlight(be,Wt);const ft=a(Pe.event.item);s.refresh(ft).each(Zt=>y(be,s,Zt))})}),zi((be,Pe)=>{const Et=Pe.event.target;be.getSystem().getByDom(Et).each(Wt=>{a(Wt).indexOf("collapse-item")===0&&G(be,Wt),W(be,Wt,z.HighlightSubmenu).fold(()=>{e.onExecute(be,Wt)},ce)})}),vo((be,Pe)=>{r(be).each(Et=>{zt.append(be,Da(Et)),e.onOpenMenu(be,Et),e.highlightOnOpen===Pr.HighlightMenuAndItem?g(be,Et):e.highlightOnOpen===Pr.HighlightJustMenu&&d(be,Et)})}),le(K3,(be,Pe)=>{e.onHighlightItem(be,Pe.event.menuComp,Pe.event.itemComp)}),le(Y3,(be,Pe)=>{e.onDehighlightItem(be,Pe.event.menuComp,Pe.event.itemComp)}),...e.navigateOnHover?[le(U3(),(be,Pe)=>{const Et=Pe.event.item;oe(be,Et),W(be,Et,z.HighlightParent),e.onHover(be,Et)})]:[]]),vt=be=>Un.getHighlighted(be).bind(Un.getHighlighted),ct=be=>{vt(be).each(Pe=>{G(be,Pe)})},nn=be=>{s.getPrimary().each(Pe=>{g(be,Pe)})},$t=be=>h.from(be.components()[0]).filter(Pe=>Qo(Pe.element,"role")==="menu"),at={collapseMenu:ct,highlightPrimary:nn,repositionMenus:be=>{s.getPrimary().bind(Et=>vt(be).bind(Wt=>{const ft=a(Wt),Zt=wo(s.getMenus()),Yn=Ut(re(Zt,q3.extractPreparedMenu));return s.getTriggeringPath(ft,jn=>c(be,Yn,jn))}).map(Wt=>({primary:Et,triggeringPath:Wt}))).fold(()=>{$t(be).each(Et=>{e.onRepositionMenu(be,Et,[])})},({primary:Et,triggeringPath:Wt})=>{e.onRepositionMenu(be,Et,Wt)})}};return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:Ps(e.tmenuBehaviours,[pt.config({mode:"special",onRight:Y(ae),onLeft:Y(ze),onEscape:Y(Ke),focusIn:(be,Pe)=>{s.getPrimary().each(Et=>{s0(be,Et.element,$m())})}}),Un.config({highlightClass:e.markers.selectedMenu,itemClass:e.markers.menu}),En.config({find:be=>Un.getHighlighted(be)}),zt.config({})]),eventOrder:e.eventOrder,apis:at,events:qe}},sI=A("collapse-item"),rI=(e,t,n)=>({primary:e,menus:t,expansions:n}),aI=(e,t)=>({primary:e,menus:hu(e,t),expansions:{}}),cI=e=>({value:O(sI()),meta:{text:e}}),_u=Fa({name:"TieredMenu",configFields:[Ef("onExecute"),Ef("onEscape"),yu("onOpenMenu"),yu("onOpenSubmenu"),$n("onRepositionMenu"),$n("onCollapseMenu"),ee("highlightOnOpen",Pr.HighlightMenuAndItem),Li("data",[ye("primary"),ye("menus"),ye("expansions")]),ee("fakeFocus",!1),$n("onHighlightItem"),$n("onDehighlightItem"),$n("onHover"),bg(),ye("dom"),ee("navigateOnHover",!0),ee("stayInDom",!1),ks("tmenuBehaviours",[pt,Un,En,zt]),ee("eventOrder",{})],apis:{collapseMenu:(e,t)=>{e.collapseMenu(t)},highlightPrimary:(e,t)=>{e.highlightPrimary(t)},repositionMenus:(e,t)=>{e.repositionMenus(t)}},factory:oI,extraApis:{tieredData:rI,singleData:aI,collapseItem:cI}}),X3=A("sink"),J3=A(Ya({name:X3(),overrides:A({dom:{tag:"div"},behaviours:Fe([gr.config({useFixed:st})]),events:Co([wu(Nc()),wu(Ea()),wu(pu())])})})),iI=Oa([ee("isExtraPart",ue),ca("fireEventInstead",[ee("event",bu())])]),J0=e=>{const t=jr("Dismissal",iI,e);return{[qi()]:{schema:Oa([ye("target")]),onReceive:(n,o)=>{Hn.isOpen(n)&&(Hn.isPartOf(n,o.target)||t.isExtraPart(n,o.target)||t.fireEventInstead.fold(()=>Hn.close(n),r=>Cn(n,r.event)))}}}},lI=Oa([ca("fireEventInstead",[ee("event",yy())]),hc("doReposition")]),Q0=e=>{const t=jr("Reposition",lI,e);return{[Ml()]:{onReceive:n=>{Hn.isOpen(n)&&t.fireEventInstead.fold(()=>t.doReposition(n),o=>Cn(n,o.event))}}}},Q3=(e,t)=>{const n=e.getHotspot(t).getOr(t),o="hotspot",s=e.getAnchorOverrides();return e.layouts.fold(()=>({type:o,hotspot:n,overrides:s}),r=>({type:o,hotspot:n,overrides:s,layouts:r}))},uI=(e,t,n)=>{const o=e.fetch;return o(n).map(t)},dI=(e,t,n,o,s,r,a)=>{const c=uI(e,t,o),i=ew(o,e);return c.map(d=>d.bind(g=>{const f=g.menus[g.primary];return h.from(f).each(y=>{e.listRole.each(T=>{y.role=T})}),h.from(_u.sketch({...r.menu(),uid:$d(""),data:g,highlightOnOpen:a,onOpenMenu:(y,T)=>{const _=i().getOrDie();gr.position(_,T,{anchor:n}),Hn.decloak(s)},onOpenSubmenu:(y,T,_)=>{const L=i().getOrDie();gr.position(L,_,{anchor:{type:"submenu",item:T}}),Hn.decloak(s)},onRepositionMenu:(y,T,_)=>{const L=i().getOrDie();gr.position(L,T,{anchor:n}),_e(_,z=>{gr.position(L,z.triggeredMenu,{anchor:{type:"submenu",item:z.triggeringItem}})})},onEscape:()=>(It.focus(o),Hn.close(s),h.some(!0))}))}))},r1=(e,t,n,o,s,r,a)=>{const c=Q3(e,n);return dI(e,t,c,n,o,s,a).map(d=>(d.fold(()=>{Hn.isOpen(o)&&Hn.close(o)},g=>{Hn.cloak(o),Hn.open(o,g),r(o)}),o))},mI=(e,t,n,o,s,r,a)=>(Hn.close(o),An.pure(o)),eb=(e,t,n,o,s,r)=>{const a=Zo.getCoupled(n,"sandbox");return(Hn.isOpen(a)?mI:r1)(e,t,n,a,o,s,r)},hI=(e,t,n)=>{const o=En.getCurrent(t).getOr(t),s=yr(e.element);n?Vt(o.element,"min-width",s+"px"):hd(o.element,s)},ew=(e,t)=>e.getSystem().getByUid(t.uid+"-"+X3()).map(n=>()=>Ot.value(n)).getOrThunk(()=>t.lazySink.fold(()=>()=>Ot.error(new Error("No internal sink is specified, nor could an external sink be found")),n=>()=>n(e))),tw=e=>{Hn.getState(e).each(t=>{_u.repositionMenus(t)})},tb=(e,t,n)=>{const o=P3(),s=(c,i)=>{const d=Q3(e,t);o.link(t.element),e.matchWidth&&hI(d.hotspot,i,e.useMinWidth),e.onOpen(d,c,i),n!==void 0&&n.onOpen!==void 0&&n.onOpen(c,i)},r=(c,i)=>{o.unlink(t.element),a().getOr(i).element.dom.dispatchEvent(new window.FocusEvent("focusout")),n!==void 0&&n.onClose!==void 0&&n.onClose(c,i)},a=ew(t,e);return{dom:{tag:"div",classes:e.sandboxClasses,attributes:{id:o.id}},behaviours:xc.augment(e.sandboxBehaviours,[Ye.config({store:{mode:"memory",initialValue:t}}),Hn.config({onOpen:s,onClose:r,isPartOf:(c,i,d)=>Mu(i,d)||Mu(t,d),getAttachPoint:()=>a().getOrDie()}),En.config({find:c=>Hn.getState(c).bind(i=>En.getCurrent(i))}),ua.config({channels:{...J0({isExtraPart:ue}),...Q0({doReposition:tw})}})])}},nw=e=>{const t=Zo.getCoupled(e,"sandbox");tw(t)},nb=()=>[ee("sandboxClasses",[]),xc.field("sandboxBehaviours",[En,ua,Hn,Ye])],gI=A([ye("dom"),ye("fetch"),$n("onOpen"),ia("onExecute"),ee("getHotspot",h.some),ee("getAnchorOverrides",A({})),El(),ks("dropdownBehaviours",[tn,Zo,pt,It]),ye("toggleClass"),ee("eventOrder",{}),Zn("lazySink"),ee("matchWidth",!1),ee("useMinWidth",!1),Zn("role"),Zn("listRole")].concat(nb())),pI=A([pc({schema:[bg(),ee("fakeFocus",!1)],name:"menu",defaults:e=>({onExecute:e.onExecute})}),J3()]),fI=(e,t,n,o)=>{const s=g=>lt(e.dom,"attributes").bind(f=>lt(f,g)),r=g=>{Hn.getState(g).each(f=>{_u.highlightPrimary(f)})},a=(g,f,y)=>eb(e,Ve,g,o,f,y),c=g=>{a(g,r,Pr.HighlightMenuAndItem).get(ce)},i={expand:g=>{tn.isOn(g)||a(g,ce,Pr.HighlightNone).get(ce)},open:g=>{tn.isOn(g)||a(g,ce,Pr.HighlightMenuAndItem).get(ce)},refetch:g=>Zo.getExistingCoupled(g,"sandbox").fold(()=>a(g,ce,Pr.HighlightMenuAndItem).map(ce),y=>r1(e,Ve,g,y,o,ce,Pr.HighlightMenuAndItem).map(ce)),isOpen:tn.isOn,close:g=>{tn.isOn(g)&&a(g,ce,Pr.HighlightMenuAndItem).get(ce)},repositionMenus:g=>{tn.isOn(g)&&nw(g)}},d=(g,f)=>(xu(g),h.some(!0));return{uid:e.uid,dom:e.dom,components:t,behaviours:Ps(e.dropdownBehaviours,[tn.config({toggleClass:e.toggleClass,aria:{mode:"expanded"}}),Zo.config({others:{sandbox:g=>tb(e,g,{onOpen:()=>tn.on(g),onClose:()=>tn.off(g)})}}),pt.config({mode:"special",onSpace:d,onEnter:d,onDown:(g,f)=>{if(Ia.isOpen(g)){const y=Zo.getCoupled(g,"sandbox");r(y)}else Ia.open(g);return h.some(!0)},onEscape:(g,f)=>Ia.isOpen(g)?(Ia.close(g),h.some(!0)):h.none()}),It.config({})]),events:s1(h.some(c)),eventOrder:{...e.eventOrder,[Ma()]:["disabling","toggling","alloy.base.behaviour"]},apis:i,domModification:{attributes:{"aria-haspopup":e.listRole.getOr("true"),...e.role.fold(()=>({}),g=>({role:g})),...e.dom.tag==="button"?{type:s("type").getOr("button")}:{}}}}},Ia=Cr({name:"Dropdown",configFields:gI(),partFields:pI(),factory:fI,apis:{open:(e,t)=>e.open(t),refetch:(e,t)=>e.refetch(t),expand:(e,t)=>e.expand(t),close:(e,t)=>e.close(t),isOpen:(e,t)=>e.isOpen(t),repositionMenus:(e,t)=>e.repositionMenus(t)}}),ow="form",bI=[ks("formBehaviours",[Ye])],sw=e=>"<alloy.field."+e+">",vI=e=>{const t=(()=>{const r=[];return{field:(c,i)=>(r.push(c),Lf(ow,sw(c),i)),record:A(r)}})(),n=e(t),o=t.record(),s=re(o,r=>mr({name:r,pname:sw(r)}));return $0(ow,bI,s,xI,n)},yI=(e,t)=>e.fold(()=>Ot.error(t),Ot.value),xI=(e,t)=>({uid:e.uid,dom:e.dom,components:t,behaviours:Ps(e.formBehaviours,[Ye.config({store:{mode:"manual",getValue:n=>{const o=By(n,e);return ge(o,(s,r)=>s().bind(a=>{const c=En.getCurrent(a);return yI(c,new Error(`Cannot find a current component to extract the value from for form part '${r}': `+wl(a.element)))}).map(Ye.getValue))},setValue:(n,o)=>{sn(o,(s,r)=>{io(n,e,r).each(a=>{En.getCurrent(a).each(c=>{Ye.setValue(c,s)})})})}}})]),apis:{getField:(n,o)=>io(n,e,o).bind(En.getCurrent)}}),Rd={getField:Vg((e,t,n)=>e.getField(t,n)),sketch:vI},Ld=A([ye("dom"),ee("shell",!0),ks("toolbarBehaviours",[zt])]),wI=A([Ya({name:"groups",overrides:()=>({behaviours:Fe([zt.config({})])})})]),SI=(e,t,n,o)=>{const s=(c,i)=>{r(c).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},d=>{zt.set(d,i)})},r=c=>e.shell?h.some(c):io(c,e,"groups"),a=e.shell?{behaviours:[zt.config({})],components:[]}:{behaviours:[],components:t};return{uid:e.uid,dom:e.dom,components:a.components,behaviours:Ps(e.toolbarBehaviours,a.behaviours),apis:{setGroups:s,refresh:ce},domModification:{attributes:{role:"group"}}}},Gc=Cr({name:"Toolbar",configFields:Ld(),partFields:wI(),factory:SI,apis:{setGroups:(e,t,n)=>{e.setGroups(t,n)}}}),CI=A([vu(["toggledClass"]),ye("lazySink"),hc("fetch"),Pi("getBounds"),ca("fireDismissalEventInstead",[ee("event",bu())]),El(),$n("onToggled")]),TI=A([pc({name:"button",overrides:e=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Fe([tn.config({toggleClass:e.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:e.onToggled})])})}),pc({factory:Gc,schema:Ld(),name:"toolbar",overrides:e=>({toolbarBehaviours:Fe([pt.config({mode:"cyclic",onEscape:t=>(io(t,e,"button").each(It.focus),h.none())})])})})]),a1=kn(),kI=(e,t)=>{a1.set(!0),ob(e,t),a1.clear()},ob=(e,t)=>{const n=Zo.getCoupled(e,"toolbarSandbox");Hn.isOpen(n)?Hn.close(n):Hn.open(n,t.toolbar())},sb=(e,t,n,o)=>{const s=n.getBounds.map(a=>a()),r=n.lazySink(e).getOrDie();gr.positionWithinBounds(r,t,{anchor:{type:"hotspot",hotspot:e,layouts:o,overrides:{maxWidthFunction:n0()}}},s)},rw=(e,t,n,o,s)=>{Gc.setGroups(t,s),sb(e,t,n,o),tn.on(e)},OI=(e,t,n)=>{const o=P3(),s=(a,c)=>{const i=a1.get().getOr(!1);n.fetch().get(d=>{rw(e,c,n,t.layouts,d),o.link(e.element),i||pt.focusIn(c)})},r=()=>{tn.off(e),a1.get().getOr(!1)||It.focus(e),o.unlink(e.element)};return{dom:{tag:"div",attributes:{id:o.id}},behaviours:Fe([pt.config({mode:"special",onEscape:a=>(Hn.close(a),h.some(!0))}),Hn.config({onOpen:s,onClose:r,isPartOf:(a,c,i)=>Mu(c,i)||Mu(e,i),getAttachPoint:()=>n.lazySink(e).getOrDie()}),ua.config({channels:{...J0({isExtraPart:ue,...n.fireDismissalEventInstead.map(a=>({fireEventInstead:{event:a.event}})).getOr({})}),...Q0({doReposition:()=>{Hn.getState(Zo.getCoupled(e,"toolbarSandbox")).each(a=>{sb(e,a,n,t.layouts)})}})}})])}},_l=Cr({name:"FloatingToolbarButton",factory:(e,t,n,o)=>({...Bs.sketch({...o.button(),action:s=>{ob(s,o)},buttonBehaviours:xc.augment({dump:o.button().buttonBehaviours},[Zo.config({others:{toolbarSandbox:s=>OI(s,n,e)}})])}),apis:{setGroups:(s,r)=>{Hn.getState(Zo.getCoupled(s,"toolbarSandbox")).each(a=>{rw(s,a,e,n.layouts,r)})},reposition:s=>{Hn.getState(Zo.getCoupled(s,"toolbarSandbox")).each(r=>{sb(s,r,e,n.layouts)})},toggle:s=>{ob(s,o)},toggleWithoutFocusing:s=>{kI(s,o)},getToolbar:s=>Hn.getState(Zo.getCoupled(s,"toolbarSandbox")),isOpen:s=>Hn.isOpen(Zo.getCoupled(s,"toolbarSandbox"))}}),configFields:CI(),partFields:TI(),apis:{setGroups:(e,t,n)=>{e.setGroups(t,n)},reposition:(e,t)=>{e.reposition(t)},toggle:(e,t)=>{e.toggle(t)},toggleWithoutFocusing:(e,t)=>{e.toggleWithoutFocusing(t)},getToolbar:(e,t)=>e.getToolbar(t),isOpen:(e,t)=>e.isOpen(t)}}),AI=A([ee("prefix","form-field"),ks("fieldBehaviours",[En,Ye])]),EI=A([Ya({schema:[ye("dom")],name:"label"}),Ya({factory:{sketch:e=>({uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}})},schema:[ye("text")],name:"aria-descriptor"}),mr({factory:{sketch:e=>{const t=dO(e,["factory"]);return e.factory.sketch(t)}},schema:[ye("factory")],name:"field"})]),MI=(e,t,n,o)=>{const s=Ps(e.fieldBehaviours,[En.config({find:c=>io(c,e,"field")}),Ye.config({store:{mode:"manual",getValue:c=>En.getCurrent(c).bind(Ye.getValue),setValue:(c,i)=>{En.getCurrent(c).each(d=>{Ye.setValue(d,i)})}}})]),r=Co([vo((c,i)=>{const d=Py(c,e,["label","field","aria-descriptor"]);d.field().each(g=>{const f=O(e.prefix);d.label().each(y=>{Lt(y.element,"for",f),Lt(g.element,"id",f)}),d["aria-descriptor"]().each(y=>{const T=O(e.prefix);Lt(y.element,"id",T),Lt(g.element,"aria-describedby",T)})})})]),a={getField:c=>io(c,e,"field"),getLabel:c=>io(c,e,"label")};return{uid:e.uid,dom:e.dom,components:t,behaviours:s,events:r,apis:a}},mn=Cr({name:"FormField",configFields:AI(),partFields:EI(),factory:MI,apis:{getField:(e,t)=>e.getField(t),getLabel:(e,t)=>e.getLabel(t)}}),_I=A([ee("field1Name","field1"),ee("field2Name","field2"),yu("onLockedChange"),vu(["lockClass"]),ee("locked",!1),xc.field("coupledFieldBehaviours",[En,Ye]),bo("onInput",ce)]),DI=(e,t,n)=>io(e,t,n).bind(En.getCurrent),aw=(e,t)=>mr({factory:mn,name:e,overrides:n=>({fieldBehaviours:Fe([Pt("coupled-input-behaviour",[le(Ni(),o=>{DI(o,n,t).each(s=>{io(o,n,"lock").each(r=>{tn.isOn(r)&&n.onLockedChange(o,s,r),n.onInput(o)})})})])])})}),FI=A([aw("field1","field2"),aw("field2","field1"),mr({factory:Bs,schema:[ye("dom")],name:"lock",overrides:e=>({buttonBehaviours:Fe([tn.config({selected:e.locked,toggleClass:e.markers.lockClass,aria:{mode:"pressed"}})])})})]),II=(e,t,n,o)=>({uid:e.uid,dom:e.dom,components:t,behaviours:xc.augment(e.coupledFieldBehaviours,[En.config({find:h.some}),Ye.config({store:{mode:"manual",getValue:s=>{const r=Nf(s,e,["field1","field2"]);return{[e.field1Name]:Ye.getValue(r.field1()),[e.field2Name]:Ye.getValue(r.field2())}},setValue:(s,r)=>{const a=Nf(s,e,["field1","field2"]);mo(r,e.field1Name)&&Ye.setValue(a.field1(),r[e.field1Name]),mo(r,e.field2Name)&&Ye.setValue(a.field2(),r[e.field2Name])}}})]),apis:{getField1:s=>io(s,e,"field1"),getField2:s=>io(s,e,"field2"),getLock:s=>io(s,e,"lock")}}),Go=Cr({name:"FormCoupledInputs",configFields:_I(),partFields:FI(),factory:II,apis:{getField1:(e,t)=>e.getField1(t),getField2:(e,t)=>e.getField2(t),getLock:(e,t)=>e.getLock(t)}}),$I=(e,t)=>{const n=re(e.options,s=>({dom:{tag:"option",value:s.value,innerHtml:s.text}})),o=e.data.map(s=>hu("initialValue",s)).getOr({});return{uid:e.uid,dom:{tag:"select",classes:e.selectClasses,attributes:e.selectAttributes},components:n,behaviours:Ps(e.selectBehaviours,[It.config({}),Ye.config({store:{mode:"manual",getValue:s=>ic(s.element),setValue:(s,r)=>{const a=Mt(e.options);ve(e.options,i=>i.value===r).isSome()?lc(s.element,r):s.element.dom.selectedIndex===-1&&r===""&&a.each(i=>lc(s.element,i.value))},...o}})])}},HI=Fa({name:"HtmlSelect",configFields:[ye("options"),ks("selectBehaviours",[It,Ye]),ee("selectClasses",[]),ee("selectAttributes",{}),Zn("data")],factory:$I}),RI=(e,t,n,o,s)=>{const r=()=>e.lazySink(t),a=o.type==="horizontal"?{layouts:{onLtr:()=>Kf(),onRtl:()=>Yf()}}:{},c=d=>d.length===2,i=d=>c(d)?a:{};return _u.sketch({dom:{tag:"div"},data:o.data,markers:o.menu.markers,highlightOnOpen:o.menu.highlightOnOpen,fakeFocus:o.menu.fakeFocus,onEscape:()=>(Hn.close(t),e.onEscape.map(d=>d(t)),h.some(!0)),onExecute:()=>h.some(!0),onOpenMenu:(d,g)=>{gr.positionWithinBounds(r().getOrDie(),g,n,s())},onOpenSubmenu:(d,g,f,y)=>{const T=r().getOrDie();gr.position(T,f,{anchor:{type:"submenu",item:g,...i(y)}})},onRepositionMenu:(d,g,f)=>{const y=r().getOrDie();gr.positionWithinBounds(y,g,n,s()),_e(f,T=>{const _=i(T.triggeringPath);gr.position(y,T.triggeredMenu,{anchor:{type:"submenu",item:T.triggeringItem,..._}})})}})},LI=(e,t)=>{const n=(y,T)=>e.getRelated(y).exists(L=>Mu(L,T)),o=(y,T)=>{Hn.setContent(y,T)},s=(y,T,_)=>{const L=h.none;r(y,T,_,L)},r=(y,T,_,L)=>{const z=e.lazySink(y).getOrDie();Hn.openWhileCloaked(y,T,()=>gr.positionWithinBounds(z,y,_,L())),Ye.setValue(y,h.some({mode:"position",config:_,getBounds:L}))},a=(y,T,_)=>{c(y,T,_,h.none)},c=(y,T,_,L)=>{const z=RI(e,y,T,_,L);Hn.open(y,z),Ye.setValue(y,h.some({mode:"menu",menu:z}))},i=y=>{Hn.isOpen(y)&&(Ye.setValue(y,h.none()),Hn.close(y))},d=y=>Hn.getState(y),g=y=>{Hn.isOpen(y)&&Ye.getValue(y).each(T=>{switch(T.mode){case"menu":Hn.getState(y).each(_u.repositionMenus);break;case"position":const _=e.lazySink(y).getOrDie();gr.positionWithinBounds(_,y,T.config,T.getBounds());break}})},f={setContent:o,showAt:s,showWithinBounds:r,showMenuAt:a,showMenuWithinBounds:c,hide:i,getContent:d,reposition:g,isOpen:Hn.isOpen};return{uid:e.uid,dom:e.dom,behaviours:Ps(e.inlineBehaviours,[Hn.config({isPartOf:(y,T,_)=>Mu(T,_)||n(y,_),getAttachPoint:y=>e.lazySink(y).getOrDie(),onOpen:y=>{e.onShow(y)},onClose:y=>{e.onHide(y)}}),Ye.config({store:{mode:"memory",initialValue:h.none()}}),ua.config({channels:{...J0({isExtraPart:t.isExtraPart,...e.fireDismissalEventInstead.map(y=>({fireEventInstead:{event:y.event}})).getOr({})}),...Q0({...e.fireRepositionEventInstead.map(y=>({fireEventInstead:{event:y.event}})).getOr({}),doReposition:g})}})]),eventOrder:e.eventOrder,apis:f}},Io=Fa({name:"InlineView",configFields:[ye("lazySink"),$n("onShow"),$n("onHide"),Pi("onEscape"),ks("inlineBehaviours",[Hn,Ye,ua]),ca("fireDismissalEventInstead",[ee("event",bu())]),ca("fireRepositionEventInstead",[ee("event",yy())]),ee("getRelated",h.none),ee("isExtraPart",ue),ee("eventOrder",h.none)],factory:LI,apis:{showAt:(e,t,n,o)=>{e.showAt(t,n,o)},showWithinBounds:(e,t,n,o,s)=>{e.showWithinBounds(t,n,o,s)},showMenuAt:(e,t,n,o)=>{e.showMenuAt(t,n,o)},showMenuWithinBounds:(e,t,n,o,s)=>{e.showMenuWithinBounds(t,n,o,s)},hide:(e,t)=>{e.hide(t)},isOpen:(e,t)=>e.isOpen(t),getContent:(e,t)=>e.getContent(t),setContent:(e,t,n)=>{e.setContent(t,n)},reposition:(e,t)=>{e.reposition(t)}}}),cw=A([zo("type","text"),Zn("data"),ee("inputAttributes",{}),ee("inputStyles",{}),ee("tag","input"),ee("inputClasses",[]),$n("onSetValue"),bo("fromInputValue",Ve),bo("toInputValue",Ve),ee("styles",{}),ee("eventOrder",{}),ks("inputBehaviours",[Ye,It]),ee("selectOnFocus",!0)]),iw=e=>Fe([It.config({onFocus:e.selectOnFocus?t=>{const n=t.element,o=ic(n);e.type!=="range"&&n.dom.setSelectionRange(0,o.length)}:ce})]),PI=e=>({...iw(e),...Ps(e.inputBehaviours,[Ye.config({store:{mode:"manual",...e.data.map(t=>({initialValue:t})).getOr({}),getValue:t=>e.fromInputValue(ic(t.element)),setValue:(t,n)=>{ic(t.element)!==n&&lc(t.element,e.toInputValue(n))}},onSetValue:e.onSetValue})])}),lw=e=>({tag:e.tag,attributes:{type:e.type,...e.inputAttributes},styles:e.inputStyles,classes:e.inputClasses}),BI=(e,t)=>({uid:e.uid,dom:lw(e),components:[],behaviours:PI(e),eventOrder:e.eventOrder}),Yi=Fa({name:"Input",configFields:cw(),factory:BI}),rb=Rf(Y0(),X0()),NI=(e,t)=>{const n=es(e,"id").fold(()=>{const o=O("dialog-label");return Lt(t,"id",o),o},Ve);Lt(e,"aria-labelledby",n)},VI=A([ye("lazySink"),Zn("dragBlockClass"),bo("getBounds",Sr),ee("useTabstopAt",st),ee("firstTabstop",0),ee("eventOrder",{}),ks("modalBehaviours",[pt]),ia("onExecute"),Ef("onEscape")]),ab={sketch:Ve},zI=A([Ya({name:"draghandle",overrides:(e,t)=>({behaviours:Fe([Au.config({mode:"mouse",getTarget:n=>ja(n,'[role="dialog"]').getOr(n),blockerClass:e.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(t,null,2)).message),getBounds:e.getDragBounds})])})}),mr({schema:[ye("dom")],name:"title"}),mr({factory:ab,schema:[ye("dom")],name:"close"}),mr({factory:ab,schema:[ye("dom")],name:"body"}),Ya({factory:ab,schema:[ye("dom")],name:"footer"}),pc({factory:{sketch:(e,t)=>({...e,dom:t.dom,components:t.components})},schema:[ee("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),ee("components",[])],name:"blocker"})]),ZI=(e,t,n,o)=>{const s=kn(),r=_=>{s.set(_);const L=e.lazySink(_).getOrDie(),z=o.blocker(),R=L.getSystem().build({...z,components:z.components.concat([Da(_)]),behaviours:Fe([It.config({}),Pt("dialog-blocker-events",[_d(gc(),()=>{Wc.isBlocked(_)?ce():pt.focusIn(_)})])])});Tu(L,R),pt.focusIn(_)},a=_=>{s.clear(),ir(_.element).each(L=>{_.getSystem().getByDom(L).each(z=>{Ui(z)})})},c=_=>Cl(_,e,"body"),i=_=>io(_,e,"footer"),d=(_,L)=>{Wc.block(_,L)},g=_=>{Wc.unblock(_)},f=O("modal-events"),y={...e.eventOrder,[Vc()]:[f].concat(e.eventOrder["alloy.system.attached"]||[])},T=fs();return{uid:e.uid,dom:e.dom,components:t,apis:{show:r,hide:a,getBody:c,getFooter:i,setIdle:g,setBusy:d},eventOrder:y,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Ps(e.modalBehaviours,[zt.config({}),pt.config({mode:"cyclic",onEnter:e.onExecute,onEscape:e.onEscape,useTabstopAt:e.useTabstopAt,firstTabstop:e.firstTabstop}),Wc.config({getRoot:s.get}),Pt(f,[vo(_=>{const L=Cl(_,e,"title").element,z=nf(L);T.os.isMacOS()&&Xe(z)?Lt(_.element,"aria-label",z):NI(_.element,L)})])])}},ds=Cr({name:"ModalDialog",configFields:VI(),partFields:zI(),factory:ZI,apis:{show:(e,t)=>{e.show(t)},hide:(e,t)=>{e.hide(t)},getBody:(e,t)=>e.getBody(t),getFooter:(e,t)=>e.getFooter(t),setBusy:(e,t,n)=>{e.setBusy(t,n)},setIdle:(e,t)=>{e.setIdle(t)}}}),UI=Ya({schema:[ye("dom")],name:"label"}),Dl=e=>Ya({name:""+e+"-edge",overrides:t=>t.model.manager.edgeActions[e].fold(()=>({}),o=>({events:Co([a0(Bi(),(s,r,a)=>o(s,a),[t]),a0(Ea(),(s,r,a)=>o(s,a),[t]),a0(mg(),(s,r,a)=>{a.mouseIsDown.get()&&o(s,a)},[t])])}))}),WI=Dl("top-left"),jI=Dl("top"),GI=Dl("top-right"),qI=Dl("right"),KI=Dl("bottom-right"),YI=Dl("bottom"),XI=Dl("bottom-left"),JI=Dl("left"),QI=mr({name:"thumb",defaults:A({dom:{styles:{position:"absolute"}}}),overrides:e=>({events:Co([Md(Bi(),e,"spectrum"),Md(Dm(),e,"spectrum"),Md(gu(),e,"spectrum"),Md(Ea(),e,"spectrum"),Md(mg(),e,"spectrum"),Md(vf(),e,"spectrum")])})}),c1=e=>Su(e.event),e$=mr({schema:[Lr("mouseIsDown",()=>ot(!1))],name:"spectrum",overrides:e=>{const n=e.model.manager,o=(s,r)=>n.getValueFromEvent(r).map(a=>n.setValueFrom(s,e,a));return{behaviours:Fe([pt.config({mode:"special",onLeft:(s,r)=>n.onLeft(s,e,c1(r)),onRight:(s,r)=>n.onRight(s,e,c1(r)),onUp:(s,r)=>n.onUp(s,e,c1(r)),onDown:(s,r)=>n.onDown(s,e,c1(r))}),co.config({}),It.config({})]),events:Co([le(Bi(),o),le(Dm(),o),le(Ea(),o),le(mg(),(s,r)=>{e.mouseIsDown.get()&&o(s,r)})])}}});var t$=[UI,JI,qI,jI,YI,WI,GI,XI,KI,QI,e$];const nh=A("slider.change.value"),n$=e=>e.type.indexOf("touch")!==-1,cb=e=>{const t=e.event.raw;if(n$(t)){const n=t;return n.touches!==void 0&&n.touches.length===1?h.some(n.touches[0]).map(o=>Mo(o.clientX,o.clientY)):h.none()}else{const n=t;return n.clientX!==void 0?h.some(n).map(o=>Mo(o.clientX,o.clientY)):h.none()}},o$="top",s$="right",r$="bottom",a$="left",Du=e=>e.model.minX,Fu=e=>e.model.minY,i1=e=>e.model.minX-1,l1=e=>e.model.minY-1,Iu=e=>e.model.maxX,$u=e=>e.model.maxY,u1=e=>e.model.maxX+1,d1=e=>e.model.maxY+1,uw=(e,t,n)=>t(e)-n(e),ib=e=>uw(e,Iu,Du),lb=e=>uw(e,$u,Fu),dw=e=>ib(e)/2,mw=e=>lb(e)/2,Pd=(e,t)=>t?e.stepSize*e.speedMultiplier:e.stepSize,hw=e=>e.snapToGrid,gw=e=>e.snapStart,pw=e=>e.rounded,m1=(e,t)=>e[t+"-edge"]!==void 0,fw=e=>m1(e,a$),bw=e=>m1(e,s$),vw=e=>m1(e,o$),yw=e=>m1(e,r$),Xi=e=>e.model.value.get(),Fl=(e,t)=>({x:e,y:t}),wc=(e,t)=>{Ct(e,nh(),{value:t})},c$=(e,t)=>{wc(e,Fl(i1(t),l1(t)))},i$=(e,t)=>{wc(e,l1(t))},l$=(e,t)=>{wc(e,Fl(dw(t),l1(t)))},u$=(e,t)=>{wc(e,Fl(u1(t),l1(t)))},d$=(e,t)=>{wc(e,u1(t))},m$=(e,t)=>{wc(e,Fl(u1(t),mw(t)))},h$=(e,t)=>{wc(e,Fl(u1(t),d1(t)))},g$=(e,t)=>{wc(e,d1(t))},p$=(e,t)=>{wc(e,Fl(dw(t),d1(t)))},f$=(e,t)=>{wc(e,Fl(i1(t),d1(t)))},b$=(e,t)=>{wc(e,i1(t))},v$=(e,t)=>{wc(e,Fl(i1(t),mw(t)))},ub=(e,t,n,o)=>e<t?e:e>n?n:e===t?t-1:Math.max(t,e-o),db=(e,t,n,o)=>e>n?e:e<t?t:e===n?n+1:Math.min(n,e+o),xw=(e,t,n)=>Math.max(t,Math.min(n,e)),y$=(e,t,n,o,s)=>s.fold(()=>{const r=e-t,a=Math.round(r/o)*o;return xw(t+a,t-1,n+1)},r=>{const a=(e-r)%o,c=Math.round(a/o),i=Math.floor((e-r)/o),d=Math.floor((n-r)/o),g=Math.min(d,i+c),f=r+g*o;return Math.max(r,f)}),x$=(e,t,n)=>Math.min(n,Math.max(e,t))-t,ww=e=>{const{min:t,max:n,range:o,value:s,step:r,snap:a,snapStart:c,rounded:i,hasMinEdge:d,hasMaxEdge:g,minBound:f,maxBound:y,screenRange:T}=e,_=d?t-1:t,L=g?n+1:n;if(s<f)return _;if(s>y)return L;{const z=x$(s,f,y),R=xw(z/T*o+t,_,L);return a&&R>=t&&R<=n?y$(R,t,n,r,c):i?Math.round(R):R}},Sw=e=>{const{min:t,max:n,range:o,value:s,hasMinEdge:r,hasMaxEdge:a,maxBound:c,maxOffset:i,centerMinEdge:d,centerMaxEdge:g}=e;return s<t?r?0:d:s>n?a?c:g:(s-t)/o*i},mb="top",Cw="right",Tw="bottom",hb="left",w$="width",S$="height",Si=e=>e.element.dom.getBoundingClientRect(),Sc=(e,t)=>e[t],h1=e=>{const t=Si(e);return Sc(t,hb)},kw=e=>{const t=Si(e);return Sc(t,Cw)},g1=e=>{const t=Si(e);return Sc(t,mb)},Ow=e=>{const t=Si(e);return Sc(t,Tw)},Aw=e=>{const t=Si(e);return Sc(t,w$)},Ew=e=>{const t=Si(e);return Sc(t,S$)},Mw=(e,t,n)=>(e+t)/2-n,_w=(e,t)=>{const n=Si(e),o=Si(t),s=Sc(n,hb),r=Sc(n,Cw),a=Sc(o,hb);return Mw(s,r,a)},Dw=(e,t)=>{const n=Si(e),o=Si(t),s=Sc(n,mb),r=Sc(n,Tw),a=Sc(o,mb);return Mw(s,r,a)},p1=(e,t)=>{Ct(e,nh(),{value:t})},gb=(e,t,n)=>{const o={min:Du(t),max:Iu(t),range:ib(t),value:n,step:Pd(t),snap:hw(t),snapStart:gw(t),rounded:pw(t),hasMinEdge:fw(t),hasMaxEdge:bw(t),minBound:h1(e),maxBound:kw(e),screenRange:Aw(e)};return ww(o)},C$=(e,t,n)=>{const o=gb(e,t,n);return p1(e,o),o},T$=(e,t)=>{const n=Du(t);p1(e,n)},k$=(e,t)=>{const n=Iu(t);p1(e,n)},O$=(e,t,n,o)=>{const r=(e>0?db:ub)(Xi(n),Du(n),Iu(n),Pd(n,o));return p1(t,r),h.some(r)},Fw=e=>(t,n,o)=>O$(e,t,n,o).map(st),A$=e=>cb(e).map(n=>n.left),E$=(e,t,n,o,s)=>{const a=Aw(e),c=o.bind(g=>h.some(_w(g,e))).getOr(0),i=s.bind(g=>h.some(_w(g,e))).getOr(a),d={min:Du(t),max:Iu(t),range:ib(t),value:n,hasMinEdge:fw(t),hasMaxEdge:bw(t),minBound:h1(e),minOffset:0,maxBound:kw(e),maxOffset:a,centerMinEdge:c,centerMaxEdge:i};return Sw(d)},pb=(e,t,n,o,s,r)=>{const a=E$(t,r,n,o,s);return h1(t)-h1(e)+a},M$=(e,t,n,o)=>{const s=Xi(n),r=pb(e,o.getSpectrum(e),s,o.getLeftEdge(e),o.getRightEdge(e),n),a=yr(t.element)/2;Vt(t.element,"left",r-a+"px")},_$=Fw(-1),D$=Fw(1),F$=h.none,I$=h.none,$$={"top-left":h.none(),top:h.none(),"top-right":h.none(),right:h.some(d$),"bottom-right":h.none(),bottom:h.none(),"bottom-left":h.none(),left:h.some(b$)};var H$=Object.freeze({__proto__:null,setValueFrom:C$,setToMin:T$,setToMax:k$,findValueOfOffset:gb,getValueFromEvent:A$,findPositionOfValue:pb,setPositionFromValue:M$,onLeft:_$,onRight:D$,onUp:F$,onDown:I$,edgeActions:$$});const f1=(e,t)=>{Ct(e,nh(),{value:t})},fb=(e,t,n)=>{const o={min:Fu(t),max:$u(t),range:lb(t),value:n,step:Pd(t),snap:hw(t),snapStart:gw(t),rounded:pw(t),hasMinEdge:vw(t),hasMaxEdge:yw(t),minBound:g1(e),maxBound:Ow(e),screenRange:Ew(e)};return ww(o)},R$=(e,t,n)=>{const o=fb(e,t,n);return f1(e,o),o},L$=(e,t)=>{const n=Fu(t);f1(e,n)},P$=(e,t)=>{const n=$u(t);f1(e,n)},B$=(e,t,n,o)=>{const r=(e>0?db:ub)(Xi(n),Fu(n),$u(n),Pd(n,o));return f1(t,r),h.some(r)},Iw=e=>(t,n,o)=>B$(e,t,n,o).map(st),N$=e=>cb(e).map(n=>n.top),V$=(e,t,n,o,s)=>{const a=Ew(e),c=o.bind(g=>h.some(Dw(g,e))).getOr(0),i=s.bind(g=>h.some(Dw(g,e))).getOr(a),d={min:Fu(t),max:$u(t),range:lb(t),value:n,hasMinEdge:vw(t),hasMaxEdge:yw(t),minBound:g1(e),minOffset:0,maxBound:Ow(e),maxOffset:a,centerMinEdge:c,centerMaxEdge:i};return Sw(d)},bb=(e,t,n,o,s,r)=>{const a=V$(t,r,n,o,s);return g1(t)-g1(e)+a},z$=(e,t,n,o)=>{const s=Xi(n),r=bb(e,o.getSpectrum(e),s,o.getTopEdge(e),o.getBottomEdge(e),n),a=pn(t.element)/2;Vt(t.element,"top",r-a+"px")},Z$=h.none,U$=h.none,W$=Iw(-1),j$=Iw(1),G$={"top-left":h.none(),top:h.some(i$),"top-right":h.none(),right:h.none(),"bottom-right":h.none(),bottom:h.some(g$),"bottom-left":h.none(),left:h.none()};var q$=Object.freeze({__proto__:null,setValueFrom:R$,setToMin:L$,setToMax:P$,findValueOfOffset:fb,getValueFromEvent:N$,findPositionOfValue:bb,setPositionFromValue:z$,onLeft:Z$,onRight:U$,onUp:W$,onDown:j$,edgeActions:G$});const b1=(e,t)=>{Ct(e,nh(),{value:t})},v1=(e,t)=>({x:e,y:t}),K$=(e,t,n)=>{const o=gb(e,t,n.left),s=fb(e,t,n.top),r=v1(o,s);return b1(e,r),r},Y$=(e,t,n,o,s)=>{const r=e>0?db:ub,a=t?Xi(o).x:r(Xi(o).x,Du(o),Iu(o),Pd(o,s)),c=t?r(Xi(o).y,Fu(o),$u(o),Pd(o,s)):Xi(o).y;return b1(n,v1(a,c)),h.some(a)},y1=(e,t)=>(n,o,s)=>Y$(e,t,n,o,s).map(st),X$=(e,t)=>{const n=Du(t),o=Fu(t);b1(e,v1(n,o))},J$=(e,t)=>{const n=Iu(t),o=$u(t);b1(e,v1(n,o))},Q$=e=>cb(e),eH=(e,t,n,o)=>{const s=Xi(n),r=pb(e,o.getSpectrum(e),s.x,o.getLeftEdge(e),o.getRightEdge(e),n),a=bb(e,o.getSpectrum(e),s.y,o.getTopEdge(e),o.getBottomEdge(e),n),c=yr(t.element)/2,i=pn(t.element)/2;Vt(t.element,"left",r-c+"px"),Vt(t.element,"top",a-i+"px")},tH=y1(-1,!1),nH=y1(1,!1),oH=y1(-1,!0),sH=y1(1,!0),rH={"top-left":h.some(c$),top:h.some(l$),"top-right":h.some(u$),right:h.some(m$),"bottom-right":h.some(h$),bottom:h.some(p$),"bottom-left":h.some(f$),left:h.some(v$)};var aH=Object.freeze({__proto__:null,setValueFrom:K$,setToMin:X$,setToMax:J$,getValueFromEvent:Q$,setPositionFromValue:eH,onLeft:tH,onRight:nH,onUp:oH,onDown:sH,edgeActions:rH});const cH=[ee("stepSize",1),ee("speedMultiplier",10),ee("onChange",ce),ee("onChoose",ce),ee("onInit",ce),ee("onDragStart",ce),ee("onDragEnd",ce),ee("snapToGrid",!1),ee("rounded",!0),Zn("snapStart"),Aa("model",Gr("mode",{x:[ee("minX",0),ee("maxX",100),Lr("value",e=>ot(e.mode.minX)),ye("getInitialValue"),_o("manager",H$)],y:[ee("minY",0),ee("maxY",100),Lr("value",e=>ot(e.mode.minY)),ye("getInitialValue"),_o("manager",q$)],xy:[ee("minX",0),ee("maxX",100),ee("minY",0),ee("maxY",100),Lr("value",e=>ot({x:e.mode.minX,y:e.mode.minY})),ye("getInitialValue"),_o("manager",aH)]})),ks("sliderBehaviours",[pt,Ye]),Lr("mouseIsDown",()=>ot(!1))],Cc=Cr({name:"Slider",configFields:cH,partFields:t$,factory:(e,t,n,o)=>{const s=ae=>Cl(ae,e,"thumb"),r=ae=>Cl(ae,e,"spectrum"),a=ae=>io(ae,e,"left-edge"),c=ae=>io(ae,e,"right-edge"),i=ae=>io(ae,e,"top-edge"),d=ae=>io(ae,e,"bottom-edge"),g=e.model,f=g.manager,y=(ae,ze)=>{f.setPositionFromValue(ae,ze,e,{getLeftEdge:a,getRightEdge:c,getTopEdge:i,getBottomEdge:d,getSpectrum:r})},T=(ae,ze)=>{g.value.set(ze);const Ke=s(ae);y(ae,Ke)},_=(ae,ze)=>{T(ae,ze);const Ke=s(ae);return e.onChange(ae,Ke,ze),h.some(!0)},L=ae=>{f.setToMin(ae,e)},z=ae=>{f.setToMax(ae,e)},R=ae=>{const ze=()=>{io(ae,e,"thumb").each(Y=>{const qe=g.value.get();e.onChoose(ae,Y,qe)})},Ke=e.mouseIsDown.get();e.mouseIsDown.set(!1),Ke&&ze()},W=(ae,ze)=>{ze.stop(),e.mouseIsDown.set(!0),e.onDragStart(ae,s(ae))},G=(ae,ze)=>{ze.stop(),e.onDragEnd(ae,s(ae)),R(ae)},oe=ae=>{io(ae,e,"spectrum").map(pt.focusIn)};return{uid:e.uid,dom:e.dom,components:t,behaviours:Ps(e.sliderBehaviours,[pt.config({mode:"special",focusIn:oe}),Ye.config({store:{mode:"manual",getValue:ae=>g.value.get(),setValue:T}}),ua.config({channels:{[q0()]:{onReceive:R}}})]),events:Co([le(nh(),(ae,ze)=>{_(ae,ze.event.value)}),vo((ae,ze)=>{const Ke=g.getInitialValue();g.value.set(Ke);const Y=s(ae);y(ae,Y);const qe=r(ae);e.onInit(ae,Y,qe,g.value.get())}),le(Bi(),W),le(gu(),G),le(Ea(),(ae,ze)=>{oe(ae),W(ae,ze)}),le(vf(),G)]),apis:{resetToMin:L,resetToMax:z,setValue:T,refresh:y},domModification:{styles:{position:"relative"}}}},apis:{setValue:(e,t,n)=>{e.setValue(t,n)},resetToMin:(e,t)=>{e.resetToMin(t)},resetToMax:(e,t)=>{e.resetToMax(t)},refresh:(e,t)=>{e.refresh(t)}}}),$w="container",iH=[ks("slotBehaviours",[])],Hw=e=>"<alloy.field."+e+">",lH=e=>{const t=(()=>{const r=[];return{slot:(c,i)=>(r.push(c),Lf($w,Hw(c),i)),record:A(r)}})(),n=e(t),o=t.record(),s=re(o,r=>mr({name:r,pname:Hw(r)}));return $0($w,iH,s,uH,n)},uH=(e,t)=>{const n=L=>Ny(e),o=(L,z)=>io(L,e,z),s=(L,z)=>(R,W)=>io(R,e,W).map(G=>L(G,W)).getOr(z),r=L=>(z,R)=>{_e(R,W=>L(z,W))},a=(L,z)=>Qo(L.element,"aria-hidden")!=="true",c=(L,z)=>{if(!a(L)){const R=L.element;Ne(R,"display"),Fo(R,"aria-hidden"),Ct(L,Sf(),{name:z,visible:!0})}},i=(L,z)=>{if(a(L)){const R=L.element;Vt(R,"display","none"),Lt(R,"aria-hidden","true"),Ct(L,Sf(),{name:z,visible:!1})}},d=s(a,!1),g=s(i),f=r(g),y=L=>f(L,n()),T=s(c),_={getSlotNames:n,getSlot:o,isShowing:d,hideSlot:g,hideAllSlots:y,showSlot:T};return{uid:e.uid,dom:e.dom,components:t,behaviours:Yg(e.slotBehaviours),apis:_}},pr={...ge({getSlotNames:(e,t)=>e.getSlotNames(t),getSlot:(e,t,n)=>e.getSlot(t,n),isShowing:(e,t,n)=>e.isShowing(t,n),hideSlot:(e,t,n)=>e.hideSlot(t,n),hideAllSlots:(e,t)=>e.hideAllSlots(t),showSlot:(e,t,n)=>e.showSlot(t,n)},e=>Vg(e)),sketch:lH},dH=A([ye("toggleClass"),ye("fetch"),yu("onExecute"),ee("getHotspot",h.some),ee("getAnchorOverrides",A({})),El(),yu("onItemExecute"),Zn("lazySink"),ye("dom"),$n("onOpen"),ks("splitDropdownBehaviours",[Zo,pt,It]),ee("matchWidth",!1),ee("useMinWidth",!1),ee("eventOrder",{}),Zn("role"),Zn("listRole")].concat(nb())),mH=mr({factory:Bs,schema:[ye("dom")],name:"arrow",defaults:()=>({buttonBehaviours:Fe([It.revoke()])}),overrides:e=>({dom:{tag:"span",attributes:{role:"presentation"}},action:t=>{t.getSystem().getByUid(e.uid).each(xu)},buttonBehaviours:Fe([tn.config({toggleOnExecute:!1,toggleClass:e.toggleClass})])})}),hH=mr({factory:Bs,schema:[ye("dom")],name:"button",defaults:()=>({buttonBehaviours:Fe([It.revoke()])}),overrides:e=>({dom:{tag:"span",attributes:{role:"presentation"}},action:t=>{t.getSystem().getByUid(e.uid).each(n=>{e.onExecute(n,t)})}})}),gH=A([mH,hH,Ya({factory:{sketch:e=>({uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}})},schema:[ye("text")],name:"aria-descriptor"}),pc({schema:[bg()],name:"menu",defaults:e=>({onExecute:(t,n)=>{t.getSystem().getByUid(e.uid).each(o=>{e.onItemExecute(o,t,n)})}})}),J3()]),pH=(e,t,n,o)=>{const s=g=>{En.getCurrent(g).each(f=>{Un.highlightFirst(f),pt.focusIn(f)})},r=g=>{eb(e,Ve,g,o,s,Pr.HighlightMenuAndItem).get(ce)},a=g=>(r(g),h.some(!0)),c=g=>{const f=Cl(g,e,"button");return xu(f),h.some(!0)},i={...Co([vo((g,f)=>{io(g,e,"aria-descriptor").each(T=>{const _=O("aria");Lt(T.element,"id",_),Lt(g.element,"aria-describedby",_)})})]),...s1(h.some(r))},d={repositionMenus:g=>{tn.isOn(g)&&nw(g)}};return{uid:e.uid,dom:e.dom,components:t,apis:d,eventOrder:{...e.eventOrder,[Ma()]:["disabling","toggling","alloy.base.behaviour"]},events:i,behaviours:Ps(e.splitDropdownBehaviours,[Zo.config({others:{sandbox:g=>{const f=Cl(g,e,"arrow");return tb(e,g,{onOpen:()=>{tn.on(f),tn.on(g)},onClose:()=>{tn.off(f),tn.off(g)}})}}}),pt.config({mode:"special",onSpace:c,onEnter:c,onDown:a}),It.config({}),tn.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:e.role.getOr("button"),"aria-haspopup":!0}}}},x1=Cr({name:"SplitDropdown",configFields:dH(),partFields:gH(),factory:pH,apis:{repositionMenus:(e,t)=>e.repositionMenus(t)}}),fH=(e,t)=>On(e,(s,r)=>t(r,s.len).fold(A(s),c=>({len:c.finish,list:s.list.concat([c])})),{len:0,list:[]}).list,vb=(e,t,n)=>({within:e,extra:t,withinWidth:n}),Rw=(e,t,n)=>{const o=fH(e,(c,i)=>{const d=n(c);return h.some({element:c,start:i,finish:i+d,width:d})}),s=jt(o,c=>c.finish<=t),r=ln(s,(c,i)=>c+i.width,0),a=o.slice(s.length);return{within:s,extra:a,withinWidth:r}},w1=e=>re(e,t=>t.element),bH=(e,t,n)=>{const o=w1(e.concat(t));return vb(o,[],n)},vH=(e,t,n,o)=>{const s=w1(e).concat([n]);return vb(s,w1(t),o)},yH=(e,t,n)=>vb(w1(e),[],n),xH=(e,t,n)=>{const o=Rw(t,e,n);return o.extra.length===0?h.some(o):h.none()},wH=(e,t,n,o)=>{const s=xH(e,t,n).getOrThunk(()=>Rw(t,e-n(o),n)),r=s.within,a=s.extra,c=s.withinWidth;return a.length===1&&a[0].width<=n(o)?bH(r,a,c):a.length>=1?vH(r,a,o,c):yH(r,a,c)},Lw=(e,t)=>{const n=re(t,o=>Da(o));Gc.setGroups(e,n)},SH=e=>kt(e,t=>bs(t.element).bind(n=>t.getSystem().getByDom(n).toOptional())),Pw=(e,t,n)=>{const o=t.builtGroups.get();if(o.length===0)return;const s=Cl(e,t,"primary"),r=Zo.getCoupled(e,"overflowGroup");Vt(s.element,"visibility","hidden");const a=o.concat([r]),c=SH(a);n([]),Lw(s,a);const i=yr(s.element),d=wH(i,t.builtGroups.get(),g=>Math.ceil(g.element.dom.getBoundingClientRect().width),r);d.extra.length===0?(zt.remove(s,r),n([])):(Lw(s,d.within),n(d.extra)),Ne(s.element,"visibility"),Kt(s.element),c.each(It.focus)},Bw=A([ks("splitToolbarBehaviours",[Zo]),Lr("builtGroups",()=>ot([]))]),CH=A([vu(["overflowToggledClass"]),Pi("getOverflowBounds"),ye("lazySink"),Lr("overflowGroups",()=>ot([])),$n("onOpened"),$n("onClosed")].concat(Bw())),TH=A([mr({factory:Gc,schema:Ld(),name:"primary"}),pc({schema:Ld(),name:"overflow"}),pc({name:"overflow-button"}),pc({name:"overflow-group"})]),kH=A([ye("items"),vu(["itemSelector"]),ks("tgroupBehaviours",[pt])]),OH=A([Og({name:"items",unit:"item"})]),AH=(e,t,n,o)=>({uid:e.uid,dom:e.dom,components:t,behaviours:Ps(e.tgroupBehaviours,[pt.config({mode:"flow",selector:e.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}),S1=Cr({name:"ToolbarGroup",configFields:kH(),partFields:OH(),factory:AH}),Nw=e=>re(e,t=>Da(t)),Vw=(e,t,n)=>{Pw(e,n,o=>{n.overflowGroups.set(o),t.getOpt(e).each(s=>{_l.setGroups(s,Nw(o))})})},EH=(e,t,n,o)=>{const s=Vn(_l.sketch({fetch:()=>An.nu(r=>{r(Nw(e.overflowGroups.get()))}),layouts:{onLtr:()=>[ls,is],onRtl:()=>[is,ls],onBottomLtr:()=>[Js,Xs],onBottomRtl:()=>[Xs,Js]},getBounds:n.getOverflowBounds,lazySink:e.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:e.markers.overflowToggledClass},parts:{button:o["overflow-button"](),toolbar:o.overflow()},onToggled:(r,a)=>e[a?"onOpened":"onClosed"](r)}));return{uid:e.uid,dom:e.dom,components:t,behaviours:Ps(e.splitToolbarBehaviours,[Zo.config({others:{overflowGroup:()=>S1.sketch({...o["overflow-group"](),items:[s.asSpec()]})}})]),apis:{setGroups:(r,a)=>{e.builtGroups.set(re(a,r.getSystem().build)),Vw(r,s,e)},refresh:r=>Vw(r,s,e),toggle:r=>{s.getOpt(r).each(a=>{_l.toggle(a)})},toggleWithoutFocusing:r=>{s.getOpt(r).each(_l.toggleWithoutFocusing)},isOpen:r=>s.getOpt(r).map(_l.isOpen).getOr(!1),reposition:r=>{s.getOpt(r).each(a=>{_l.reposition(a)})},getOverflow:r=>s.getOpt(r).bind(_l.getToolbar)},domModification:{attributes:{role:"group"}}}},zw=Cr({name:"SplitFloatingToolbar",configFields:CH(),partFields:TH(),factory:EH,apis:{setGroups:(e,t,n)=>{e.setGroups(t,n)},refresh:(e,t)=>{e.refresh(t)},reposition:(e,t)=>{e.reposition(t)},toggle:(e,t)=>{e.toggle(t)},toggleWithoutFocusing:(e,t)=>{e.toggle(t)},isOpen:(e,t)=>e.isOpen(t),getOverflow:(e,t)=>e.getOverflow(t)}}),MH=A([vu(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),$n("onOpened"),$n("onClosed")].concat(Bw())),_H=A([mr({factory:Gc,schema:Ld(),name:"primary"}),mr({factory:Gc,schema:Ld(),name:"overflow",overrides:e=>({toolbarBehaviours:Fe([qr.config({dimension:{property:"height"},closedClass:e.markers.closedClass,openClass:e.markers.openClass,shrinkingClass:e.markers.shrinkingClass,growingClass:e.markers.growingClass,onShrunk:t=>{io(t,e,"overflow-button").each(n=>{tn.off(n)}),e.onClosed(t)},onGrown:t=>{e.onOpened(t)},onStartGrow:t=>{io(t,e,"overflow-button").each(tn.on)}}),pt.config({mode:"acyclic",onEscape:t=>(io(t,e,"overflow-button").each(It.focus),h.some(!0))})])})}),pc({name:"overflow-button",overrides:e=>({buttonBehaviours:Fe([tn.config({toggleClass:e.markers.overflowToggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])})}),pc({name:"overflow-group"})]),DH=(e,t)=>io(e,t,"overflow").map(qr.hasGrown).getOr(!1),yb=(e,t,n)=>{io(e,t,"overflow-button").each(o=>{io(e,t,"overflow").each(s=>{if(xb(e,t),qr.hasShrunk(s)){const r=t.onOpened;t.onOpened=a=>{n||pt.focusIn(s),r(a),t.onOpened=r}}else{const r=t.onClosed;t.onClosed=a=>{n||It.focus(o),r(a),t.onClosed=r}}qr.toggleGrow(s)})})},xb=(e,t)=>{io(e,t,"overflow").each(n=>{Pw(e,t,o=>{const s=re(o,r=>Da(r));Gc.setGroups(n,s)}),io(e,t,"overflow-button").each(o=>{qr.hasGrown(n)&&tn.on(o)}),qr.refresh(n)})},FH=(e,t,n,o)=>{const s="alloy.toolbar.toggle",r=(a,c)=>{const i=re(c,a.getSystem().build);e.builtGroups.set(i)};return{uid:e.uid,dom:e.dom,components:t,behaviours:Ps(e.splitToolbarBehaviours,[Zo.config({others:{overflowGroup:a=>S1.sketch({...o["overflow-group"](),items:[Bs.sketch({...o["overflow-button"](),action:c=>{Cn(a,s)}})]})}}),Pt("toolbar-toggle-events",[le(s,a=>{yb(a,e,!1)})])]),apis:{setGroups:(a,c)=>{r(a,c),xb(a,e)},refresh:a=>xb(a,e),toggle:a=>{yb(a,e,!1)},toggleWithoutFocusing:a=>{yb(a,e,!0)},isOpen:a=>DH(a,e)},domModification:{attributes:{role:"group"}}}},wb=Cr({name:"SplitSlidingToolbar",configFields:MH(),partFields:_H(),factory:FH,apis:{setGroups:(e,t,n)=>{e.setGroups(t,n)},refresh:(e,t)=>{e.refresh(t)},toggle:(e,t)=>{e.toggle(t)},isOpen:(e,t)=>e.isOpen(t)}}),IH=(e,t)=>({uid:e.uid,dom:e.dom,components:e.components,events:s1(e.action),behaviours:Ps(e.tabButtonBehaviours,[It.config({}),pt.config({mode:"execution",useSpace:!0,useEnter:!0}),Ye.config({store:{mode:"memory",initialValue:e.value}})]),domModification:e.domModification}),$H=Fa({name:"TabButton",configFields:[ee("uid",void 0),ye("value"),Gs("dom","dom",hf(()=>({attributes:{role:"tab",id:O("aria"),"aria-selected":"false"}})),uc()),Zn("action"),ee("domModification",{}),ks("tabButtonBehaviours",[It,pt,Ye]),ye("view")],factory:IH}),HH=A([ye("tabs"),ye("dom"),ee("clickToDismiss",!1),ks("tabbarBehaviours",[Un,pt]),vu(["tabClass","selectedClass"])]),RH=Og({factory:$H,name:"tabs",unit:"tab",overrides:e=>{const t=(o,s)=>{Un.dehighlight(o,s),Ct(o,Sy(),{tabbar:o,button:s})},n=(o,s)=>{Un.highlight(o,s),Ct(o,wy(),{tabbar:o,button:s})};return{action:o=>{const s=o.getSystem().getByUid(e.uid).getOrDie(),r=Un.isHighlighted(s,o);(()=>r&&e.clickToDismiss?t:r?ce:n)()(s,o)},domModification:{classes:[e.markers.tabClass]}}}}),LH=A([RH]),PH=(e,t,n,o)=>({uid:e.uid,dom:e.dom,components:t,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Ps(e.tabbarBehaviours,[Un.config({highlightClass:e.markers.selectedClass,itemClass:e.markers.tabClass,onHighlight:(s,r)=>{Lt(r.element,"aria-selected","true")},onDehighlight:(s,r)=>{Lt(r.element,"aria-selected","false")}}),pt.config({mode:"flow",getInitial:s=>Un.getHighlighted(s).map(r=>r.element),selector:"."+e.markers.tabClass,executeOnMove:!0})])}),Zw=Cr({name:"Tabbar",configFields:HH(),partFields:LH(),factory:PH}),BH=(e,t)=>({uid:e.uid,dom:e.dom,behaviours:Ps(e.tabviewBehaviours,[zt.config({})]),domModification:{attributes:{role:"tabpanel"}}}),NH=Fa({name:"Tabview",configFields:[ks("tabviewBehaviours",[zt])],factory:BH}),VH=A([ee("selectFirst",!0),$n("onChangeTab"),$n("onDismissTab"),ee("tabs",[]),ks("tabSectionBehaviours",[])]),zH=mr({factory:Zw,schema:[ye("dom"),Li("markers",[ye("tabClass"),ye("selectedClass")])],name:"tabbar",defaults:e=>({tabs:e.tabs})}),ZH=mr({factory:NH,name:"tabview"}),UH=A([zH,ZH]),WH=(e,t,n,o)=>{const s=a=>{const c=Ye.getValue(a);io(a,e,"tabview").each(i=>{ve(e.tabs,g=>g.value===c).each(g=>{const f=g.view();es(a.element,"id").each(y=>{Lt(i.element,"aria-labelledby",y)}),zt.set(i,f),e.onChangeTab(i,a,f)})})},r=(a,c)=>{io(a,e,"tabbar").each(i=>{c(i).each(xu)})};return{uid:e.uid,dom:e.dom,components:t,behaviours:Yg(e.tabSectionBehaviours),events:Co(je([e.selectFirst?[vo((a,c)=>{r(a,Un.getFirst)})]:[],[le(wy(),(a,c)=>{const i=c.event.button;s(i)}),le(Sy(),(a,c)=>{const i=c.event.button;e.onDismissTab(a,i)})]])),apis:{getViewItems:a=>io(a,e,"tabview").map(c=>zt.contents(c)).getOr([]),showTab:(a,c)=>{r(a,d=>{const g=Un.getCandidates(d);return ve(g,y=>Ye.getValue(y)===c).filter(y=>!Un.isHighlighted(d,y))})}}}},Bd=Cr({name:"TabSection",configFields:VH(),partFields:UH(),factory:WH,apis:{getViewItems:(e,t)=>e.getViewItems(t),showTab:(e,t,n)=>{e.showTab(t,n)}}}),C1=(e,t,n)=>{const o=Ye.getValue(n);Ye.setValue(t,o),Ww(t)},Uw=(e,t)=>{const n=e.element,o=ic(n),s=n.dom;Qo(n,"type")!=="number"&&t(s,o)},Ww=e=>{Uw(e,(t,n)=>t.setSelectionRange(n.length,n.length))},jH=(e,t)=>{Uw(e,(n,o)=>n.setSelectionRange(t,o.length))},GH=(e,t,n)=>{if(e.selectsOver){const o=Ye.getValue(t),s=e.getDisplayText(o),r=Ye.getValue(n);return e.getDisplayText(r).indexOf(s)===0?h.some(()=>{C1(e,t,n),jH(t,s.length)}):h.none()}else return h.none()},Sb=A("alloy.typeahead.itemexecute"),qH=(e,t,n,o)=>{const s=(f,y,T)=>{e.previewing.set(!1);const _=Zo.getCoupled(f,"sandbox");if(Hn.isOpen(_))En.getCurrent(_).each(L=>{Un.getHighlighted(L).fold(()=>{T(L)},()=>{i4(_,L.element,"keydown",y)})});else{const L=z=>{En.getCurrent(z).each(T)};r1(e,a(f),f,_,o,L,Pr.HighlightMenuAndItem).get(ce)}},r=iw(e),a=f=>y=>y.map(T=>{const _=wo(T.menus),L=Tt(_,R=>jt(R.items,W=>W.type==="item"));return Ye.getState(f).update(re(L,R=>R.data)),T}),c=f=>En.getCurrent(f),i="typeaheadevents",d=[It.config({}),Ye.config({onSetValue:e.onSetValue,store:{mode:"dataset",getDataKey:f=>ic(f.element),getFallbackEntry:f=>({value:f,meta:{}}),setValue:(f,y)=>{lc(f.element,e.model.getDisplayText(y))},...e.initialData.map(f=>hu("initialValue",f)).getOr({})}}),G0.config({stream:{mode:"throttle",delay:e.responseTime,stopEvent:!1},onStream:(f,y)=>{const T=Zo.getCoupled(f,"sandbox");if(It.isFocused(f)&&ic(f.element).length>=e.minChars){const L=c(T).bind(R=>Un.getHighlighted(R).map(Ye.getValue));e.previewing.set(!0);const z=R=>{c(T).each(W=>{L.fold(()=>{e.model.selectsOver&&Un.highlightFirst(W)},G=>{Un.highlightBy(W,oe=>Ye.getValue(oe).value===G.value),Un.getHighlighted(W).orThunk(()=>(Un.highlightFirst(W),h.none()))})})};r1(e,a(f),f,T,o,z,Pr.HighlightJustMenu).get(ce)}},cancelEvent:xf()}),pt.config({mode:"special",onDown:(f,y)=>(s(f,y,Un.highlightFirst),h.some(!0)),onEscape:f=>{const y=Zo.getCoupled(f,"sandbox");return Hn.isOpen(y)?(Hn.close(y),h.some(!0)):h.none()},onUp:(f,y)=>(s(f,y,Un.highlightLast),h.some(!0)),onEnter:f=>{const y=Zo.getCoupled(f,"sandbox"),T=Hn.isOpen(y);if(T&&!e.previewing.get())return c(y).bind(_=>Un.getHighlighted(_)).map(_=>(Ct(f,Sb(),{item:_}),!0));{const _=Ye.getValue(f);return Cn(f,xf()),e.onExecute(y,f,_),T&&Hn.close(y),h.some(!0)}}}),tn.config({toggleClass:e.markers.openClass,aria:{mode:"expanded"}}),Zo.config({others:{sandbox:f=>tb(e,f,{onOpen:()=>tn.on(f),onClose:()=>{e.lazyTypeaheadComp.get().each(y=>Fo(y.element,"aria-activedescendant")),tn.off(f)}})}}),Pt(i,[vo(f=>{e.lazyTypeaheadComp.set(h.some(f))}),Zc(f=>{e.lazyTypeaheadComp.set(h.none())}),zi(f=>{const y=ce;eb(e,a(f),f,o,y,Pr.HighlightMenuAndItem).get(ce)}),le(Sb(),(f,y)=>{const T=Zo.getCoupled(f,"sandbox");C1(e.model,f,y.event.item),Cn(f,xf()),e.onItemExecute(f,T,y.event.item,Ye.getValue(f)),Hn.close(T),Ww(f)})].concat(e.dismissOnBlur?[le(Im(),f=>{const y=Zo.getCoupled(f,"sandbox");bs(y.element).isNone()&&Hn.close(y)})]:[]))],g={[vi()]:[Ye.name(),G0.name(),i],...e.eventOrder};return{uid:e.uid,dom:lw(ke(e,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...r,...Ps(e.typeaheadBehaviours,d)},eventOrder:g}},KH=A([Zn("lazySink"),ye("fetch"),ee("minChars",5),ee("responseTime",1e3),$n("onOpen"),ee("getHotspot",h.some),ee("getAnchorOverrides",A({})),ee("layouts",h.none()),ee("eventOrder",{}),bf("model",{},[ee("getDisplayText",e=>e.meta!==void 0&&e.meta.text!==void 0?e.meta.text:e.value),ee("selectsOver",!0),ee("populateFromBrowse",!0)]),$n("onSetValue"),ia("onExecute"),$n("onItemExecute"),ee("inputClasses",[]),ee("inputAttributes",{}),ee("inputStyles",{}),ee("matchWidth",!0),ee("useMinWidth",!1),ee("dismissOnBlur",!0),vu(["openClass"]),Zn("initialData"),Zn("listRole"),ks("typeaheadBehaviours",[It,Ye,G0,pt,tn,Zo]),Lr("lazyTypeaheadComp",()=>ot(h.none)),Lr("previewing",()=>ot(!0))].concat(cw()).concat(nb())),YH=A([pc({schema:[bg()],name:"menu",overrides:e=>({fakeFocus:!0,onHighlightItem:(t,n,o)=>{e.previewing.get()?e.lazyTypeaheadComp.get().each(s=>{GH(e.model,s,o).fold(()=>{e.model.selectsOver?(Un.dehighlight(n,o),e.previewing.set(!0)):e.previewing.set(!1)},r=>{r(),e.previewing.set(!1)})}):e.lazyTypeaheadComp.get().each(s=>{e.model.populateFromBrowse&&C1(e.model,s,o),es(o.element,"id").each(r=>Lt(s.element,"aria-activedescendant",r))})},onExecute:(t,n)=>e.lazyTypeaheadComp.get().map(o=>(Ct(o,Sb(),{item:n}),!0)),onHover:(t,n)=>{e.previewing.set(!1),e.lazyTypeaheadComp.get().each(o=>{e.model.populateFromBrowse&&C1(e.model,o,n)})}})})]),XH=Cr({name:"Typeahead",configFields:KH(),partFields:YH(),factory:qH});var JH=tinymce.util.Tools.resolve("tinymce.ThemeManager"),T1=tinymce.util.Tools.resolve("tinymce.util.Delay"),oh=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),QH=tinymce.util.Tools.resolve("tinymce.EditorManager"),Nd=tinymce.util.Tools.resolve("tinymce.Env"),Xa;(function(e){e.default="wrap",e.floating="floating",e.sliding="sliding",e.scrolling="scrolling"})(Xa||(Xa={}));var sh;(function(e){e.auto="auto",e.top="top",e.bottom="bottom"})(sh||(sh={}));const eo=e=>t=>t.options.get(e),rh=e=>t=>h.from(e(t)),jw=e=>{const t=Nd.deviceType.isPhone(),n=Nd.deviceType.isTablet()||t,o=e.options.register,s=a=>X(a)||a===!1,r=a=>X(a)||Rt(a);o("skin",{processor:a=>X(a)||a===!1,default:"oxide"}),o("skin_url",{processor:"string"}),o("height",{processor:r,default:Math.max(e.getElement().offsetHeight,400)}),o("width",{processor:r,default:oh.DOM.getStyle(e.getElement(),"width")}),o("min_height",{processor:"number",default:100}),o("min_width",{processor:"number"}),o("max_height",{processor:"number"}),o("max_width",{processor:"number"}),o("style_formats",{processor:"object[]"}),o("style_formats_merge",{processor:"boolean",default:!1}),o("style_formats_autohide",{processor:"boolean",default:!1}),o("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),o("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),o("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),o("font_size_input_default_unit",{processor:"string",default:"pt"}),o("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),o("content_langs",{processor:"object[]"}),o("removed_menuitems",{processor:"string",default:""}),o("menubar",{processor:a=>X(a)||Re(a),default:!t}),o("menu",{processor:"object",default:{}}),o("toolbar",{processor:a=>Re(a)||X(a)||$e(a)?{value:a,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),de(9,a=>{o("toolbar"+(a+1),{processor:"string"})}),o("toolbar_mode",{processor:"string",default:n?"scrolling":"floating"}),o("toolbar_groups",{processor:"object",default:{}}),o("toolbar_location",{processor:"string",default:sh.auto}),o("toolbar_persist",{processor:"boolean",default:!1}),o("toolbar_sticky",{processor:"boolean",default:e.inline}),o("toolbar_sticky_offset",{processor:"number",default:0}),o("fixed_toolbar_container",{processor:"string",default:""}),o("fixed_toolbar_container_target",{processor:"object"}),o("ui_mode",{processor:"string",default:"combined"}),o("file_picker_callback",{processor:"function"}),o("file_picker_validator_handler",{processor:"function"}),o("file_picker_types",{processor:"string"}),o("typeahead_urls",{processor:"boolean",default:!0}),o("anchor_top",{processor:s,default:"#top"}),o("anchor_bottom",{processor:s,default:"#bottom"}),o("draggable_modal",{processor:"boolean",default:!1}),o("statusbar",{processor:"boolean",default:!0}),o("elementpath",{processor:"boolean",default:!0}),o("branding",{processor:"boolean",default:!0}),o("promotion",{processor:"boolean",default:!0}),o("resize",{processor:a=>a==="both"||Re(a),default:!Nd.deviceType.isTouch()}),o("sidebar_show",{processor:"string"}),o("help_accessibility",{processor:"boolean",default:e.hasPlugin("help")}),o("default_font_stack",{processor:"string[]",default:[]})},Gw=eo("readonly"),k1=eo("disabled"),Cb=eo("height"),Tb=eo("width"),kb=rh(eo("min_width")),Ob=rh(eo("min_height")),O1=rh(eo("max_width")),Ab=rh(eo("max_height")),qw=rh(eo("style_formats")),Kw=eo("style_formats_merge"),Yw=eo("style_formats_autohide"),Xw=eo("content_langs"),Jw=eo("removed_menuitems"),Vd=eo("toolbar_mode"),Qw=eo("toolbar_groups"),Eb=eo("toolbar_location"),eR=eo("fixed_toolbar_container"),tR=eo("fixed_toolbar_container_target"),eS=eo("toolbar_persist"),tS=eo("toolbar_sticky_offset"),nS=eo("menubar"),A1=eo("toolbar"),oS=eo("file_picker_callback"),sS=eo("file_picker_validator_handler"),rS=eo("font_size_input_default_unit"),aS=eo("file_picker_types"),cS=eo("typeahead_urls"),iS=eo("anchor_top"),lS=eo("anchor_bottom"),uS=eo("draggable_modal"),dS=eo("statusbar"),mS=eo("elementpath"),Mb=eo("branding"),hS=eo("resize"),gS=eo("paste_as_text"),pS=eo("sidebar_show"),fS=eo("promotion"),bS=eo("help_accessibility"),vS=eo("default_font_stack"),yS=eo("skin"),_b=e=>e.options.get("skin")===!1,E1=e=>e.options.get("menubar")!==!1,xS=e=>{const t=e.options.get("skin_url");if(_b(e))return t;if(t)return e.documentBaseURI.toAbsolute(t);{const n=e.options.get("skin");return QH.baseURL+"/skins/ui/"+n}},nR=e=>h.from(e.options.get("skin_url")),wS=e=>e.options.get("line_height_formats").split(" "),M1=e=>{const t=A1(e),n=X(t),o=$e(t)&&t.length>0;return!ah(e)&&(o||n||t===!0)},Db=e=>{const t=de(9,o=>e.options.get("toolbar"+(o+1))),n=jt(t,X);return Ao(n.length>0,n)},ah=e=>Db(e).fold(()=>{const t=A1(e);return Oe(t,X)&&t.length>0},st),Fb=e=>Eb(e)===sh.bottom,SS=e=>{var t;if(!e.inline)return h.none();const n=(t=eR(e))!==null&&t!==void 0?t:"";if(n.length>0)return Qn(ac(),n);const o=tR(e);return Xe(o)?h.some(Be.fromDom(o)):h.none()},zd=e=>e.inline&&SS(e).isSome(),Ib=e=>SS(e).getOrThunk(()=>di(Is(Be.fromDom(e.getElement())))),$b=e=>e.inline&&!E1(e)&&!M1(e)&&!ah(e),Zd=e=>(e.options.get("toolbar_sticky")||e.inline)&&!zd(e)&&!$b(e),Il=e=>!zd(e)&&e.options.get("ui_mode")==="split",CS=e=>{const t=e.options.get("menu");return ge(t,n=>({...n,items:n.items}))};var oR=Object.freeze({__proto__:null,get ToolbarMode(){return Xa},get ToolbarLocation(){return sh},register:jw,getSkinUrl:xS,getSkinUrlOption:nR,isReadOnly:Gw,isDisabled:k1,getSkin:yS,isSkinDisabled:_b,getHeightOption:Cb,getWidthOption:Tb,getMinWidthOption:kb,getMinHeightOption:Ob,getMaxWidthOption:O1,getMaxHeightOption:Ab,getUserStyleFormats:qw,shouldMergeStyleFormats:Kw,shouldAutoHideStyleFormats:Yw,getLineHeightFormats:wS,getContentLanguages:Xw,getRemovedMenuItems:Jw,isMenubarEnabled:E1,isMultipleToolbars:ah,isToolbarEnabled:M1,isToolbarPersist:eS,getMultipleToolbarsOption:Db,getUiContainer:Ib,useFixedContainer:zd,isSplitUiMode:Il,getToolbarMode:Vd,isDraggableModal:uS,isDistractionFree:$b,isStickyToolbar:Zd,getStickyToolbarOffset:tS,getToolbarLocation:Eb,isToolbarLocationBottom:Fb,getToolbarGroups:Qw,getMenus:CS,getMenubar:nS,getToolbar:A1,getFilePickerCallback:oS,getFilePickerTypes:aS,useTypeaheadUrls:cS,getAnchorTop:iS,getAnchorBottom:lS,getFilePickerValidatorHandler:sS,getFontSizeInputDefaultUnit:rS,useStatusBar:dS,useElementPath:mS,promotionEnabled:fS,useBranding:Mb,getResize:hS,getPasteAsText:gS,getSidebarShow:pS,useHelpAccessibility:bS,getDefaultFontStack:vS});const sR=["visible","hidden","clip"],TS=e=>va(e).length>0&&!Ee(sR,e),kS=e=>{if(td(e)){const t=p(e,"overflow-x"),n=p(e,"overflow-y");return TS(t)||TS(n)}else return!1},OS=e=>e.plugins.fullscreen&&e.plugins.fullscreen.isFullscreen(),rR=(e,t)=>{const n=cu(t,kS),o=n.length===0?il(t).map(Di).map(s=>cu(s,kS)).getOr([]):n;return Mt(o).map(s=>({element:s,others:o.slice(1),isFullscreen:()=>OS(e)}))},$l=(e,t)=>Il(e)?rR(e,t):h.none(),Hu=e=>{const t=[...re(e.others,Rs),Sr()];return e.isFullscreen()?Sr():_k(Rs(e.element),t)};/*! @license DOMPurify 3.2.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.4/LICENSE */const{entries:AS,setPrototypeOf:ES,isFrozen:aR,getPrototypeOf:cR,getOwnPropertyDescriptor:iR}=Object;let{freeze:ma,seal:Tc,create:MS}=Object,{apply:Hb,construct:Rb}=typeof Reflect<"u"&&Reflect;ma||(ma=function(t){return t}),Tc||(Tc=function(t){return t}),Hb||(Hb=function(t,n,o){return t.apply(n,o)}),Rb||(Rb=function(t,n){return new t(...n)});const _1=ga(Array.prototype.forEach),lR=ga(Array.prototype.lastIndexOf),_S=ga(Array.prototype.pop),ch=ga(Array.prototype.push),uR=ga(Array.prototype.splice),D1=ga(String.prototype.toLowerCase),Lb=ga(String.prototype.toString),DS=ga(String.prototype.match),ih=ga(String.prototype.replace),dR=ga(String.prototype.indexOf),mR=ga(String.prototype.trim),qc=ga(Object.prototype.hasOwnProperty),ha=ga(RegExp.prototype.test),lh=hR(TypeError);function ga(e){return function(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),s=1;s<n;s++)o[s-1]=arguments[s];return Hb(e,t,o)}}function hR(e){return function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return Rb(e,n)}}function lo(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:D1;ES&&ES(e,null);let o=t.length;for(;o--;){let s=t[o];if(typeof s=="string"){const r=n(s);r!==s&&(aR(t)||(t[o]=r),s=r)}e[s]=!0}return e}function gR(e){for(let t=0;t<e.length;t++)qc(e,t)||(e[t]=null);return e}function Ru(e){const t=MS(null);for(const[n,o]of AS(e))qc(e,n)&&(Array.isArray(o)?t[n]=gR(o):o&&typeof o=="object"&&o.constructor===Object?t[n]=Ru(o):t[n]=o);return t}function uh(e,t){for(;e!==null;){const o=iR(e,t);if(o){if(o.get)return ga(o.get);if(typeof o.value=="function")return ga(o.value)}e=cR(e)}function n(){return null}return n}const FS=ma(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Pb=ma(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Bb=ma(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),pR=ma(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Nb=ma(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),fR=ma(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),IS=ma(["#text"]),$S=ma(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Vb=ma(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),HS=ma(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),F1=ma(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),bR=Tc(/\{\{[\w\W]*|[\w\W]*\}\}/gm),vR=Tc(/<%[\w\W]*|[\w\W]*%>/gm),yR=Tc(/\$\{[\w\W]*/gm),xR=Tc(/^data-[\-\w.\u00B7-\uFFFF]+$/),wR=Tc(/^aria-[\-\w]+$/),RS=Tc(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),SR=Tc(/^(?:\w+script|data):/i),CR=Tc(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),LS=Tc(/^html$/i),TR=Tc(/^[a-z][.\w]*(-[.\w]+)+$/i);var PS=Object.freeze({__proto__:null,ARIA_ATTR:wR,ATTR_WHITESPACE:CR,CUSTOM_ELEMENT:TR,DATA_ATTR:xR,DOCTYPE_NAME:LS,ERB_EXPR:vR,IS_ALLOWED_URI:RS,IS_SCRIPT_OR_DATA:SR,MUSTACHE_EXPR:bR,TMPLIT_EXPR:yR});const dh={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},kR=function(){return typeof window>"u"?null:window},OR=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let o=null;const s="data-tt-policy-suffix";n&&n.hasAttribute(s)&&(o=n.getAttribute(s));const r="dompurify"+(o?"#"+o:"");try{return t.createPolicy(r,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+r+" could not be created."),null}},BS=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function NS(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:kR();const t=wn=>NS(wn);if(t.version="3.2.4",t.removed=[],!e||!e.document||e.document.nodeType!==dh.document||!e.Element)return t.isSupported=!1,t;let{document:n}=e;const o=n,s=o.currentScript,{DocumentFragment:r,HTMLTemplateElement:a,Node:c,Element:i,NodeFilter:d,NamedNodeMap:g=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:f,DOMParser:y,trustedTypes:T}=e,_=i.prototype,L=uh(_,"cloneNode"),z=uh(_,"remove"),R=uh(_,"nextSibling"),W=uh(_,"childNodes"),G=uh(_,"parentNode");if(typeof a=="function"){const wn=n.createElement("template");wn.content&&wn.content.ownerDocument&&(n=wn.content.ownerDocument)}let oe,ae="";const{implementation:ze,createNodeIterator:Ke,createDocumentFragment:Y,getElementsByTagName:qe}=n,{importNode:vt}=o;let ct=BS();t.isSupported=typeof AS=="function"&&typeof G=="function"&&ze&&ze.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:nn,ERB_EXPR:$t,TMPLIT_EXPR:Bt,DATA_ATTR:at,ARIA_ATTR:be,IS_SCRIPT_OR_DATA:Pe,ATTR_WHITESPACE:Et,CUSTOM_ELEMENT:Wt}=PS;let{IS_ALLOWED_URI:ft}=PS,Zt=null;const Yn=lo({},[...FS,...Pb,...Bb,...Nb,...IS]);let jn=null;const kr=lo({},[...$S,...Vb,...HS,...F1]);let Oo=Object.seal(MS(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Yr=null,Os=null,Xr=!0,Jr=!0,Ha=!1,Ku=!0,Ec=!1,Fh=!0,tl=!1,Ih=!1,_v=!1,om=!1,yp=!1,xp=!1,O8=!0,A8=!1;const Nq="user-content-";let Dv=!0,$h=!1,sm={},rm=null;const E8=lo({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let M8=null;const _8=lo({},["audio","video","img","source","image","track"]);let Fv=null;const D8=lo({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),wp="http://www.w3.org/1998/Math/MathML",Sp="http://www.w3.org/2000/svg",nl="http://www.w3.org/1999/xhtml";let am=nl,Iv=!1,$v=null;const Vq=lo({},[wp,Sp,nl],Lb);let Cp=lo({},["mi","mo","mn","ms","mtext"]),Tp=lo({},["annotation-xml"]);const zq=lo({},["title","style","font","a","script"]);let Hh=null;const Zq=["application/xhtml+xml","text/html"],Uq="text/html";let Or=null,cm=null;const Wq=n.createElement("form"),F8=function(se){return se instanceof RegExp||se instanceof Function},Hv=function(){let se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(cm&&cm===se)){if((!se||typeof se!="object")&&(se={}),se=Ru(se),Hh=Zq.indexOf(se.PARSER_MEDIA_TYPE)===-1?Uq:se.PARSER_MEDIA_TYPE,Or=Hh==="application/xhtml+xml"?Lb:D1,Zt=qc(se,"ALLOWED_TAGS")?lo({},se.ALLOWED_TAGS,Or):Yn,jn=qc(se,"ALLOWED_ATTR")?lo({},se.ALLOWED_ATTR,Or):kr,$v=qc(se,"ALLOWED_NAMESPACES")?lo({},se.ALLOWED_NAMESPACES,Lb):Vq,Fv=qc(se,"ADD_URI_SAFE_ATTR")?lo(Ru(D8),se.ADD_URI_SAFE_ATTR,Or):D8,M8=qc(se,"ADD_DATA_URI_TAGS")?lo(Ru(_8),se.ADD_DATA_URI_TAGS,Or):_8,rm=qc(se,"FORBID_CONTENTS")?lo({},se.FORBID_CONTENTS,Or):E8,Yr=qc(se,"FORBID_TAGS")?lo({},se.FORBID_TAGS,Or):{},Os=qc(se,"FORBID_ATTR")?lo({},se.FORBID_ATTR,Or):{},sm=qc(se,"USE_PROFILES")?se.USE_PROFILES:!1,Xr=se.ALLOW_ARIA_ATTR!==!1,Jr=se.ALLOW_DATA_ATTR!==!1,Ha=se.ALLOW_UNKNOWN_PROTOCOLS||!1,Ku=se.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Ec=se.SAFE_FOR_TEMPLATES||!1,Fh=se.SAFE_FOR_XML!==!1,tl=se.WHOLE_DOCUMENT||!1,om=se.RETURN_DOM||!1,yp=se.RETURN_DOM_FRAGMENT||!1,xp=se.RETURN_TRUSTED_TYPE||!1,_v=se.FORCE_BODY||!1,O8=se.SANITIZE_DOM!==!1,A8=se.SANITIZE_NAMED_PROPS||!1,Dv=se.KEEP_CONTENT!==!1,$h=se.IN_PLACE||!1,ft=se.ALLOWED_URI_REGEXP||RS,am=se.NAMESPACE||nl,Cp=se.MATHML_TEXT_INTEGRATION_POINTS||Cp,Tp=se.HTML_INTEGRATION_POINTS||Tp,Oo=se.CUSTOM_ELEMENT_HANDLING||{},se.CUSTOM_ELEMENT_HANDLING&&F8(se.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Oo.tagNameCheck=se.CUSTOM_ELEMENT_HANDLING.tagNameCheck),se.CUSTOM_ELEMENT_HANDLING&&F8(se.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Oo.attributeNameCheck=se.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),se.CUSTOM_ELEMENT_HANDLING&&typeof se.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Oo.allowCustomizedBuiltInElements=se.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ec&&(Jr=!1),yp&&(om=!0),sm&&(Zt=lo({},IS),jn=[],sm.html===!0&&(lo(Zt,FS),lo(jn,$S)),sm.svg===!0&&(lo(Zt,Pb),lo(jn,Vb),lo(jn,F1)),sm.svgFilters===!0&&(lo(Zt,Bb),lo(jn,Vb),lo(jn,F1)),sm.mathMl===!0&&(lo(Zt,Nb),lo(jn,HS),lo(jn,F1))),se.ADD_TAGS&&(Zt===Yn&&(Zt=Ru(Zt)),lo(Zt,se.ADD_TAGS,Or)),se.ADD_ATTR&&(jn===kr&&(jn=Ru(jn)),lo(jn,se.ADD_ATTR,Or)),se.ADD_URI_SAFE_ATTR&&lo(Fv,se.ADD_URI_SAFE_ATTR,Or),se.FORBID_CONTENTS&&(rm===E8&&(rm=Ru(rm)),lo(rm,se.FORBID_CONTENTS,Or)),Dv&&(Zt["#text"]=!0),tl&&lo(Zt,["html","head","body"]),Zt.table&&(lo(Zt,["tbody"]),delete Yr.tbody),se.TRUSTED_TYPES_POLICY){if(typeof se.TRUSTED_TYPES_POLICY.createHTML!="function")throw lh('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof se.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw lh('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');oe=se.TRUSTED_TYPES_POLICY,ae=oe.createHTML("")}else oe===void 0&&(oe=OR(T,s)),oe!==null&&typeof ae=="string"&&(ae=oe.createHTML(""));ma&&ma(se),cm=se}},I8=lo({},[...Pb,...Bb,...pR]),$8=lo({},[...Nb,...fR]),jq=function(se){let yt=G(se);(!yt||!yt.tagName)&&(yt={namespaceURI:am,tagName:"template"});const an=D1(se.tagName),hs=D1(yt.tagName);return $v[se.namespaceURI]?se.namespaceURI===Sp?yt.namespaceURI===nl?an==="svg":yt.namespaceURI===wp?an==="svg"&&(hs==="annotation-xml"||Cp[hs]):!!I8[an]:se.namespaceURI===wp?yt.namespaceURI===nl?an==="math":yt.namespaceURI===Sp?an==="math"&&Tp[hs]:!!$8[an]:se.namespaceURI===nl?yt.namespaceURI===Sp&&!Tp[hs]||yt.namespaceURI===wp&&!Cp[hs]?!1:!$8[an]&&(zq[an]||!I8[an]):!!(Hh==="application/xhtml+xml"&&$v[se.namespaceURI]):!1},ki=function(se){ch(t.removed,{element:se});try{G(se).removeChild(se)}catch{z(se)}},Rh=function(se,yt){try{ch(t.removed,{attribute:yt.getAttributeNode(se),from:yt})}catch{ch(t.removed,{attribute:null,from:yt})}if(yt.removeAttribute(se),se==="is")if(om||yp)try{ki(yt)}catch{}else try{yt.setAttribute(se,"")}catch{}},H8=function(se){let yt=null,an=null;if(_v)se="<remove></remove>"+se;else{const Ar=DS(se,/^[\r\n\t ]+/);an=Ar&&Ar[0]}Hh==="application/xhtml+xml"&&am===nl&&(se='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+se+"</body></html>");const hs=oe?oe.createHTML(se):se;if(am===nl)try{yt=new y().parseFromString(hs,Hh)}catch{}if(!yt||!yt.documentElement){yt=ze.createDocument(am,"template",null);try{yt.documentElement.innerHTML=Iv?ae:hs}catch{}}const Qr=yt.body||yt.documentElement;return se&&an&&Qr.insertBefore(n.createTextNode(an),Qr.childNodes[0]||null),am===nl?qe.call(yt,tl?"html":"body")[0]:tl?yt.documentElement:Qr},R8=function(se){return Ke.call(se.ownerDocument||se,se,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT|d.SHOW_PROCESSING_INSTRUCTION|d.SHOW_CDATA_SECTION,null)},Rv=function(se){return se instanceof f&&(typeof se.nodeName!="string"||typeof se.textContent!="string"||typeof se.removeChild!="function"||!(se.attributes instanceof g)||typeof se.removeAttribute!="function"||typeof se.setAttribute!="function"||typeof se.namespaceURI!="string"||typeof se.insertBefore!="function"||typeof se.hasChildNodes!="function")},L8=function(se){return typeof c=="function"&&se instanceof c};function ol(wn,se,yt){_1(wn,an=>{an.call(t,se,yt,cm)})}const P8=function(se){let yt=null;if(ol(ct.beforeSanitizeElements,se,null),Rv(se))return ki(se),!0;const an=Or(se.nodeName);if(ol(ct.uponSanitizeElement,se,{tagName:an,allowedTags:Zt}),se.hasChildNodes()&&!L8(se.firstElementChild)&&ha(/<[/\w]/g,se.innerHTML)&&ha(/<[/\w]/g,se.textContent)||se.nodeType===dh.progressingInstruction||Fh&&se.nodeType===dh.comment&&ha(/<[/\w]/g,se.data))return ki(se),!0;if(!Zt[an]||Yr[an]){if(!Yr[an]&&N8(an)&&(Oo.tagNameCheck instanceof RegExp&&ha(Oo.tagNameCheck,an)||Oo.tagNameCheck instanceof Function&&Oo.tagNameCheck(an)))return!1;if(Dv&&!rm[an]){const hs=G(se)||se.parentNode,Qr=W(se)||se.childNodes;if(Qr&&hs){const Ar=Qr.length;for(let Ra=Ar-1;Ra>=0;--Ra){const Oi=L(Qr[Ra],!0);Oi.__removalCount=(se.__removalCount||0)+1,hs.insertBefore(Oi,R(se))}}}return ki(se),!0}return se instanceof i&&!jq(se)||(an==="noscript"||an==="noembed"||an==="noframes")&&ha(/<\/no(script|embed|frames)/i,se.innerHTML)?(ki(se),!0):(Ec&&se.nodeType===dh.text&&(yt=se.textContent,_1([nn,$t,Bt],hs=>{yt=ih(yt,hs," ")}),se.textContent!==yt&&(ch(t.removed,{element:se.cloneNode()}),se.textContent=yt)),ol(ct.afterSanitizeElements,se,null),!1)},B8=function(se,yt,an){if(O8&&(yt==="id"||yt==="name")&&(an in n||an in Wq))return!1;if(!(Jr&&!Os[yt]&&ha(at,yt))){if(!(Xr&&ha(be,yt))){if(!jn[yt]||Os[yt]){if(!(N8(se)&&(Oo.tagNameCheck instanceof RegExp&&ha(Oo.tagNameCheck,se)||Oo.tagNameCheck instanceof Function&&Oo.tagNameCheck(se))&&(Oo.attributeNameCheck instanceof RegExp&&ha(Oo.attributeNameCheck,yt)||Oo.attributeNameCheck instanceof Function&&Oo.attributeNameCheck(yt))||yt==="is"&&Oo.allowCustomizedBuiltInElements&&(Oo.tagNameCheck instanceof RegExp&&ha(Oo.tagNameCheck,an)||Oo.tagNameCheck instanceof Function&&Oo.tagNameCheck(an))))return!1}else if(!Fv[yt]){if(!ha(ft,ih(an,Et,""))){if(!((yt==="src"||yt==="xlink:href"||yt==="href")&&se!=="script"&&dR(an,"data:")===0&&M8[se])){if(!(Ha&&!ha(Pe,ih(an,Et,"")))){if(an)return!1}}}}}}return!0},N8=function(se){return se!=="annotation-xml"&&DS(se,Wt)},V8=function(se){ol(ct.beforeSanitizeAttributes,se,null);const{attributes:yt}=se;if(!yt||Rv(se))return;const an={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:jn,forceKeepAttr:void 0};let hs=yt.length;for(;hs--;){const Qr=yt[hs],{name:Ar,namespaceURI:Ra,value:Oi}=Qr,Lh=Or(Ar);let Br=Ar==="value"?Oi:mR(Oi);const qq=Br;if(an.attrName=Lh,an.attrValue=Br,an.keepAttr=!0,an.forceKeepAttr=void 0,ol(ct.uponSanitizeAttribute,se,an),Br=an.attrValue,A8&&(Lh==="id"||Lh==="name")&&(Rh(Ar,se),Br=Nq+Br),Fh&&ha(/((--!?|])>)|<\/(style|title)/i,Br)){Rh(Ar,se);continue}if(an.forceKeepAttr)continue;if(!an.keepAttr){Rh(Ar,se);continue}if(!Ku&&ha(/\/>/i,Br)){Rh(Ar,se);continue}Ec&&_1([nn,$t,Bt],Z8=>{Br=ih(Br,Z8," ")});const z8=Or(se.nodeName);if(!B8(z8,Lh,Br)){Rh(Ar,se);continue}if(oe&&typeof T=="object"&&typeof T.getAttributeType=="function"&&!Ra)switch(T.getAttributeType(z8,Lh)){case"TrustedHTML":{Br=oe.createHTML(Br);break}case"TrustedScriptURL":{Br=oe.createScriptURL(Br);break}}if(Br!==qq)try{Ra?se.setAttributeNS(Ra,Ar,Br):se.setAttribute(Ar,Br),Rv(se)?ki(se):_S(t.removed)}catch{}}ol(ct.afterSanitizeAttributes,se,null)},Gq=function wn(se){let yt=null;const an=R8(se);for(ol(ct.beforeSanitizeShadowDOM,se,null);yt=an.nextNode();)ol(ct.uponSanitizeShadowNode,yt,null),P8(yt),V8(yt),yt.content instanceof r&&wn(yt.content);ol(ct.afterSanitizeShadowDOM,se,null)};return t.sanitize=function(wn){let se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},yt=null,an=null,hs=null,Qr=null;if(Iv=!wn,Iv&&(wn="<!-->"),typeof wn!="string"&&!L8(wn))if(typeof wn.toString=="function"){if(wn=wn.toString(),typeof wn!="string")throw lh("dirty is not a string, aborting")}else throw lh("toString is not a function");if(!t.isSupported)return wn;if(Ih||Hv(se),t.removed=[],typeof wn=="string"&&($h=!1),$h){if(wn.nodeName){const Oi=Or(wn.nodeName);if(!Zt[Oi]||Yr[Oi])throw lh("root node is forbidden and cannot be sanitized in-place")}}else if(wn instanceof c)yt=H8("<!---->"),an=yt.ownerDocument.importNode(wn,!0),an.nodeType===dh.element&&an.nodeName==="BODY"||an.nodeName==="HTML"?yt=an:yt.appendChild(an);else{if(!om&&!Ec&&!tl&&wn.indexOf("<")===-1)return oe&&xp?oe.createHTML(wn):wn;if(yt=H8(wn),!yt)return om?null:xp?ae:""}yt&&_v&&ki(yt.firstChild);const Ar=R8($h?wn:yt);for(;hs=Ar.nextNode();)P8(hs),V8(hs),hs.content instanceof r&&Gq(hs.content);if($h)return wn;if(om){if(yp)for(Qr=Y.call(yt.ownerDocument);yt.firstChild;)Qr.appendChild(yt.firstChild);else Qr=yt;return(jn.shadowroot||jn.shadowrootmode)&&(Qr=vt.call(o,Qr,!0)),Qr}let Ra=tl?yt.outerHTML:yt.innerHTML;return tl&&Zt["!doctype"]&&yt.ownerDocument&&yt.ownerDocument.doctype&&yt.ownerDocument.doctype.name&&ha(LS,yt.ownerDocument.doctype.name)&&(Ra="<!DOCTYPE "+yt.ownerDocument.doctype.name+`>
`+Ra),Ec&&_1([nn,$t,Bt],Oi=>{Ra=ih(Ra,Oi," ")}),oe&&xp?oe.createHTML(Ra):Ra},t.setConfig=function(){let wn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Hv(wn),Ih=!0},t.clearConfig=function(){cm=null,Ih=!1},t.isValidAttribute=function(wn,se,yt){cm||Hv({});const an=Or(wn),hs=Or(se);return B8(an,hs,yt)},t.addHook=function(wn,se){typeof se=="function"&&ch(ct[wn],se)},t.removeHook=function(wn,se){if(se!==void 0){const yt=lR(ct[wn],se);return yt===-1?void 0:uR(ct[wn],yt,1)[0]}return _S(ct[wn])},t.removeHooks=function(wn){ct[wn]=[]},t.removeAllHooks=function(){ct=BS()},t}var AR=NS();const VS=e=>AR().sanitize(e);var Ja=tinymce.util.Tools.resolve("tinymce.util.I18n");const ER={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-disc":!0,"list-bull-default":!0,"list-bull-square":!0},zS="temporary-placeholder",zb=e=>()=>lt(e,zS).getOr("!not found!"),Zb=(e,t)=>{const n=e.toLowerCase();if(Ja.isRtl()){const o=ba(n,"-rtl");return Nt(t,o)?o:n}else return n},ZS=(e,t)=>lt(t,Zb(e,t)),US=(e,t)=>{const n=t();return ZS(e,n).getOrThunk(zb(n))},MR=(e,t,n)=>{const o=t();return ZS(e,o).or(n).getOrThunk(zb(o))},_R=e=>Ja.isRtl()?Nt(ER,e):!1,WS=()=>Pt("add-focusable",[vo(e=>{Cm(e.element,"svg").each(t=>Lt(t,"focusable","false"))})]),jS=(e,t,n,o)=>{var s,r;const a=_R(t)?["tox-icon--flip"]:[],c=lt(n,Zb(t,n)).or(o).getOrThunk(zb(n));return{dom:{tag:e.tag,attributes:(s=e.attributes)!==null&&s!==void 0?s:{},classes:e.classes.concat(a),innerHtml:c},behaviours:Fe([...(r=e.behaviours)!==null&&r!==void 0?r:[],WS()])}},$a=(e,t,n,o=h.none())=>jS(t,e,n(),o),DR=(e,t,n)=>{const o=n(),s=ve(e,r=>Nt(o,Zb(r,o)));return jS(t,s.getOr(zS),o,h.none())},FR={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},Ub=Fa({name:"Notification",factory:e=>{const t=O("notification-text"),n=Vn({dom:Gi(`<p id=${t}>${VS(e.backstageProvider.translate(e.text))}</p>`),behaviours:Fe([zt.config({})])}),o=_=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${_}%`}}}),s=_=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${_}%`}}),r=Vn({dom:{tag:"div",classes:e.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[o(0)]},s(0)],behaviours:Fe([zt.config({})])}),i={updateProgress:(_,L)=>{_.getSystem().isConnected()&&r.getOpt(_).each(z=>{zt.set(z,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[o(L)]},s(L)])})},updateText:(_,L)=>{if(_.getSystem().isConnected()){const z=n.get(_);zt.set(z,[To(L)])}}},d=je([e.icon.toArray(),[e.level],h.from(FR[e.level]).toArray()]),g=Vn(Bs.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":e.backstageProvider.translate("Close")}},components:[$a("close",{tag:"span",classes:["tox-icon"]},e.iconProvider)],buttonBehaviours:Fe([co.config({}),ko.config({...e.backstageProvider.tooltips.getConfig({tooltipText:e.backstageProvider.translate("Close")})})]),action:_=>{e.onAction(_)}})),f=DR(d,{tag:"div",classes:["tox-notification__icon"]},e.iconProvider),y={dom:{tag:"div",classes:["tox-notification__body"]},components:[n.asSpec()],behaviours:Fe([zt.config({})])},T=[f,y];return{uid:e.uid,dom:{tag:"div",attributes:{role:"alert","aria-labelledby":t},classes:["tox-notification","tox-notification--in",`tox-notification--${e.level}`]},behaviours:Fe([co.config({}),It.config({}),pt.config({mode:"special",onEscape:_=>(e.onAction(_),h.some(!0))})]),components:T.concat(e.progress?[r.asSpec()]:[]).concat([g.asSpec()]),apis:i}},configFields:[Bc("level","info",["success","error","warning","warn","info"]),ye("progress"),Zn("icon"),ye("onAction"),ye("text"),ye("iconProvider"),ye("backstageProvider")],apis:{updateProgress:(e,t,n)=>{e.updateProgress(t,n)},updateText:(e,t,n)=>{e.updateText(t,n)}}});var IR=(e,t,n,o)=>{const s=t.backstage.shared,r=()=>Be.fromDom(e.queryCommandValue("ToggleView")===""?e.getContentAreaContainer():e.getContainer()),a=()=>{const f=Rs(r());return h.some(f)},c=f=>{a().each(y=>{_e(f,T=>{Ne(T.element,"width"),yr(T.element)>y.width&&Vt(T.element,"width",y.width+"px")})})};return{open:(f,y,T)=>{const _=()=>{const G=Ke=>{zt.remove(Ke,z),R()},oe=(Ke,Y)=>{Ws(Ke.element).length===0?ae(Ke,Y):ze(Ke,Y)},ae=(Ke,Y)=>{Io.hide(Ke),o.clear(),Y&&e.focus()},ze=(Ke,Y)=>{Y&&pt.focusIn(Ke)};o.on(Ke=>{y();const Y=T();G(Ke),oe(Ke,Y)})},L=()=>!Zd(e)||!s.header.isPositionedAtTop(),z=hr(Ub.sketch({text:f.text,level:Ee(["success","error","warning","warn","info"],f.type)?f.type:void 0,progress:f.progressBar===!0,icon:f.icon,onAction:_,iconProvider:s.providers.icons,backstageProvider:s.providers}));if(o.isSet()){const G=Da(z);o.on(oe=>{zt.append(oe,G),Io.reposition(oe),z.hasConfigured(Do)&&Do.refresh(oe),c(oe.components())})}else{const G=hr(Io.sketch({dom:{tag:"div",classes:["tox-notifications-container"],attributes:{"aria-label":"Notifications",role:"region"}},lazySink:s.getSink,fireDismissalEventInstead:{},...s.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Fe([pt.config({mode:"cyclic",selector:".tox-notification, .tox-notification a, .tox-notification button"}),zt.config({}),...L()?[Do.config({contextual:{lazyContext:()=>h.some(Rs(r())),fadeInClass:"tox-notification-container-dock-fadein",fadeOutClass:"tox-notification-container-dock-fadeout",transitionClass:"tox-notification-container-dock-transition"},modes:["top"],lazyViewport:Ke=>$l(e,Ke.element).map(qe=>({bounds:Hu(qe),optScrollEnv:h.some({currentScrollTop:qe.element.dom.scrollTop,scrollElmTop:Hr(qe.element).top})})).getOrThunk(()=>({bounds:Sr(),optScrollEnv:h.none()}))})]:[]])})),oe=Da(z),ae={maxHeightFunction:Ad()},ze={...s.anchors.banner(),overrides:ae};o.set(G),n.add(G),Io.showWithinBounds(G,oe,{anchor:ze},a)}Rt(f.timeout)&&f.timeout>0&&T1.setEditorTimeout(e,()=>{_()},f.timeout);const R=()=>{o.on(G=>{Io.reposition(G),G.hasConfigured(Do)&&Do.refresh(G),c(G.components())})};return{close:_,reposition:R,text:G=>{Ub.updateText(z,G)},settings:f,getEl:()=>z.element.dom,progressBar:{value:G=>{Ub.updateProgress(z,G)}}}},close:f=>{f.close()},getArgs:f=>f.settings}};const $R={setup:(e,t)=>{const n=(s,r)=>{Ct(s,Nc(),{raw:r})},o=()=>e.getMenu().bind(Un.getHighlighted);t.on("keydown",s=>{const r=s.which;e.isActive()&&(e.isMenuOpen()?r===13?(o().each(xu),s.preventDefault()):r===40?(o().fold(()=>{e.getMenu().each(Un.highlightFirst)},a=>{n(a,s)}),s.preventDefault(),s.stopImmediatePropagation()):(r===37||r===38||r===39)&&o().each(a=>{n(a,s),s.preventDefault(),s.stopImmediatePropagation()}):(r===13||r===38||r===40)&&e.cancelIfNecessary())}),t.on("NodeChange",()=>{e.isActive()&&!e.isProcessingAction()&&!t.queryCommandState("mceAutoCompleterInRange")&&e.cancelIfNecessary()})}};var Wb;(function(e){e[e.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",e[e.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(Wb||(Wb={}));var kc=Wb;const jb="tox-menu-nav__js",I1="tox-collection__item",Gb="tox-swatch",HR={normal:jb,color:Gb},qb="tox-collection__item--enabled",RR="tox-collection__group-heading",GS="tox-collection__item-icon",LR="tox-collection__item-image",PR="tox-collection__item-image-selector",Kb="tox-collection__item-label",BR="tox-collection__item-accessory",qS="tox-collection__item-caret",NR="tox-collection__item-checkmark",Lu="tox-collection__item--active",KS="tox-collection__item-container",VR="tox-collection__item-container--column",YS="tox-collection__item-container--row",zR="tox-collection__item-container--align-right",ZR="tox-collection__item-container--align-left",UR="tox-collection__item-container--valign-top",WR="tox-collection__item-container--valign-middle",jR="tox-collection__item-container--valign-bottom",XS=e=>lt(HR,e).getOr(jb),GR=e=>e==="color"?"tox-swatches":"tox-menu",Yb=e=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:GR(e),tieredMenu:"tox-tiered-menu"}),Hl=e=>{const t=Yb(e);return{backgroundMenu:t.backgroundMenu,selectedMenu:t.selectedMenu,menu:t.menu,selectedItem:t.selectedItem,item:XS(e)}},qR=(e,t,n)=>{const o=Yb(n);return{tag:"div",classes:je([[o.menu,`tox-menu-${t}-column`],e?[o.hasIcons]:[]])}},KR=[Ki.parts.items({})],$1=(e,t,n)=>{const o=Yb(n);return{dom:{tag:"div",classes:je([[o.tieredMenu]])},markers:Hl(n)}},JS=O("refetch-trigger-event"),QS=O("redirect-menu-item-interaction"),eC="tox-menu__searcher",H1=e=>Qn(e.element,`.${eC}`).bind(t=>e.getSystem().getByDom(t).toOptional()),tC=H1,YR=(e,t)=>{Ye.setValue(e,t.fetchPattern),e.element.dom.selectionStart=t.selectionStart,e.element.dom.selectionEnd=t.selectionEnd},nC=e=>{const t=Ye.getValue(e),n=e.element.dom.selectionStart,o=e.element.dom.selectionEnd;return{fetchPattern:t,selectionStart:n,selectionEnd:o}},XR=(e,t)=>{es(t.element,"id").each(n=>Lt(e.element,"aria-activedescendant",n))},JR=e=>{const t=(s,r)=>(r.cut(),h.none()),n=(s,r)=>{const a={interactionEvent:r.event,eventType:r.event.raw.type};return Ct(s,QS,a),h.some(!0)},o="searcher-events";return{dom:{tag:"div",classes:[I1]},components:[Yi.sketch({inputClasses:[eC,"tox-textfield"],inputAttributes:{...e.placeholder.map(s=>({placeholder:e.i18n(s)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:Fe([Pt(o,[le(Ni(),s=>{Cn(s,JS)}),le(Nc(),(s,r)=>{r.event.raw.key==="Escape"&&r.stop()})]),pt.config({mode:"special",onLeft:t,onRight:t,onSpace:t,onEnter:n,onEscape:n,onUp:n,onDown:n})]),eventOrder:{keydown:[o,pt.name()]}})]}},R1="tox-collection--results__js",oC=e=>{var t;return e.dom?{...e,dom:{...e.dom,attributes:{...(t=e.dom.attributes)!==null&&t!==void 0?t:{},id:O("aria-item-search-result-id"),"aria-selected":"false"}}}:e},L1=(e,t)=>n=>{const o=et(n,t);return re(o,s=>({dom:e,components:s}))},QR=e=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Ki.parts.items({preprocess:e!=="auto"?L1({tag:"div",classes:["tox-swatches__row"]},e):Ve})]}]}),eL=e=>({dom:{tag:"div",classes:["tox-menu","tox-image-selector-menu"]},components:[{dom:{tag:"div",classes:["tox-image-selector"]},components:[Ki.parts.items({preprocess:e!=="auto"?L1({tag:"div",classes:["tox-image-selector__row"]},e):Ve})]}]}),tL=e=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Ki.parts.items({preprocess:L1({tag:"div",classes:["tox-collection__group"]},e)})]}),sC=(e,t)=>{const n=[];let o=[];return _e(e,(s,r)=>{t(s,r)?(o.length>0&&n.push(o),o=[],(Nt(s.dom,"innerHtml")||s.components&&s.components.length>0)&&o.push(s)):o.push(s)}),o.length>0&&n.push(o),re(n,s=>({dom:{tag:"div",classes:["tox-collection__group"]},components:s}))},Xb=(e,t,n)=>Ki.parts.items({preprocess:o=>{const s=re(o,n);return e!=="auto"&&e>1?L1({tag:"div",classes:["tox-collection__group"]},e)(s):sC(s,(r,a)=>t[a].type==="separator")}}),rC=(e,t,n=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(e===1?["tox-collection--list"]:["tox-collection--grid"])},components:[Xb(e,t,Ve)]}),nL=(e,t,n=!0)=>{const o=O("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",R1].concat(e===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:o}},components:[Xb(e,t,oC)]}},oL=(e,t,n)=>{const o=O("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(e===1?["tox-collection--list"]:["tox-collection--grid"])},components:[JR({i18n:Ja.translate,placeholder:n.placeholder}),{dom:{tag:"div",classes:[...e===1?["tox-collection--list"]:["tox-collection--grid"],R1],attributes:{id:o}},components:[Xb(e,t,oC)]}]}},sL=(e,t=!0)=>({dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Ki.parts.items({preprocess:n=>sC(n,(o,s)=>e[s].type==="separator")})]}),mh=e=>Dt(e,t=>"icon"in t&&t.icon!==void 0),Kc=e=>(console.error(Cd(e)),console.log(e),h.none()),rL=(e,t,n,o,s)=>{const r=sL(n);return{value:e,dom:r.dom,components:r.components,items:n}},Jb=(e,t,n,o,s)=>{const r=()=>s.menuType!=="searchable"?rC(o,n):s.searchMode.searchMode==="search-with-field"?oL(o,n,s.searchMode):nL(o,n);if(s.menuType==="color"){const a=QR(o);return{value:e,dom:a.dom,components:a.components,items:n}}else if(s.menuType==="imageselector"&&o!=="auto"){const a=eL(o);return{value:e,dom:a.dom,components:a.components,items:n}}else if(s.menuType==="normal"&&o==="auto"){const a=rC(o,n);return{value:e,dom:a.dom,components:a.components,items:n}}else if(s.menuType==="normal"||s.menuType==="searchable"){const a=r();return{value:e,dom:a.dom,components:a.components,items:n}}else if(s.menuType==="listpreview"&&o!=="auto"){const a=tL(o);return{value:e,dom:a.dom,components:a.components,items:n}}else return{value:e,dom:qR(t,o,s.menuType),components:KR,items:n}},Uo=xs("type"),Qb=xs("name"),P1=xs("label"),Ji=xs("text"),aC=xs("title"),e2=xs("icon"),aL=xs("url"),Ud=xs("value"),cL=hc("fetch"),iL=hc("getSubmenuItems"),Wd=hc("onAction"),lL=hc("onItemAction"),Pu=bo("onSetup",()=>ce),uL=ns("name"),Rl=ns("text"),dL=ns("role"),Qa=ns("icon"),Bu=ns("tooltip"),hh=ns("label"),t2=ns("shortcut"),mL=Pi("select"),jd=dr("active",!1),hL=dr("borderless",!1),Oc=dr("enabled",!0),B1=dr("primary",!1),cC=e=>ee("columns",e),n2=ee("meta",{}),o2=bo("onAction",ce),Nu=e=>zo("type",e),s2=e=>Gs("name","name",ig(()=>O(`${e}-name`)),ys),gL=e=>Gs("value","value",ig(()=>O(`${e}-value`)),uc()),pL=[Uo,Ji,mc("level",["info","warn","error","success"]),e2,ee("url","")],fL=Ht(pL),bL=e=>[Uo,e],vL=[Uo,Ji,Oc,s2("button"),Qa,hL,py("buttonType",["primary","secondary","toolbar"]),B1,zo("context","mode:design")],yL=Ht(vL),Gd=[Uo,Qb],Yc=Gd.concat([hh]),xL=Gd.concat([P1,Oc,zo("context","mode:design")]),wL=Ht(xL),SL=cg,CL=Yc.concat([cC("auto"),zo("context","mode:design")]),TL=Ht(CL),kL=dg([Ud,Ji,e2]),OL=Yc.concat([zo("storageKey","default"),zo("context","mode:design")]),AL=Ht(OL),EL=ys,ML=Ht(Yc),_L=ys,DL=Gd.concat([zo("tag","textarea"),xs("scriptId"),xs("scriptUrl"),Pi("onFocus"),cO("settings",void 0)]),FL=Gd.concat([zo("tag","textarea"),hc("init")]),IL=Mm(e=>Vo("customeditor.old",Oa(FL),e).orThunk(()=>Vo("customeditor.new",Oa(DL),e))),$L=ys,Ll=[Oc,Rl,dL,t2,gL("menuitem"),n2,zo("context","mode:design")],HL=Ht([Uo,Qb].concat(Ll)),RL=cg,r2=[s2("button"),Qa,Bc("align","end",["start","end"]),B1,Oc,py("buttonType",["primary","secondary"]),zo("context","mode:design")],iC=[...r2,Ji],a2=[mc("type",["submit","cancel","custom"]),...iC],LL=[mc("type",["menu"]),Rl,Bu,Qa,aa("items",HL),...r2],PL=[...r2,mc("type",["togglebutton"]),Bu,Qa,Rl,dr("active",!1)],BL=Gr("type",{submit:a2,cancel:a2,custom:a2,menu:LL,togglebutton:PL}),NL=Yc.concat([zo("context","mode:design")]),VL=Ht(NL),zL=oO(),ZL=e=>[Uo,hy("columns"),e],UL=[Uo,xs("html"),Bc("presets","presentation",["presentation","document"]),bo("onInit",ce),dr("stretched",!1)],WL=Ht(UL),jL=Yc.concat([dr("border",!1),dr("sandboxed",!0),dr("streamContent",!1),dr("transparent",!0)]),GL=Ht(jL),qL=ys,KL=Ht(Gd.concat([ns("height")])),YL=Ht([xs("url"),_m("zoom"),_m("cachedWidth"),_m("cachedHeight")]),XL=Yc.concat([ns("inputMode"),ns("placeholder"),dr("maximized",!1),Oc,zo("context","mode:design")]),JL=Ht(XL),QL=ys,eP=e=>[Uo,P1,e,Bc("align","start",["start","center","end"]),ns("for")],tP=[Ji,Ud],nP=[Ji,aa("items",my("items",()=>lC))],lC=ug([Ht(tP),Ht(nP)]),oP=Yc.concat([aa("items",lC),Oc,zo("context","mode:design")]),sP=Ht(oP),rP=ys,aP=Yc.concat([gy("items",[Ji,Ud]),ff("size",1),Oc,zo("context","mode:design")]),cP=Ht(aP),iP=ys,lP=Yc.concat([dr("constrain",!0),Oc,zo("context","mode:design")]),uP=Ht(lP),uC=Ht([xs("width"),xs("height")]),dP=Gd.concat([P1,ff("min",0),ff("max",0)]),mP=Ht(dP),hP=ag,gP=[Uo,aa("header",ys),aa("cells",vl(ys))],pP=Ht(gP),fP=Yc.concat([ns("placeholder"),dr("maximized",!1),Oc,zo("context","mode:design")]),bP=Ht(fP),vP=ys,yP=[zo("buttonType","default"),ns("text"),ns("tooltip"),ns("icon"),Ka("search",!1,ug([cg,Ht([ns("placeholder")])],e=>Re(e)?e?h.some({placeholder:h.none()}):h.none():h.some(e))),hc("fetch"),bo("onSetup",()=>ce),zo("context","mode:design")],dC=Ht([Uo,...yP]),mC=e=>Vo("menubutton",dC,e),hC=[mc("type",["directory","leaf"]),aC,xs("id"),fi("menu",dC),ns("customStateIcon"),ns("customStateIconTooltip")],gC=Ht(hC),xP=hC.concat([aa("children",my("children",()=>Sd("type",{directory:pC,leaf:gC})))]),pC=Ht(xP),wP=Sd("type",{directory:pC,leaf:gC}),SP=[Uo,aa("items",wP),Pi("onLeafAction"),Pi("onToggleExpand"),yl("defaultExpandedIds",[],ys),ns("defaultSelectedId")],CP=Ht(SP),TP=Yc.concat([Bc("filetype","file",["image","media","file"]),Oc,ns("picker_text"),zo("context","mode:design")]),kP=Ht(TP),OP=Ht([Ud,n2]),c2=e=>Gs("items","items",Pc(),vl(Mm(t=>Vo(`Checking item of ${e}`,i2,t).fold(n=>Ot.error(Cd(n)),n=>Ot.value(n))))),i2=uy(()=>Sd("type",{alertbanner:fL,bar:Ht(bL(c2("bar"))),button:yL,checkbox:wL,colorinput:AL,colorpicker:ML,dropzone:VL,grid:Ht(ZL(c2("grid"))),iframe:GL,input:JL,listbox:sP,selectbox:cP,sizeinput:uP,slider:mP,textarea:bP,urlinput:kP,customeditor:IL,htmlpanel:WL,imagepreview:KL,collection:TL,label:Ht(eP(c2("label"))),table:pP,tree:CP,panel:fC})),AP=[Uo,ee("classes",[]),aa("items",i2)],fC=Ht(AP),EP=[s2("tab"),aC,aa("items",i2)],MP=[Uo,gy("tabs",EP)],_P=Ht(MP),DP=iC,FP=BL,IP=Ht([xs("title"),Aa("body",Sd("type",{panel:fC,tabpanel:_P})),zo("size","normal"),yl("buttons",[],FP),ee("initialData",{}),bo("onAction",ce),bo("onChange",ce),bo("onSubmit",ce),bo("onClose",ce),bo("onCancel",ce),bo("onTabChange",ce)]),$P=e=>Vo("dialog",IP,e),HP=Ht([mc("type",["cancel","custom"]),...DP]),RP=Ht([xs("title"),xs("url"),_m("height"),_m("width"),fy("buttons",HP),bo("onAction",ce),bo("onCancel",ce),bo("onClose",ce),bo("onMessage",ce)]),LP=e=>Vo("dialog",RP,e),l2=e=>De(e)?[e].concat(Tt(wo(e),l2)):$e(e)?Tt(e,l2):[],PP=e=>X(e.type)&&X(e.name),BP={checkbox:SL,colorinput:EL,colorpicker:_L,dropzone:zL,input:QL,iframe:qL,imagepreview:YL,selectbox:iP,sizeinput:uC,slider:hP,listbox:rP,size:uC,textarea:vP,urlinput:OP,customeditor:$L,collection:kL,togglemenuitem:RL},NP=e=>h.from(BP[e.type]),VP=e=>jt(l2(e),PP),zP=e=>{const t=VP(e),n=Tt(t,o=>NP(o).fold(()=>[],s=>[Aa(o.name,s)]));return Ht(n)},bC=e=>{var t;const n=dc($P(e)),o=zP(e),s=(t=e.initialData)!==null&&t!==void 0?t:{};return{internalDialog:n,dataValidator:o,initialData:s}},Vu={open:(e,t)=>{const n=bC(t);return e(n.internalDialog,n.initialData,n.dataValidator)},openUrl:(e,t)=>{const n=dc(LP(t));return e(n)},redial:e=>bC(e)},vC=Ht([Uo,Rl]),ZP=e=>Vo("separatormenuitem",vC,e),UP=Ht([Nu("autocompleteitem"),jd,Oc,n2,Ud,Rl,Qa]),WP=e=>Vo("Autocompleter.Separator",vC,e),jP=e=>Vo("Autocompleter.Item",UP,e),qd=[Oc,Bu,Qa,Rl,Pu,zo("context","mode:design")],GP=Ht([Uo,Wd,t2].concat(qd)),u2=e=>Vo("toolbarbutton",GP,e),d2=[jd].concat(qd),qP=Ht(d2.concat([Uo,Wd,t2])),yC=e=>Vo("ToggleButton",qP,e),N1=[bo("predicate",ue),Bc("scope","node",["node","editor"]),Bc("position","selection",["node","selection","line"])],KP=qd.concat([Nu("contextformbutton"),zo("align","end"),B1,Wd,Lr("original",Ve)]),YP=d2.concat([Nu("contextformbutton"),zo("align","end"),B1,Wd,Lr("original",Ve)]),XP=qd.concat([Nu("contextformbutton")]),JP=d2.concat([Nu("contextformtogglebutton")]),QP=Gr("type",{contextformbutton:KP,contextformtogglebutton:YP}),m2=[hh,aa("commands",QP),fi("launch",Gr("type",{contextformbutton:XP,contextformtogglebutton:JP})),bo("onInput",ce),bo("onSetup",ce)],eB=[...N1,...m2,mc("type",["contextform"]),bo("initValue",A("")),ns("placeholder")],tB=[...N1,...m2,mc("type",["contextsliderform"]),bo("initValue",A(0)),bo("min",A(0)),bo("max",A(100))],nB=[...N1,...m2,mc("type",["contextsizeinputform"]),bo("initValue",A({width:"",height:""}))],oB=Gr("type",{contextform:eB,contextsliderform:tB,contextsizeinputform:nB}),sB=e=>Vo("ContextForm",oB,e),rB=qd.concat([Nu("contexttoolbarbutton")]),aB=Ht([Nu("contexttoolbar"),ca("launch",rB),Aa("items",ug([ys,dg([ns("name"),ns("label"),aa("items",ys)])]))].concat(N1)),cB=e=>({name:e.name.getOrUndefined(),label:e.label.getOrUndefined(),items:e.items}),iB=e=>({...e,launch:e.launch.getOrUndefined(),items:X(e.items)?e.items:re(e.items,cB)}),lB=e=>Vo("ContextToolbar",aB,e),uB=[Uo,xs("src"),ns("alt"),yl("classes",[],ys)],dB=Ht(uB),mB=[Uo,Ji,uL,yl("classes",["tox-collection__item-label"],ys)],hB=Ht(mB),xC=uy(()=>Sd("type",{cardimage:dB,cardtext:hB,cardcontainer:gB})),gB=Ht([Uo,zo("direction","horizontal"),zo("align","left"),zo("valign","middle"),aa("items",xC)]),pB=Ht([Uo,hh,aa("items",xC),Pu,o2].concat(Ll)),fB=e=>Vo("cardmenuitem",pB,e),bB=Ht([Uo,jd,Qa,hh].concat(Ll)),vB=e=>Vo("choicemenuitem",bB,e),h2=[Uo,xs("fancytype"),o2],yB=[ee("initData",{})].concat(h2),xB=[Pi("select"),bf("initData",{},[dr("allowCustomColors",!0),zo("storageKey","default"),fy("colors",uc())])].concat(h2),wB=[Pi("select"),Li("initData",[hy("columns"),yl("items",[],uc())])].concat(h2),SB=Gr("fancytype",{inserttable:yB,colorswatch:xB,imageselect:wB}),CB=e=>Vo("fancymenuitem",SB,e),TB=Ht([Uo,jd,aL,hh,Bu].concat(Ll)),kB=Ht([Uo,jd,e2,P1,Bu,Ud].concat(Ll)),OB=e=>Vo("imagemenuitem",TB,e),AB=e=>Vo("resetimageitem",kB,e),EB=Ht([Uo,Pu,o2,Qa].concat(Ll)),MB=e=>Vo("menuitem",EB,e),_B=Ht([Uo,iL,Pu,Qa].concat(Ll)),DB=e=>Vo("nestedmenuitem",_B,e),FB=Ht([Uo,Qa,jd,Pu,Wd].concat(Ll)),IB=e=>Vo("togglemenuitem",FB,e),$B=Ht([Qa,Bu,bo("onShow",ce),bo("onHide",ce),Pu]),HB=e=>Vo("sidebar",$B,e),RB=Ht([Uo,Aa("items",ug([dg([Qb,aa("items",ys)]),ys]))].concat(qd)),LB=e=>Vo("GroupToolbarButton",RB,e),PB=Ht([Uo,Bu,Qa,Rl,mL,cL,Pu,Bc("presets","normal",["normal","color","listpreview"]),cC(1),Wd,lL,zo("context","mode:design")]),BB=e=>Vo("SplitButton",PB,e),wC=[Rl,Qa,ns("tooltip"),Bc("buttonType","secondary",["primary","secondary"]),dr("borderless",!1),hc("onAction"),zo("context","mode:design")],NB=[...wC,Ji,mc("type",["button"])],VB=[...wC,dr("active",!1),mc("type",["togglebutton"])],SC={button:NB,togglebutton:VB},zB=[mc("type",["group"]),yl("buttons",[],Gr("type",SC))],ZB=Gr("type",{...SC,group:zB}),UB=Ht([yl("buttons",[],ZB),hc("onShow"),hc("onHide")]),WB=e=>Vo("view",UB,e),g2=(e,t,n)=>{const o=js(e.element,"."+n);if(o.length>0){const s=we(o,r=>{const a=r.dom.getBoundingClientRect().top,c=o[0].dom.getBoundingClientRect().top;return Math.abs(a-c)>t}).getOr(o.length);return h.some({numColumns:s,numRows:Math.ceil(o.length/s)})}else return h.none()},CC=(e,t)=>Fe([Pt(e,t)]),gh={namedEvents:CC,unnamedEvents:e=>CC(O("unnamed-events"),e)},ec={item:e=>gt.config({disabled:e,disableClass:"tox-collection__item--state-disabled"}),button:e=>gt.config({disabled:e}),splitButton:e=>gt.config({disabled:e,disableClass:"tox-tbtn--disabled"}),toolbarButton:e=>gt.config({disabled:e,disableClass:"tox-tbtn--disabled",useNative:!1})},ph=(e,t)=>{const n=e.getApi(t);return o=>{o(n)}},Xc=(e,t)=>vo(n=>{Se(e.onBeforeSetup)&&e.onBeforeSetup(n),ph(e,n)(s=>{const r=e.onSetup(s);Se(r)&&t.set(r)})}),Pl=(e,t)=>Zc(n=>ph(e,n)(t.get())),p2=(e,t,n)=>Zc(o=>(n.set(Ye.getValue(o)),ph(e,o)(t.get()))),TC="silver.uistate",fh="setDisabled",jB="setEnabled",kC="init",GB=["switchmode",kC],bh=(e,t)=>{const n=e.mainUi.outerContainer,o=[e.mainUi.mothership,...e.uiMotherships];t===fh&&_e(o,s=>{s.broadcastOn([qi()],{target:n.element})}),_e(o,s=>{s.broadcastOn([TC],t)})},OC=(e,t)=>{e.on("init SwitchMode",n=>{bh(t,n.type)}),e.on("DisabledStateChange",n=>{if(!n.isDefaultPrevented()){const o=n.state?fh:kC;bh(t,o),n.state||e.nodeChanged()}}),e.on("NodeChange",n=>{const o=e.ui.isEnabled()?n.type:fh;bh(t,o)}),Gw(e)&&e.mode.set("readonly")},qo=e=>ua.config({channels:{[TC]:{onReceive:(t,n)=>{if(n===fh||n===jB){gt.set(t,n===fh);return}const{contextType:o,shouldDisable:s}=e();o==="mode"&&!Ee(GB,n)||gt.set(t,s)}}}}),qB=(e,t)=>zi((n,o)=>{ph(e,n)(e.onAction),!e.triggersSubmenu&&t===kc.CLOSE_ON_EXECUTE&&(n.getSystem().isConnected()&&Cn(n,gg()),o.stop())}),KB={[Ma()]:["disabling","alloy.base.behaviour","toggling","item-events"]},Kd=Ut,zu=(e,t,n,o)=>{const s=ot(ce);return{type:"item",dom:t.dom,components:Kd(t.optComponents),data:e.data,eventOrder:KB,hasSubmenu:e.triggersSubmenu,itemBehaviours:Fe([Pt("item-events",[qB(e,n),Xc(e,s),Pl(e,s)]),ec.item(()=>!e.enabled||o.checkUiComponentContext(e.context).shouldDisable),qo(()=>o.checkUiComponentContext(e.context)),zt.config({})].concat(e.itemBehaviours))}},Zu=e=>({value:e.value,meta:{text:e.text.getOr(""),...e.meta}}),YB=(e,t)=>{var n,o;const s=Be.fromTag("div");Ro(s,"tox-image-selector-loading-spinner");const r=c=>{Ro(c,"tox-image-selector-loading-spinner-wrapper"),lr(c,s)},a=c=>{Lo(c,"tox-image-selector-loading-spinner-wrapper"),Ur(s)};return{dom:{tag:e.tag,attributes:(n=e.attributes)!==null&&n!==void 0?n:{},classes:e.classes},components:[{dom:{tag:"div",classes:["tox-image-selector-image-wrapper"]},components:[{dom:{tag:"img",attributes:{src:t},classes:["tox-image-selector-image-img"]}}]},...e.checkMark.toArray()],behaviours:Fe([...(o=e.behaviours)!==null&&o!==void 0?o:[],Pt("render-image-events",[vo(c=>{r(c.element),Qn(c.element,"img").each(i=>{hl(i).catch(d=>{console.error(d)}).finally(()=>{a(c.element)})})})])])}},XB=(e,t)=>YB(t,e),f2=e=>{const t=Nd.os.isMacOS()||Nd.os.isiOS(),s=t?{alt:"⌥",ctrl:"⌃",shift:"⇧",meta:"⌘",access:"⌃⌥"}:{meta:"Ctrl",access:"Shift+Alt"},r=e.split("+"),a=re(r,c=>{const i=c.toLowerCase().trim();return Nt(s,i)?s[i]:c});return t?a.join(""):a.join("+")},b2=(e,t,n=[GS])=>$a(e,{tag:"div",classes:n},t),AC=e=>({dom:{tag:"div",classes:[Kb]},components:[To(Ja.translate(e))]}),EC=(e,t)=>({dom:{tag:"div",classes:t,innerHtml:e}}),JB=(e,t)=>({dom:{tag:"div",classes:[Kb]},components:[{dom:{tag:e.tag,styles:e.styles},components:[To(Ja.translate(t))]}]}),QB=e=>({dom:{tag:"div",classes:[BR]},components:[To(f2(e))]}),v2=e=>b2("checkmark",e,[NR]),eN=e=>b2("chevron-right",e,[qS]),tN=e=>b2("chevron-down",e,[qS]),nN=(e,t)=>{const n=e.direction==="vertical"?VR:YS,o=e.align==="left"?ZR:zR;return{dom:{tag:"div",classes:[KS,n,o,(()=>{switch(e.valign){case"top":return UR;case"middle":return WR;case"bottom":return jR}})()]},components:t}},oN=(e,t,n)=>({dom:{tag:"img",classes:t,attributes:{src:e,alt:n.getOr("")}}}),sN=(e,t,n)=>{const o="custom",s="remove",r=e.value,a=e.iconContent.map(d=>MR(d,t.icons,n)),c=e.ariaLabel.map(d=>({"aria-label":t.translate(d),"data-mce-name":d})).getOr({});return{dom:(()=>{const d=Gb,g=a.getOr(""),f={tag:"div",attributes:c,classes:[d]};return r===o?{...f,tag:"button",classes:[...f.classes,"tox-swatches__picker-btn"],innerHtml:g}:r===s?{...f,classes:[...f.classes,"tox-swatch--remove"],innerHtml:g}:Xe(r)?{...f,attributes:{...f.attributes,"data-mce-color":r},styles:{"background-color":r},innerHtml:g}:f})(),optComponents:[]}},y2=(e,t)=>{const n=e.map(o=>({attributes:{id:O("menu-item"),"aria-label":Ja.translate(o)}})).getOr({});return{tag:"div",classes:[jb,I1].concat(t),...n}},MC=e=>({dom:{tag:"label"},components:[To(e)]}),rN=(e,t,n,o)=>{const s={tag:"div",classes:[GS]},r=y=>$a(y,s,t.icons,o),a=()=>h.some({dom:s}),c=n?e.iconContent.map(r).orThunk(a):h.none(),i=e.checkMark,d=h.from(e.meta).fold(()=>AC,y=>Nt(y,"style")?cn(JB,y.style):AC),g=e.htmlContent.fold(()=>e.textContent.map(d),y=>h.some(EC(y,[Kb])));return{dom:y2(e.ariaLabel,[]),optComponents:[c,g,e.shortcutContent.map(QB),i,e.caret,e.labelContent.map(MC)]}},aN=e=>({dom:y2(e.ariaLabel,[PR]),optComponents:[h.some(XB(e.iconContent.getOrDie(),{tag:"div",classes:[LR],checkMark:e.checkMark})),e.labelContent.map(MC)]}),Yd=(e,t,n,o=h.none())=>e.presets==="color"?sN(e,t,o):e.presets==="img"?aN(e):rN(e,t,n,o),_C=(e,t,n)=>lt(e,"tooltipWorker").map(o=>[ko.config({lazySink:t.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:s=>({type:"submenu",item:s,overrides:{maxHeightFunction:Ad}}),mode:"follow-highlight",onShow:(s,r)=>{o(a=>{ko.setComponents(s,[mx({element:Be.fromDom(a)})])})}})]).getOrThunk(()=>n.map(o=>[ko.config({...t.providers.tooltips.getConfig({tooltipText:o}),mode:"follow-highlight"})]).getOr([])),cN=e=>oh.DOM.encode(e),DC=(e,t)=>{const n=Ja.translate(e),o=cN(n);if(t.length>0){const s=new RegExp(ta(t),"gi");return o.replace(s,r=>`<span class="tox-autocompleter-highlight">${r}</span>`)}else return o},iN=(e,t,n,o,s,r,a,c=!0)=>{const i=Yd({presets:o,textContent:h.none(),htmlContent:n?e.text.map(g=>DC(g,t)):h.none(),ariaLabel:e.text,labelContent:h.none(),iconContent:e.icon,shortcutContent:h.none(),checkMark:h.none(),caret:h.none(),value:e.value},a.providers,c,e.icon),d=e.text.filter(g=>!n&&g!=="");return zu({context:"mode:design",data:Zu(e),enabled:e.enabled,getApi:A({}),onAction:g=>s(e.value,e.meta),onSetup:A(ce),triggersSubmenu:!1,itemBehaviours:_C(e,a,d)},i,r,a.providers)},FC=(e,t)=>re(e,n=>{switch(n.type){case"cardcontainer":return nN(n,FC(n.items,t));case"cardimage":return oN(n.src,n.classes,n.alt);case"cardtext":const s=n.name.exists(r=>Ee(t.cardText.highlightOn,r))?h.from(t.cardText.matchText).getOr(""):"";return EC(DC(n.text,s),n.classes)}}),lN=(e,t,n,o)=>{const s=a=>({isEnabled:()=>!gt.isDisabled(a),setEnabled:c=>{gt.set(a,!c),_e(js(a.element,"*"),i=>{a.getSystem().getByDom(i).each(d=>{d.hasConfigured(gt)&&gt.set(d,!c)})})}}),r={dom:y2(e.label,[]),optComponents:[h.some({dom:{tag:"div",classes:[KS,YS]},components:FC(e.items,o)})]};return zu({context:"mode:design",data:Zu({text:h.none(),...e}),enabled:e.enabled,getApi:s,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:h.from(o.itemBehaviours).getOr([])},r,t,n.providers)},IC=(e,t,n,o,s,r,a,c=!0)=>{const i=f=>({setActive:y=>{tn.set(f,y)},isActive:()=>tn.isOn(f),isEnabled:()=>!gt.isDisabled(f),setEnabled:y=>gt.set(f,!y)}),d=Yd({presets:n,textContent:t?e.text:h.none(),htmlContent:h.none(),labelContent:e.label,ariaLabel:e.text,iconContent:e.icon,shortcutContent:t?e.shortcut:h.none(),checkMark:t?h.some(v2(a.icons)):h.none(),caret:h.none(),value:e.value},a,c),g=e.text.filter(A(!t)).map(f=>ko.config(a.tooltips.getConfig({tooltipText:a.translate(f)})));return ke(zu({context:e.context,data:Zu(e),enabled:e.enabled,getApi:i,onAction:f=>o(e.value),onSetup:f=>(f.setActive(s),ce),triggersSubmenu:!1,itemBehaviours:[...g.toArray()]},d,r,a),{toggling:{toggleClass:qb,toggleOnExecute:!1,selected:e.active,exclusive:!0}})},$C=e=>({value:PC(e)}),HC=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,RC=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,LC=e=>HC.test(e)||RC.test(e),PC=e=>Ms(e,"#").toUpperCase(),uN=e=>LC(e)?h.some({value:PC(e)}):h.none(),dN=e=>({value:e.value.replace(HC,(n,o,s,r)=>o+o+s+s+r+r)}),mN=e=>{const t=dN(e),n=RC.exec(t.value);return n===null?["FFFFFF","FF","FF","FF"]:n},x2=e=>{const t=e.toString(16);return(t.length===1?"0"+t:t).toUpperCase()},vh=e=>{const t=x2(e.red)+x2(e.green)+x2(e.blue);return $C(t)},yh=(e,t,n)=>({hue:e,saturation:t,value:n}),w2=e=>{let t=0,n=0,o=0;const s=e.red/255,r=e.green/255,a=e.blue/255,c=Math.min(s,Math.min(r,a)),i=Math.max(s,Math.max(r,a));if(c===i)return o=c,yh(0,0,o*100);const d=s===c?r-a:a===c?s-r:a-s;return t=s===c?3:a===c?1:5,t=60*(t-d/(i-c)),n=(i-c)/i,o=i,yh(Math.round(t),Math.round(n*100),Math.round(o*100))},BC=Math.min,NC=Math.max,V1=Math.round,hN=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,gN=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,Uu=(e,t,n,o)=>({red:e,green:t,blue:n,alpha:o}),S2=e=>{const t=parseInt(e,10);return t.toString()===e&&t>=0&&t<=255},VC=e=>{let t,n,o;const s=(e.hue||0)%360;let r=e.saturation/100,a=e.value/100;if(r=NC(0,BC(r,1)),a=NC(0,BC(a,1)),r===0)return t=n=o=V1(255*a),Uu(t,n,o,1);const c=s/60,i=a*r,d=i*(1-Math.abs(c%2-1)),g=a-i;switch(Math.floor(c)){case 0:t=i,n=d,o=0;break;case 1:t=d,n=i,o=0;break;case 2:t=0,n=i,o=d;break;case 3:t=0,n=d,o=i;break;case 4:t=d,n=0,o=i;break;case 5:t=i,n=0,o=d;break;default:t=n=o=0}return t=V1(255*(t+g)),n=V1(255*(n+g)),o=V1(255*(o+g)),Uu(t,n,o,1)},xh=e=>{const t=mN(e),n=parseInt(t[1],16),o=parseInt(t[2],16),s=parseInt(t[3],16);return Uu(n,o,s,1)},zC=(e,t,n,o)=>{const s=parseInt(e,10),r=parseInt(t,10),a=parseInt(n,10),c=parseFloat(o);return Uu(s,r,a,c)},C2=e=>{const t=hN.exec(e);if(t!==null)return h.some(zC(t[1],t[2],t[3],"1"));const n=gN.exec(e);return n!==null?h.some(zC(n[1],n[2],n[3],n[4])):h.none()},ZC=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,UC=Uu(255,0,0,1),pN=e=>w2(xh(e)),WC=e=>vh(VC(e)),fN=e=>uN(e).orThunk(()=>C2(e).map(vh)).getOrThunk(()=>{const t=document.createElement("canvas");t.height=1,t.width=1;const n=t.getContext("2d");n.clearRect(0,0,t.width,t.height),n.fillStyle="#FFFFFF",n.fillStyle=e,n.fillRect(0,0,1,1);const o=n.getImageData(0,0,1,1).data,s=o[0],r=o[1],a=o[2],c=o[3];return vh(Uu(s,r,a,c))}),bN=e=>{e.dispatch("SkinLoaded")},vN=(e,t)=>{e.dispatch("SkinLoadError",t)},yN=e=>{e.dispatch("ResizeEditor")},T2=(e,t)=>{e.dispatch("ResizeContent",t)},xN=(e,t)=>{e.dispatch("ScrollContent",t)},jC=(e,t)=>{e.dispatch("TextColorChange",t)},wN=(e,t)=>{e.dispatch("AfterProgressState",{state:t})},SN=(e,t)=>e.dispatch("ResolveName",{name:t.nodeName.toLowerCase(),target:t}),CN=(e,t)=>{e.dispatch("ToggleToolbarDrawer",{state:t})},TN=(e,t)=>{e.dispatch("StylesTextUpdate",t)},kN=(e,t)=>{e.dispatch("AlignTextUpdate",t)},ON=(e,t)=>{e.dispatch("FontSizeTextUpdate",t)},AN=(e,t)=>{e.dispatch("FontSizeInputTextUpdate",t)},EN=(e,t)=>{e.dispatch("BlocksTextUpdate",t)},MN=(e,t)=>{e.dispatch("FontFamilyTextUpdate",t)},_N=e=>{e.dispatch("ToggleSidebar")},DN=e=>{e.dispatch("ToggleView")},GC=e=>{e.dispatch("ContextToolbarClose")},FN=e=>{e.dispatch("ContextFormSlideBack")},z1=(e,t)=>()=>{e(),t()},Tr=(e,t=st)=>Wu(e,"NodeChange",n=>{n.setEnabled(e.selection.isEditable()&&t())}),IN=(e,t)=>n=>{const o=Vs(),s=()=>{n.setActive(e.formatter.match(t));const r=e.formatter.formatChanged(t,n.setActive);o.set(r)};return e.initialized?s():e.once("init",s),()=>{e.off("init",s),o.clear()}},Z1=(e,t)=>n=>{const o=Tr(e)(n),s=IN(e,t)(n);return()=>{o(),s()}},Wu=(e,t,n)=>o=>{const s=()=>n(o),r=()=>{n(o),e.on(t,s)};return e.initialized?r():e.once("init",r),()=>{e.off("init",r),e.off(t,s)}},qC=e=>t=>()=>{e.undoManager.transact(()=>{e.focus(),e.execCommand("mceToggleFormat",!1,t.format)})},pa=(e,t)=>()=>e.execCommand(t);var ju=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const KC={},$N=(e,t=10)=>{const n=ju.getItem(e),o=X(n)?JSON.parse(n):[],r=(d=>t-d.length<0?d.slice(0,t):d)(o),a=d=>{Ge(r,d).each(c),r.unshift(d),r.length>t&&r.pop(),ju.setItem(e,JSON.stringify(r))},c=d=>{r.splice(d,1)};return{add:a,state:()=>r.slice(0)}},YC=e=>lt(KC,e).getOrThunk(()=>{const t=`tinymce-custom-colors-${e}`,n=ju.getItem(t);if(Je(n)){const s=ju.getItem("tinymce-custom-colors");ju.setItem(t,Xe(s)?s:"[]")}const o=$N(t,10);return KC[e]=o,o}),HN=e=>re(YC(e).state(),t=>({type:"choiceitem",text:t,icon:"checkmark",value:t})),XC=(e,t)=>{YC(e).add(t)},k2="forecolor",O2="hilitecolor",RN=5,LN=e=>JC(e.map((t,n)=>n%2===0?"#"+fN(t).value:t)),JC=e=>{const t=[];for(let n=0;n<e.length;n+=2)t.push({text:e[n+1],value:e[n],icon:"checkmark",type:"choiceitem"});return t},Jc=e=>t=>t.options.get(e),A2="#000000",PN=e=>{const t=e.options.register,n=r=>Oe(r,X)?{value:LN(r),valid:!0}:{valid:!1,message:"Must be an array of strings."},o=r=>Oe(r,X)?{value:JC(r),valid:!0}:{valid:!1,message:"Must be an array of strings."},s=r=>Rt(r)&&r>0?{value:r,valid:!0}:{valid:!1,message:"Must be a positive number."};t("color_map",{processor:n,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),t("color_map_raw",{processor:o}),t("color_map_background",{processor:n}),t("color_map_foreground",{processor:n}),t("color_cols",{processor:s,default:E2(e)}),t("color_cols_foreground",{processor:s,default:QC(e,k2)}),t("color_cols_background",{processor:s,default:QC(e,O2)}),t("custom_colors",{processor:"boolean",default:!0}),t("color_default_foreground",{processor:"string",default:A2}),t("color_default_background",{processor:"string",default:A2})},U1=(e,t)=>t===k2&&e.options.isSet("color_map_foreground")?Jc("color_map_foreground")(e):t===O2&&e.options.isSet("color_map_background")?Jc("color_map_background")(e):e.options.isSet("color_map_raw")?Jc("color_map_raw")(e):Jc("color_map")(e),E2=(e,t="default")=>Math.max(RN,Math.ceil(Math.sqrt(U1(e,t).length))),QC=(e,t)=>{const n=Jc("color_cols")(e),o=E2(e,t);return n===E2(e)?o:n},e5=(e,t="default")=>Math.round((()=>t===k2?Jc("color_cols_foreground")(e):t===O2?Jc("color_cols_background")(e):Jc("color_cols")(e))()),t5=Jc("custom_colors"),BN=Jc("color_default_foreground"),NN=Jc("color_default_background"),VN="rgba(0, 0, 0, 0)",zN=e=>C2(e).exists(t=>t.alpha!==0),ZN=e=>fd(e,t=>{if(br(t)){const n=p(t,"background-color");return Ao(zN(n),n)}else return h.none()}).getOr(VN),n5=(e,t)=>{const n=Be.fromDom(e.selection.getStart()),o=t==="hilitecolor"?ZN(n):p(n,"color");return C2(o).map(s=>"#"+vh(s).value)},UN=(e,t,n)=>{e.undoManager.transact(()=>{e.focus(),e.formatter.apply(t,{value:n}),e.nodeChanged()})},WN=(e,t)=>{e.undoManager.transact(()=>{e.focus(),e.formatter.remove(t,{value:null},void 0,!0),e.nodeChanged()})},jN=e=>{e.addCommand("mceApplyTextcolor",(t,n)=>{UN(e,t,n)}),e.addCommand("mceRemoveTextcolor",t=>{WN(e,t)})},o5=e=>{const t="choiceitem",n={type:t,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return e?[n,{type:t,text:"Custom color",icon:"color-picker",value:"custom"}]:[n]},M2=(e,t,n,o)=>{n==="custom"?l5(e)(r=>{r.each(a=>{XC(t,a),e.execCommand("mceApplyTextcolor",t,a),o(a)})},n5(e,t).getOr(A2)):n==="remove"?(o(""),e.execCommand("mceRemoveTextcolor",t)):(o(n),e.execCommand("mceApplyTextcolor",t,n))},_2=(e,t,n)=>e.concat(HN(t).concat(o5(n))),s5=(e,t,n)=>o=>{o(_2(e,t,n))},D2=(e,t,n)=>{const o=t==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";e.setIconFill(o,n)},r5=(e,t)=>{e.setTooltip(t)},a5=(e,t)=>n=>{const o=n5(e,t);return dt(o,n.toUpperCase())},F2=(e,t,n)=>{if(fr(n))return t==="forecolor"?"Text color":"Background color";const o=t==="forecolor"?"Text color {0}":"Background color {0}",s=_2(U1(e,t),t,!1),r=ve(s,a=>a.value===n).getOr({text:""}).text;return e.translate([o,e.translate(r)])},c5=(e,t,n,o)=>{e.ui.registry.addSplitButton(t,{tooltip:F2(e,n,o.get()),presets:"color",icon:t==="forecolor"?"text-color":"highlight-bg-color",select:a5(e,n),columns:e5(e,n),fetch:s5(U1(e,n),n,t5(e)),onAction:s=>{M2(e,n,o.get(),ce)},onItemAction:(s,r)=>{M2(e,n,r,a=>{o.set(a),jC(e,{name:t,color:a})})},onSetup:s=>{D2(s,t,o.get());const r=a=>{a.name===t&&(D2(s,a.name,a.color),r5(s,F2(e,n,a.color)))};return e.on("TextColorChange",r),z1(Tr(e)(s),()=>{e.off("TextColorChange",r)})}})},i5=(e,t,n,o,s)=>{e.ui.registry.addNestedMenuItem(t,{text:o,icon:t==="forecolor"?"text-color":"highlight-bg-color",onSetup:r=>(r5(r,F2(e,n,s.get())),D2(r,t,s.get()),Tr(e)(r)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:a5(e,n),initData:{storageKey:n},onAction:r=>{M2(e,n,r.value,a=>{s.set(a),jC(e,{name:t,color:a})})}}]})},l5=e=>(t,n)=>{let o=!1;const s=c=>{const d=c.getData().colorpicker;o?(t(h.from(d)),c.close()):e.windowManager.alert(e.translate(["Invalid hex color code: {0}",d]))},r=(c,i)=>{i.name==="hex-valid"&&(o=i.value)},a={colorpicker:n};e.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:a,onAction:r,onSubmit:s,onClose:ce,onCancel:()=>{t(h.none())}})},GN=e=>{jN(e);const t=BN(e),n=NN(e),o=ot(t),s=ot(n);c5(e,"forecolor","forecolor",o),c5(e,"backcolor","hilitecolor",s),i5(e,"forecolor","forecolor","Text color",o),i5(e,"backcolor","hilitecolor","Background color",s)},qN=(e,t,n,o,s)=>{const r=i=>({setActive:d=>{tn.set(i,d)},isActive:()=>tn.isOn(i),isEnabled:()=>!gt.isDisabled(i),setEnabled:d=>gt.set(i,!d)}),a=Yd({presets:"img",textContent:h.none(),htmlContent:h.none(),ariaLabel:e.tooltip,iconContent:h.some(e.url),labelContent:e.label,shortcutContent:h.none(),checkMark:h.some(v2(s.icons)),caret:h.none(),value:e.value},s,!0),c=e.tooltip.map(i=>ko.config(s.tooltips.getConfig({tooltipText:s.translate(i)})));return ke(zu({context:e.context,data:Zu(e),enabled:e.enabled,getApi:r,onAction:i=>{t(e.value),i.setActive(!0)},onSetup:i=>(i.setActive(n),ce),triggersSubmenu:!1,itemBehaviours:[...c.toArray()]},a,o,s),{toggling:{toggleClass:qb,toggleOnExecute:!1,selected:e.active,exclusive:!0}})},W1=(e,t,n,o,s,r,a,c)=>{const i=mh(t),g=KN(t,n,o,s!=="color"?"normal":"color",r,a,c);return Jb(e,i,g,o,{menuType:s})},KN=(e,t,n,o,s,r,a)=>Ut(re(e,c=>c.type==="choiceitem"?vB(c).fold(Kc,i=>h.some(IC(i,n===1,o,t,r(i.value),s,a,mh(e)))):c.type==="imageitem"?OB(c).fold(Kc,i=>h.some(qN(i,t,r(i.value),s,a))):c.type==="resetimage"?AB(c).fold(Kc,i=>h.some(IC({...i,type:"choiceitem",text:i.tooltip,icon:h.some(i.icon),label:h.some(i.label)},n===1,o,t,r(i.value),s,a,mh(e)))):h.none())),wh=(e,t)=>{const n=Hl(t);return e===1?{mode:"menu",moveOnTab:!0}:e==="auto"?{mode:"grid",selector:"."+n.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+{color:"tox-swatches__row",imageselector:"tox-image-selector__row",listpreview:"tox-collection__group",normal:"tox-collection__group"}[t],previousSelector:s=>t==="color"?Qn(s.element,"[aria-checked=true]"):h.none()}},YN=(e,t)=>e===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:e==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:t==="color"?".tox-swatches__row":".tox-collection__group",cell:t==="color"?`.${Gb}`:`.${I1}`}},XN=(e,t)=>{const n=JN(e,t),o=t.colorinput.getColorCols(e.initData.storageKey),s="color",a={...W1(O("menu-value"),n,c=>{e.onAction({value:c})},o,s,kc.CLOSE_ON_EXECUTE,e.select.getOr(ue),t.shared.providers),markers:Hl(s),movement:wh(o,s),showMenuRole:!1};return{type:"widget",data:{value:O("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[rb.widget(Ki.sketch(a))]}},JN=(e,t)=>{const n=e.initData.allowCustomColors&&t.colorinput.hasCustomColors();return e.initData.colors.fold(()=>_2(t.colorinput.getColors(e.initData.storageKey),e.initData.storageKey,n),o=>o.concat(o5(n)))},QN=(e,t)=>{const n="imageselector",o=e.initData.columns,r={...W1(O("menu-value"),e.initData.items,a=>{e.onAction({value:a})},o,n,kc.CLOSE_ON_EXECUTE,e.select.getOr(ue),t.shared.providers),markers:Hl(n),movement:wh(o,n),showMenuRole:!1};return{type:"widget",data:{value:O("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem","tox-collection--toolbar"]},autofocus:!0,components:[rb.widget(Ki.sketch(r))]}},u5=O("cell-over"),d5=O("cell-execute"),eV=e=>(t,n)=>e.shared.providers.translate(["{0} columns, {1} rows",n,t]),tV=(e,t,n)=>{const o=a=>Ct(a,u5,{row:e,col:t}),s=a=>Ct(a,d5,{row:e,col:t}),r=(a,c)=>{c.stop(),s(a)};return hr({dom:{tag:"div",attributes:{role:"button","aria-label":n}},behaviours:Fe([Pt("insert-table-picker-cell",[le(bi(),It.focus),le(Ma(),s),le(pu(),r),le(Hm(),r)]),tn.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),It.config({onFocus:o})])})},nV=(e,t,n)=>{const o=[];for(let s=0;s<t;s++){const r=[];for(let a=0;a<n;a++){const c=e(s+1,a+1);r.push(tV(s,a,c))}o.push(r)}return o},oV=(e,t,n,o,s)=>{for(let r=0;r<o;r++)for(let a=0;a<s;a++)tn.set(e[r][a],r<=t&&a<=n)},sV=e=>Tt(e,t=>re(t,Da)),m5=(e,t)=>To(`${t}x${e}`),rV={inserttable:(e,t)=>{const s=eV(t),r=nV(s,10,10),a=m5(0,0),c=Vn({dom:{tag:"span",classes:["tox-insert-table-picker__label"]},components:[a],behaviours:Fe([zt.config({})])});return{type:"widget",data:{value:O("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[rb.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:sV(r).concat(c.asSpec()),behaviours:Fe([Pt("insert-table-picker",[vo(i=>{zt.set(c.get(i),[a])}),c0(u5,(i,d,g)=>{const{row:f,col:y}=g.event;oV(r,f,y,10,10),zt.set(c.get(i),[m5(f+1,y+1)])}),c0(d5,(i,d,g)=>{const{row:f,col:y}=g.event;Cn(i,gg()),e.onAction({numRows:f+1,numColumns:y+1})})]),pt.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:XN,imageselect:QN},aV=(e,t)=>lt(rV,e.fancytype).map(n=>n(e,t)),cV=(e,t,n,o=!0,s=!1)=>{const r=s?tN(n.icons):eN(n.icons),a=i=>({isEnabled:()=>!gt.isDisabled(i),setEnabled:d=>gt.set(i,!d),setIconFill:(d,g)=>{Qn(i.element,`svg path[class="${d}"], rect[class="${d}"]`).each(f=>{Lt(f,"fill",g)})},setTooltip:d=>{const g=n.translate(d);Lt(i.element,"aria-label",g)}}),c=Yd({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:h.none(),ariaLabel:e.text,labelContent:h.none(),caret:h.some(r),checkMark:h.none(),shortcutContent:e.shortcut},n,o);return zu({context:e.context,data:Zu(e),getApi:a,enabled:e.enabled,onAction:ce,onSetup:e.onSetup,triggersSubmenu:!0,itemBehaviours:[]},c,t,n)},iV=(e,t,n,o=!0)=>{const s=a=>({isEnabled:()=>!gt.isDisabled(a),setEnabled:c=>gt.set(a,!c)}),r=Yd({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:h.none(),labelContent:h.none(),ariaLabel:e.text,caret:h.none(),checkMark:h.none(),shortcutContent:e.shortcut},n,o);return zu({context:e.context,data:Zu(e),getApi:s,enabled:e.enabled,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},r,t,n)},lV=e=>({type:"separator",dom:{tag:"div",classes:[I1,RR]},components:e.text.map(To).toArray()}),uV=(e,t,n,o=!0)=>{const s=a=>({setActive:c=>{tn.set(a,c)},isActive:()=>tn.isOn(a),isEnabled:()=>!gt.isDisabled(a),setEnabled:c=>gt.set(a,!c)}),r=Yd({iconContent:e.icon,textContent:e.text,htmlContent:h.none(),labelContent:h.none(),ariaLabel:e.text,checkMark:h.some(v2(n.icons)),caret:h.none(),shortcutContent:e.shortcut,presets:"normal",meta:e.meta},n,o);return ke(zu({context:e.context,data:Zu(e),enabled:e.enabled,getApi:s,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},r,t,n),{toggling:{toggleClass:qb,toggleOnExecute:!1,selected:e.active},role:e.role.getOrUndefined()})},dV=iN,h5=lV,mV=iV,hV=cV,gV=uV,pV=aV,fV=lN,bV=e=>{switch(e.searchMode){case"no-search":return{menuType:"normal"};default:return{menuType:"searchable",searchMode:e}}},vV=e=>{const t=Ye.getValue(e),n=H1(e).map(nC);Ia.refetch(t).get(()=>{const o=Zo.getCoupled(t,"sandbox");n.each(s=>H1(o).each(r=>YR(r,s)))})},yV=(e,t)=>{xV(e).each(n=>{vA(e,n.element,t.event.eventType,t.event.interactionEvent)})},xV=e=>Hn.getState(e).bind(Un.getHighlighted).bind(Un.getHighlighted),wV=e=>xr(e.element,R1)?h.some(e.element):Qn(e.element,"."+R1),g5=(e,t,n)=>{tC(e).each(o=>{XR(o,n),wV(t).each(r=>{es(r,"id").each(a=>Lt(o.element,"aria-controls",a))})}),Lt(n.element,"aria-selected","true")},SV=(e,t,n)=>{Lt(n.element,"aria-selected","false")},CV=e=>{tC(e).each(t=>It.focus(t))},TV=e=>Zo.getExistingCoupled(e,"sandbox").bind(H1).map(nC).map(n=>n.fetchPattern).getOr("");var j1;(function(e){e[e.ContentFocus=0]="ContentFocus",e[e.UiFocus=1]="UiFocus"})(j1||(j1={}));const kV=(e,t,n,o,s)=>{const r=n.shared.providers,a=c=>s?{...c,shortcut:h.none(),icon:c.text.isSome()?h.none():c.icon}:c;switch(e.type){case"menuitem":return MB(e).fold(Kc,c=>h.some(mV(a(c),t,r,o)));case"nestedmenuitem":return DB(e).fold(Kc,c=>h.some(hV(a(c),t,r,o,s)));case"togglemenuitem":return IB(e).fold(Kc,c=>h.some(gV(a(c),t,r,o)));case"separator":return ZP(e).fold(Kc,c=>h.some(h5(c)));case"fancymenuitem":return CB(e).fold(Kc,c=>pV(c,n));default:return console.error("Unknown item in general menu",e),h.none()}},OV=(e,t,n,o,s,r,a)=>{const c=o===1,i=!c||mh(e);return Ut(re(e,d=>{switch(d.type){case"separator":return WP(d).fold(Kc,g=>h.some(h5(g)));case"cardmenuitem":return fB(d).fold(Kc,g=>h.some(fV({...g,onAction:f=>{g.onAction(f),n(g.value,g.meta)}},s,r,{itemBehaviours:_C(g.meta,r,h.none()),cardText:{matchText:t,highlightOn:a}})));case"autocompleteitem":default:return jP(d).fold(Kc,g=>h.some(dV(g,t,c,"normal",n,s,r,i)))}}))},p5=(e,t,n,o,s,r)=>{const a=mh(t),c=Ut(re(t,g=>{const f=T=>s?!Nt(T,"text"):a,y=T=>kV(T,n,o,f(T),s);return g.type==="nestedmenuitem"&&g.getSubmenuItems().length<=0?y({...g,enabled:!1}):y(g)})),i=bV(r);return(s?rL:Jb)(e,a,c,1,i)},I2=e=>_u.singleData(e.value,e),AV=(e,t,n,o)=>{const s=wh(t,o),r=Hl(o);return{data:I2({...e,movement:s,menuBehaviours:gh.unnamedEvents(t!=="auto"?[]:[vo((a,c)=>{g2(a,4,r.item).each(({numColumns:i,numRows:d})=>{pt.setGridSize(a,d,i)})})])}),menu:{markers:Hl(o),fakeFocus:n===j1.ContentFocus}}},EV=e=>l.create(Be.fromDom(e.startContainer),e.startOffset,Be.fromDom(e.endContainer),e.endOffset),MV={register:(e,t)=>{const n=O("autocompleter"),o=ot(!1),s=ot(!1),r=kn(),a=hr(Io.sketch({dom:{tag:"div",classes:["tox-autocompleter"],attributes:{id:n}},components:[],fireDismissalEventInstead:{},inlineBehaviours:Fe([Pt("dismissAutocompleter",[le(bu(),()=>f()),le(Cf(),(R,W)=>{es(W.event.target,"id").each(G=>Lt(Be.fromDom(e.getBody()),"aria-activedescendant",G))})])]),lazySink:t.getSink})),c=()=>Io.isOpen(a),i=s.get,d=()=>{if(c()){Io.hide(a),e.dom.remove(n,!1);const R=Be.fromDom(e.getBody());es(R,"aria-owns").filter(W=>W===n).each(()=>{Fo(R,"aria-owns"),Fo(R,"aria-activedescendant")})}},g=()=>Io.getContent(a).bind(R=>_t(R.components(),0)),f=()=>e.execCommand("mceAutocompleterClose"),y=R=>{const W=kt(R,G=>h.from(G.columns)).getOr(1);return Tt(R,G=>{const oe=G.items;return OV(oe,G.matchText,(ae,ze)=>{const Ke={hide:()=>f(),reload:Y=>{d(),e.execCommand("mceAutocompleterReload",!1,{fetchOptions:Y})}};e.execCommand("mceAutocompleterRefreshActiveRange"),r.get().each(Y=>{o.set(!0),G.onAction(Ke,Y,ae,ze),o.set(!1)})},W,kc.BUBBLE_TO_SANDBOX,t,G.highlightOn)})},T=(R,W)=>{const G=kt(R,oe=>h.from(oe.columns)).getOr(1);Io.showMenuAt(a,{anchor:{type:"selection",getSelection:()=>r.get().map(EV),root:Be.fromDom(e.getBody())}},AV(Jb("autocompleter-value",!0,W,G,{menuType:"normal"}),G,j1.ContentFocus,"normal")),g().each(Un.highlightFirst)},_=R=>{const W=y(R);W.length>0?(T(R,W),Lt(Be.fromDom(e.getBody()),"aria-owns",n),e.inline||L()):d()},L=()=>{e.dom.get(n)&&e.dom.remove(n,!1);const R=e.getDoc().documentElement,W=e.selection.getNode(),G=tu(a.element);Lc(G,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",top:`${W.offsetTop}px`,left:`${W.offsetLeft}px`}),e.dom.add(R,G.dom),Qn(G,'[role="menu"]').each(oe=>{Ne(oe,"position"),Ne(oe,"max-height")})};e.on("AutocompleterStart",({lookupData:R})=>{s.set(!0),o.set(!1),_(R)}),e.on("AutocompleterUpdate",({lookupData:R})=>_(R)),e.on("AutocompleterUpdateActiveRange",({range:R})=>r.set(R)),e.on("AutocompleterEnd",()=>{d(),s.set(!1),o.set(!1),r.clear()});const z={cancelIfNecessary:f,isMenuOpen:c,isActive:i,isProcessingAction:o.get,getMenu:g};$R.setup(z,e)}},_V=(e,t)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:re(e.items,t.interpreter)});var DV=tinymce.util.Tools.resolve("tinymce.html.Entities");const Sh=(e,t,n,o)=>{const s=IV(e,t,n,o);return mn.sketch(s)},FV=(e,t)=>Sh(e,t,[],[]),IV=(e,t,n,o)=>({dom:f5(n),components:e.toArray().concat([t]),fieldBehaviours:Fe(o)}),$V=()=>f5([]),f5=e=>({tag:"div",classes:["tox-form__group"].concat(e)}),Bl=(e,t)=>mn.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[To(t.translate(e))]}),Kr=O("form-component-change"),b5=O("form-component-input"),Ch=O("form-close"),Nl=O("form-cancel"),Ci=O("form-action"),Th=O("form-submit"),$2=O("form-block"),H2=O("form-unblock"),v5=O("form-tabchange"),y5=O("form-resize"),HV=(e,t,n)=>{const o=e.label.map(T=>Bl(T,t)),s=t.icons(),r=T=>{var _;return(_=s[T])!==null&&_!==void 0?_:T},a=T=>(_,L)=>{cc(L.event.target,"[data-collection-item-value]").each(z=>{T(_,L,z,Qo(z,"data-collection-item-value"))})},c=(T,_)=>{const z=t.checkUiComponentContext("mode:design").shouldDisable||t.isDisabled()?" tox-collection__item--state-disabled":"",R=re(_,oe=>{const ae=Ja.translate(oe.text),ze=e.columns===1?`<div class="tox-collection__item-label">${ae}</div>`:"",Ke=`<div class="tox-collection__item-icon">${r(oe.icon)}</div>`,Y={_:" "," - ":" ","-":" "},qe=ae.replace(/\_| \- |\-/g,vt=>Y[vt]);return`<div data-mce-tooltip="${qe}" class="tox-collection__item${z}" tabindex="-1" data-collection-item-value="${DV.encodeAllRaw(oe.value)}" aria-label="${qe}">${Ke}${ze}</div>`}),W=e.columns!=="auto"&&e.columns>1?et(R,e.columns):[R],G=re(W,oe=>`<div class="tox-collection__group">${oe.join("")}</div>`);Rc(T.element,G.join(""))},i=a((T,_,L,z)=>{_.stop(),t.checkUiComponentContext("mode:design").shouldDisable||t.isDisabled()||Ct(T,Ci,{name:e.name,value:z})}),d=[le(bi(),a((T,_,L)=>{jo(L,!0)})),le(pu(),i),le(Hm(),i),le(gc(),a((T,_,L)=>{Qn(T.element,"."+Lu).each(z=>{Lo(z,Lu)}),Ro(L,Lu)})),le(vy(),a(T=>{Qn(T.element,"."+Lu).each(_=>{Lo(_,Lu),ul(_)})})),zi(a((T,_,L,z)=>{Ct(T,Ci,{name:e.name,value:z})}))],g=(T,_)=>re(js(T.element,".tox-collection__item"),_),f=mn.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(e.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:Ve},behaviours:Fe([gt.config({disabled:()=>t.checkUiComponentContext(e.context).shouldDisable,onDisabled:T=>{g(T,_=>{Ro(_,"tox-collection__item--state-disabled"),Lt(_,"aria-disabled",!0)})},onEnabled:T=>{g(T,_=>{Lo(_,"tox-collection__item--state-disabled"),Fo(_,"aria-disabled")})}}),qo(()=>t.checkUiComponentContext(e.context)),zt.config({}),ko.config({...t.tooltips.getConfig({tooltipText:"",onShow:T=>{Qn(T.element,"."+Lu+"[data-mce-tooltip]").each(_=>{es(_,"data-mce-tooltip").each(L=>{ko.setComponents(T,t.tooltips.getComponents({tooltipText:L}))})})}}),mode:"children-keyboard-focus",anchor:T=>({type:"node",node:Qn(T.element,"."+Lu).orThunk(()=>Kp(".tox-collection__item")),root:T.element,layouts:{onLtr:A([us,Ts,is,Xs,ls,Js]),onRtl:A([us,Ts,is,Xs,ls,Js])},bubble:fc(0,-2,{})})}),Ye.config({store:{mode:"memory",initialValue:n.getOr([])},onSetValue:(T,_)=>{c(T,_),e.columns==="auto"&&g2(T,5,"tox-collection__item").each(({numRows:L,numColumns:z})=>{pt.setGridSize(T,L,z)}),Cn(T,y5)}}),co.config({}),pt.config(YN(e.columns,"normal")),Pt("collection-events",d)]),eventOrder:{[Ma()]:["disabling","alloy.base.behaviour","collection-events"],[gc()]:["collection-events","tooltipping"]}});return Sh(o,f,["tox-form__group--collection"],[])},RV=(e,t)=>Ia.sketch({dom:e.dom,components:e.components,toggleClass:"mce-active",dropdownBehaviours:Fe([ec.button(()=>t.providers.isDisabled()||t.providers.checkUiComponentContext(e.context).shouldDisable),qo(()=>t.providers.checkUiComponentContext(e.context)),Qm.config({}),co.config({})]),layouts:e.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:t.getSink,fetch:n=>An.nu(o=>e.fetch(o)).map(o=>h.from(I2(ke(W1(O("menu-value"),o,s=>{e.onItemAction(n,s)},e.columns,e.presets,kc.CLOSE_ON_EXECUTE,ue,t.providers),{movement:wh(e.columns,e.presets)})))),parts:{menu:$1(!1,1,e.presets)}}),x5=O("color-input-change"),w5=O("color-swatch-change"),S5=O("color-picker-cancel"),LV=(e,t,n,o)=>{const s=mn.parts.field({factory:Yi,inputClasses:["tox-textfield"],data:o,onSetValue:d=>xi.run(d).get(ce),inputBehaviours:Fe([gt.config({disabled:()=>t.providers.isDisabled()||t.providers.checkUiComponentContext(e.context).shouldDisable}),qo(()=>t.providers.checkUiComponentContext(e.context)),co.config({}),xi.config({invalidClass:"tox-textbox-field-invalid",getRoot:d=>vr(d.element),notify:{onValid:d=>{const g=Ye.getValue(d);Ct(d,x5,{color:g})}},validator:{validateOnLoad:!1,validate:d=>{const g=Ye.getValue(d);if(g.length===0)return An.pure(Ot.value(!0));{const f=Be.fromTag("span");Vt(f,"background-color",g);const y=H(f,"background-color").fold(()=>Ot.error("blah"),T=>Ot.value(g));return An.pure(y)}}}})]),selectOnFocus:!1}),r=e.label.map(d=>Bl(d,t.providers)),a=(d,g)=>{Ct(d,w5,{value:g})},c=(d,g)=>{i.getOpt(d).each(f=>{g==="custom"?n.colorPicker(y=>{y.fold(()=>Cn(f,S5),T=>{a(f,T),XC(e.storageKey,T)})},"#ffffff"):g==="remove"?a(f,""):a(f,g)})},i=Vn(RV({dom:{tag:"span",attributes:{"aria-label":t.providers.translate("Color swatch")}},layouts:{onRtl:()=>[ls,is,us],onLtr:()=>[is,ls,us]},components:[],fetch:s5(n.getColors(e.storageKey),e.storageKey,n.hasCustomColors()),columns:n.getColorCols(e.storageKey),presets:"color",onItemAction:c,context:e.context},t));return mn.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:r.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[s,i.asSpec()]}]),fieldBehaviours:Fe([Pt("form-field-events",[le(x5,(d,g)=>{i.getOpt(d).each(f=>{Vt(f.element,"background-color",g.event.color)}),Ct(d,Kr,{name:e.name})}),le(w5,(d,g)=>{mn.getField(d).each(f=>{Ye.setValue(f,g.event.value),En.getCurrent(d).each(It.focus)})}),le(S5,(d,g)=>{mn.getField(d).each(f=>{En.getCurrent(d).each(It.focus)})})])])})},Ac={self:()=>En.config({find:h.some}),memento:e=>En.config({find:e.getOpt}),childAt:e=>En.config({find:t=>$c(t.element,e).bind(n=>t.getSystem().getByDom(n).toOptional())})},PV=Ht([ee("preprocess",Ve),ee("postprocess",Ve)]),BV=(e,t)=>{const n=jr("RepresentingConfigs.memento processors",PV,t);return Ye.config({store:{mode:"manual",getValue:o=>{const s=e.get(o),r=Ye.getValue(s);return n.postprocess(r)},setValue:(o,s)=>{const r=n.preprocess(s),a=e.get(o);Ye.setValue(a,r)}}})},Gu=(e,t,n)=>Ye.config({store:{mode:"manual",...e.map(o=>({initialValue:o})).getOr({}),getValue:t,setValue:n}}),C5=(e,t,n)=>Gu(e,o=>t(o.element),(o,s)=>n(o.element,s)),NV=e=>C5(e,nu,Rc),G1=e=>Ye.config({store:{mode:"memory",initialValue:e}}),R2=O("rgb-hex-update"),T5=O("slider-update"),k5=O("palette-update"),VV=(e,t)=>{const n=Cc.parts.spectrum({dom:{tag:"div",classes:[t("hue-slider-spectrum")],attributes:{role:"presentation"}}}),o=Cc.parts.thumb({dom:{tag:"div",classes:[t("hue-slider-thumb")],attributes:{role:"presentation"}}});return Cc.sketch({dom:{tag:"div",classes:[t("hue-slider")],attributes:{role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":120}},rounded:!1,model:{mode:"y",getInitialValue:A(0)},components:[n,o],sliderBehaviours:Fe([It.config({})]),onChange:(s,r,a)=>{Lt(s.element,"aria-valuenow",Math.floor(360-a*3.6)),Ct(s,T5,{value:a})}})},O5=O("valid-input"),A5=O("invalid-input"),E5=O("validating-input"),L2="colorcustom.rgb.",zV={isEnabled:st,setEnabled:ce,immediatelyShow:ce,immediatelyHide:ce},ZV=(e,t,n,o,s,r)=>{const a=(L,z)=>{const R=z.get();L!==R.isEnabled()&&(R.setEnabled(L),L?R.immediatelyShow():R.immediatelyHide())},c=(L,z,R)=>xi.config({invalidClass:t("invalid"),notify:{onValidate:W=>{Ct(W,E5,{type:L})},onValid:W=>{a(!1,R),Ct(W,O5,{type:L,value:Ye.getValue(W)})},onInvalid:W=>{a(!0,R),Ct(W,A5,{type:L,value:Ye.getValue(W)})}},validator:{validate:W=>{const G=Ye.getValue(W),oe=z(G)?Ot.value(!0):Ot.error(e("aria.input.invalid"));return An.pure(oe)},validateOnLoad:!1}}),i=(L,z,R,W,G)=>{const oe=ot(zV),ae=e(L2+"range"),ze=mn.parts.label({dom:{tag:"label"},components:[To(R)]}),Ke=mn.parts.field({data:G,factory:Yi,inputAttributes:{type:"text","aria-label":W,...z==="hex"?{"aria-live":"polite"}:{}},inputClasses:[t("textfield")],inputBehaviours:Fe([c(z,L,oe),co.config({}),ko.config({...s({tooltipText:"",onSetup:Bt=>{oe.set({isEnabled:()=>ko.isEnabled(Bt),setEnabled:at=>ko.setEnabled(Bt,at),immediatelyShow:()=>ko.immediateOpenClose(Bt,!0),immediatelyHide:()=>ko.immediateOpenClose(Bt,!1)}),ko.setEnabled(Bt,!1)},onShow:(Bt,at)=>{ko.setComponents(Bt,[{dom:{tag:"p",classes:[t("rgb-warning-note")]},components:[To(e(z==="hex"?"colorcustom.rgb.invalidHex":"colorcustom.rgb.invalid"))]}])}})})]),onSetValue:Bt=>{xi.isInvalid(Bt)&&xi.run(Bt).get(ce)}}),Y=O("aria-invalid"),qe=Vn(r("invalid",h.some(Y),"warning")),vt=Vn({dom:{tag:"div",classes:[t("invalid-icon")]},components:[qe.asSpec()]}),ct=[ze,Ke,vt.asSpec()],nn=z!=="hex"?[mn.parts["aria-descriptor"]({text:ae})]:[],$t=ct.concat(nn);return{dom:{tag:"div",attributes:{role:"presentation"},classes:[t("rgb-container")]},components:$t}},d=(L,z)=>{const R=vh(z);return Rd.getField(L,"hex").each(W=>{It.isFocused(W)||Ye.setValue(L,{hex:R.value})}),R},g=(L,z)=>{const R=z.red,W=z.green,G=z.blue;Ye.setValue(L,{red:R,green:W,blue:G})},f=Vn({dom:{tag:"div",classes:[t("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),y=(L,z)=>{f.getOpt(L).each(R=>{Vt(R.element,"background-color","#"+z.value)})};return Fa({factory:()=>{const L={red:ot(h.some(255)),green:ot(h.some(255)),blue:ot(h.some(255)),hex:ot(h.some("ffffff"))},z=(at,be)=>{const Pe=xh(be);g(at,Pe),oe(Pe)},R=at=>L[at].get(),W=(at,be)=>{L[at].set(be)},G=()=>R("red").bind(at=>R("green").bind(be=>R("blue").map(Pe=>Uu(at,be,Pe,1)))),oe=at=>{const be=at.red,Pe=at.green,Et=at.blue;W("red",h.some(be)),W("green",h.some(Pe)),W("blue",h.some(Et))},ae=(at,be)=>{const Pe=be.event;Pe.type!=="hex"?W(Pe.type,h.none()):o(at)},ze=(at,be)=>{n(at);const Pe=$C(be);W("hex",h.some(Pe.value));const Et=xh(Pe);g(at,Et),oe(Et),Ct(at,R2,{hex:Pe}),y(at,Pe)},Ke=(at,be,Pe)=>{const Et=parseInt(Pe,10);W(be,h.some(Et)),G().each(Wt=>{const ft=d(at,Wt);Ct(at,R2,{hex:ft}),y(at,ft)})},Y=at=>at.type==="hex",qe=(at,be)=>{const Pe=be.event;Y(Pe)?ze(at,Pe.value):Ke(at,Pe.type,Pe.value)},vt=at=>({label:e(L2+at+".label"),description:e(L2+at+".description")}),ct=vt("red"),nn=vt("green"),$t=vt("blue"),Bt=vt("hex");return ke(Rd.sketch(at=>({dom:{tag:"form",classes:[t("rgb-form")],attributes:{"aria-label":e("aria.color.picker")}},components:[at.field("red",mn.sketch(i(S2,"red",ct.label,ct.description,255))),at.field("green",mn.sketch(i(S2,"green",nn.label,nn.description,255))),at.field("blue",mn.sketch(i(S2,"blue",$t.label,$t.description,255))),at.field("hex",mn.sketch(i(LC,"hex",Bt.label,Bt.description,"ffffff"))),f.asSpec()],formBehaviours:Fe([xi.config({invalidClass:t("form-invalid")}),Pt("rgb-form-events",[le(O5,qe),le(A5,ae),le(E5,ae)])])})),{apis:{updateHex:(at,be)=>{Ye.setValue(at,{hex:be.value}),z(at,be),y(at,be)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(L,z,R)=>{L.updateHex(z,R)}},extraApis:{}})},UV=(e,t)=>{const n=Cc.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[t("sv-palette-spectrum")]}}),o=Cc.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette-thumb")],innerHtml:`<div class=${t("sv-palette-inner-thumb")} role="presentation"></div>`}}),s=(d,g)=>{const{width:f,height:y}=d,T=d.getContext("2d");if(T===null)return;T.fillStyle=g,T.fillRect(0,0,f,y);const _=T.createLinearGradient(0,0,f,0);_.addColorStop(0,"rgba(255,255,255,1)"),_.addColorStop(1,"rgba(255,255,255,0)"),T.fillStyle=_,T.fillRect(0,0,f,y);const L=T.createLinearGradient(0,0,0,y);L.addColorStop(0,"rgba(0,0,0,0)"),L.addColorStop(1,"rgba(0,0,0,1)"),T.fillStyle=L,T.fillRect(0,0,f,y)},r=(d,g)=>{const f=d.components()[0].element.dom,y=yh(g,100,100),T=VC(y);s(f,ZC(T))},a=(d,g)=>{const f=w2(xh(g));Cc.setValue(d,{x:f.saturation,y:100-f.value}),Lt(d.element,"aria-valuetext",e(["Saturation {0}%, Brightness {1}%",f.saturation,f.value]))};return Fa({factory:d=>{const g=A({x:0,y:0}),f=(_,L,z)=>{Rt(z)||Lt(_.element,"aria-valuetext",e(["Saturation {0}%, Brightness {1}%",Math.floor(z.x),Math.floor(100-z.y)])),Ct(_,k5,{value:z})},y=(_,L,z,R)=>{s(z.element.dom,ZC(UC))},T=Fe([En.config({find:h.some}),It.config({})]);return Cc.sketch({dom:{tag:"div",attributes:{role:"slider","aria-valuetext":e(["Saturation {0}%, Brightness {1}%",0,0])},classes:[t("sv-palette")]},model:{mode:"xy",getInitialValue:g},rounded:!1,components:[n,o],onChange:f,onInit:y,sliderBehaviours:T})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(d,g,f)=>{r(g,f)},setThumb:(d,g,f)=>{a(g,f)}},extraApis:{}})},WV=(e,t,n,o)=>{const s=a=>{const c=ZV(e,t,a.onValidHex,a.onInvalidHex,n,o),i=UV(e,t),d=Y=>(100-Y)/100*360,g=Y=>100-Y/360*100,f={paletteRgba:ot(UC),paletteHue:ot(0)},y=Vn(VV(e,t)),T=Vn(i.sketch({})),_=Vn(c.sketch({})),L=(Y,qe,vt)=>{T.getOpt(Y).each(ct=>{i.setHue(ct,vt)})},z=(Y,qe)=>{_.getOpt(Y).each(vt=>{c.updateHex(vt,qe)})},R=(Y,qe,vt)=>{y.getOpt(Y).each(ct=>{Cc.setValue(ct,g(vt))})},W=(Y,qe)=>{T.getOpt(Y).each(vt=>{i.setThumb(vt,qe)})},G=(Y,qe)=>{const vt=xh(Y);f.paletteRgba.set(vt),f.paletteHue.set(qe)},oe=(Y,qe,vt,ct)=>{G(qe,vt),_e(ct,nn=>{nn(Y,qe,vt)})},ae=()=>{const Y=[z];return(qe,vt)=>{const ct=vt.event.value,nn=f.paletteHue.get(),$t=yh(nn,ct.x,100-ct.y),Bt=WC($t);oe(qe,Bt,nn,Y)}},ze=()=>{const Y=[L,z];return(qe,vt)=>{const ct=d(vt.event.value),nn=f.paletteRgba.get(),$t=w2(nn),Bt=yh(ct,$t.saturation,$t.value),at=WC(Bt);oe(qe,at,ct,Y)}},Ke=()=>{const Y=[L,R,W];return(qe,vt)=>{const ct=vt.event.hex,nn=pN(ct);oe(qe,ct,nn.hue,Y)}};return{uid:a.uid,dom:a.dom,components:[T.asSpec(),y.asSpec(),_.asSpec()],behaviours:Fe([Pt("colour-picker-events",[le(R2,Ke()),le(k5,ae()),le(T5,ze())]),En.config({find:Y=>_.getOpt(Y)}),pt.config({mode:"acyclic"})])}};return Fa({name:"ColourPicker",configFields:[ye("dom"),ee("onValidHex",ce),ee("onInvalidHex",ce)],factory:s})},jV={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red channel","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green channel","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue channel","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.rgb.invalid":"Numbers only, 0 to 255","colorcustom.rgb.invalidHex":"Hexadecimal only, 000000 to FFFFFF","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},GV=e=>t=>X(t)?e.translate(jV[t]):e.translate(t),qV=(e,t,n)=>{const o=d=>"tox-"+d,s=(d,g,f=d,y=d)=>$a(f,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+d],attributes:{title:t.translate(y),"aria-live":"polite",...g.fold(()=>({}),T=>({id:T}))}},t.icons),r=WV(GV(t),o,t.tooltips.getConfig,s),a=d=>{Ct(d,Ci,{name:"hex-valid",value:!0})},c=d=>{Ct(d,Ci,{name:"hex-valid",value:!1})},i=Vn(r.sketch({dom:{tag:"div",classes:[o("color-picker-container")],attributes:{role:"presentation"}},onValidHex:a,onInvalidHex:c}));return{dom:{tag:"div"},components:[i.asSpec()],behaviours:Fe([Gu(n,d=>{const g=i.get(d);return En.getCurrent(g).bind(T=>Ye.getValue(T).hex).map(T=>"#"+Ms(T,"#")).getOr("")},(d,g)=>{const f=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,y=h.from(f.exec(g)).bind(L=>_t(L,1)),T=i.get(d);En.getCurrent(T).fold(()=>{console.log("Can not find form")},L=>{Ye.setValue(L,{hex:y.getOr("")}),Rd.getField(L,"hex").each(z=>{Cn(z,Ni())})})}),Ac.self()])}};var KV=tinymce.util.Tools.resolve("tinymce.Resource");const M5=e=>Nt(e,"init"),YV=e=>{const t=kn(),n=Vn({dom:{tag:e.tag}}),o=kn(),s=!M5(e)&&e.onFocus.isSome()?[It.config({onFocus:r=>{e.onFocus.each(a=>{a(r.element.dom)})}}),co.config({})]:[];return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Fe([Pt("custom-editor-events",[vo(r=>{n.getOpt(r).each(a=>{(M5(e)?e.init(a.element.dom):KV.load(e.scriptId,e.scriptUrl).then(c=>c(a.element.dom,e.settings))).then(c=>{o.on(i=>{c.setValue(i)}),o.clear(),t.set(c)})})})]),Gu(h.none(),()=>t.get().fold(()=>o.get().getOr(""),r=>r.getValue()),(r,a)=>{t.get().fold(()=>o.set(a),c=>c.setValue(a))}),Ac.self()].concat(s)),components:[n.asSpec()]}};var Qi=tinymce.util.Tools.resolve("tinymce.util.Tools");const P2=O("browse.files.event"),XV=(e,t)=>{const n=Qi.explode(t.getOption("images_file_types")),o=s=>Dt(n,r=>or(s.name.toLowerCase(),`.${r.toLowerCase()}`));return jt(_n(e),o)},JV=(e,t,n)=>{const o=(y,T)=>{T.stop()},s=y=>(T,_)=>{_e(y,L=>{L(T,_)})},r=(y,T)=>{var _;if(!gt.isDisabled(y)){const L=T.event.raw;Ct(y,P2,{files:(_=L.dataTransfer)===null||_===void 0?void 0:_.files})}},a=(y,T)=>{const _=T.event.raw.target;Ct(y,P2,{files:_.files})},c=(y,T)=>{T&&(Ye.setValue(y,XV(T,t)),Ct(y,Kr,{name:e.name}))},i=Vn({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Fe([Pt("input-file-events",[wu(pu()),wu(Hm())])])}),d=e.label.map(y=>Bl(y,t)),g=mn.parts.field({factory:Bs,dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[To(t.translate("Browse for an image")),i.asSpec()],action:y=>{i.get(y).element.dom.click()},buttonBehaviours:Fe([Ac.self(),G1(n.getOr([])),co.config({}),ec.button(()=>t.checkUiComponentContext(e.context).shouldDisable),qo(()=>t.checkUiComponentContext(e.context))])}),f={dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Fe([gt.config({disabled:()=>t.checkUiComponentContext(e.context).shouldDisable}),qo(()=>t.checkUiComponentContext(e.context)),tn.config({toggleClass:"dragenter",toggleOnExecute:!1}),Pt("dropzone-events",[le("dragenter",s([o,tn.toggle])),le("dragleave",s([o,tn.toggle])),le("dragover",o),le("drop",s([o,r])),le(kd(),a)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[To(t.translate("Drop an image here"))]},g]}]};return Sh(d,f,["tox-form__group--stretched"],[Pt("handle-files",[le(P2,(y,T)=>{mn.getField(y).each(_=>{c(_,T.event.files)})})])])},QV=(e,t)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${e.columns}col`]},components:re(e.items,t.interpreter)}),B2=O("alloy-fake-before-tabstop"),N2=O("alloy-fake-after-tabstop"),_5=e=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:e},behaviours:Fe([It.config({ignore:!0}),co.config({})])}),D5=(e,t)=>({dom:{tag:"div",classes:["tox-navobj",...e.getOr([])]},components:[_5([B2]),t,_5([N2])],behaviours:Fe([Ac.childAt(1)])}),F5=(e,t)=>{Ct(e,Nc(),{raw:{which:9,shiftKey:t}})},ez=(e,t)=>{const n=t.element;xr(n,B2)?F5(e,!0):xr(n,N2)&&F5(e,!1)},kh=e=>iu(e,["."+B2,"."+N2].join(","),ue),q1=O("update-dialog"),I5=O("update-title"),$5=O("update-body"),H5=O("update-footer"),R5=O("body-send-message"),K1=O("dialog-focus-shifted"),V2=fs().browser,Oh=V2.isSafari(),tz=V2.isFirefox(),L5=Oh||tz,nz=V2.isChromium(),oz=({scrollTop:e,scrollHeight:t,clientHeight:n})=>Math.ceil(e)+n>=t,P5=(e,t)=>e.scrollTo(0,t==="bottom"?99999999:t),sz=(e,t)=>{const n=e.body;return h.from(!/^<!DOCTYPE (html|HTML)/.test(t)&&(!nz&&!Oh||Xe(n)&&(n.scrollTop!==0||Math.abs(n.scrollHeight-n.clientHeight)>1))?n:e.documentElement)},B5=(e,t,n)=>{const o=e.dom;h.from(o.contentDocument).fold(n,s=>{let r=0;const a=sz(s,t).map(i=>(r=i.scrollTop,i)).forall(oz),c=()=>{const i=o.contentWindow;Xe(i)&&(a?P5(i,"bottom"):!a&&L5&&r!==0&&P5(i,r))};Oh&&o.addEventListener("load",c,{once:!0}),s.open(),s.write(t),s.close(),Oh||c()})},rz=Ao(L5,Oh?500:200).map(e=>ya(B5,e)),az=(e,t)=>{const n=ot(e.getOr(""));return{getValue:o=>n.get(),setValue:(o,s)=>{if(n.get()!==s){const r=o.element,a=()=>Lt(r,"srcdoc",s);t?rz.fold(A(B5),c=>c.throttle)(r,s,a):a()}n.set(s)}}},cz=(e,t,n)=>{const o="tox-dialog__iframe",s=e.transparent?[]:[`${o}--opaque`],r=e.border?["tox-navobj-bordered"]:[],a={...e.label.map(f=>({title:f})).getOr({}),...n.map(f=>({srcdoc:f})).getOr({}),...e.sandboxed?{sandbox:"allow-scripts allow-same-origin"}:{}},c=az(n,e.streamContent),i=e.label.map(f=>Bl(f,t)),d=f=>D5(h.from(r),{uid:f.uid,dom:{tag:"iframe",attributes:a,classes:[o,...s]},behaviours:Fe([co.config({}),It.config({}),Gu(n,c.getValue,c.setValue),ua.config({channels:{[K1]:{onReceive:(y,T)=>{T.newFocus.each(_=>{vr(y.element).each(L=>{(dn(y.element,_)?Ro:Lo)(L,"tox-navobj-bordered-focus")})})}}}})])}),g=mn.parts.field({factory:{sketch:d}});return Sh(i,g,["tox-form__group--stretched"],[])},iz=(e,t,n,o,s)=>{const r=n*s,a=o*s,c=Math.max(0,e/2-r/2),i=Math.max(0,t/2-a/2);return{left:c.toString()+"px",top:i.toString()+"px",width:r.toString()+"px",height:a.toString()+"px"}},lz=(e,t,n)=>{const o=yr(e),s=pn(e);return Math.min(o/t,s/n,1)},uz=(e,t)=>{const n=ot(t.getOr({url:""})),o=Vn({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:t.map(i=>({src:i.url})).getOr({})}}),s=Vn({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[o.asSpec()]}),r=(i,d)=>{const g={url:d.url};d.zoom.each(y=>g.zoom=y),d.cachedWidth.each(y=>g.cachedWidth=y),d.cachedHeight.each(y=>g.cachedHeight=y),n.set(g);const f=()=>{const{cachedWidth:y,cachedHeight:T,zoom:_}=g;if(!Qe(y)&&!Qe(T)){if(Qe(_)){const z=lz(i.element,y,T);g.zoom=z}const L=iz(yr(i.element),pn(i.element),y,T,g.zoom);s.getOpt(i).each(z=>{Lc(z.element,L)})}};o.getOpt(i).each(y=>{const T=y.element;d.url!==Qo(T,"src")&&(Lt(T,"src",d.url),Lo(i.element,"tox-imagepreview__loaded")),f(),hl(T).then(_=>{i.getSystem().isConnected()&&(Ro(i.element,"tox-imagepreview__loaded"),g.cachedWidth=_.dom.naturalWidth,g.cachedHeight=_.dom.naturalHeight,f())})})},a={};e.height.each(i=>a.height=i);const c=t.map(i=>({url:i.url,zoom:h.from(i.zoom),cachedWidth:h.from(i.cachedWidth),cachedHeight:h.from(i.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:a,attributes:{role:"presentation"}},components:[s.asSpec()],behaviours:Fe([Ac.self(),Gu(c,()=>n.get(),r)])}},dz=(e,t,n)=>{const o="tox-label",s=e.align==="center"?[`${o}--center`]:[],r=e.align==="end"?[`${o}--end`]:[],a=Vn({dom:{tag:"label",classes:[o,...s,...r]},components:[To(t.providers.translate(e.label))]}),c=re(e.items,t.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[a.asSpec(),...c],behaviours:Fe([Ac.self(),zt.config({}),NV(h.none()),pt.config({mode:"acyclic"}),Pt("label",[vo(i=>{e.for.each(d=>{n(d).each(g=>{a.getOpt(i).each(f=>{var y;const T=(y=Qo(g.element,"id"))!==null&&y!==void 0?y:O("form-field");Lt(g.element,"id",T),Lt(f.element,"for",T)})})})})])])}},z2=O("toolbar.button.execute"),mz=e=>zi((t,n)=>{ph(e,t)(o=>{Ct(t,z2,{buttonApi:o}),e.onAction(o)})}),Vl=O("common-button-display-events"),N5={[Ma()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events","tooltipping"],[Vc()]:["toolbar-button-events",Vl],[vi()]:["toolbar-button-events","dropdown-events","tooltipping"],[Ea()]:["focusing","alloy.base.behaviour",Vl]},Z2=e=>Vt(e.element,"width",p(e.element,"width")),V5=(e,t,n)=>$a(e,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:n},t),U2=(e,t)=>V5(e,t,[]),zl=(e,t)=>V5(e,t,[zt.config({})]),z5=(e,t,n)=>({dom:{tag:"span",classes:[`${t}__select-label`]},components:[To(n.translate(e))],behaviours:Fe([zt.config({})])}),tc=O("update-menu-text"),qu=O("update-menu-icon"),Z5=O("update-tooltip-text"),W2=(e,t,n,o)=>{const s=ot(ce),r=ot(e.tooltip),a=e.text.map(z=>Vn(z5(z,t,n.providers))),c=e.icon.map(z=>Vn(zl(z,n.providers.icons))),i=(z,R)=>{const W=Ye.getValue(z);return It.focus(W),Ct(W,"keydown",{raw:R.event.raw}),Ia.close(W),h.some(!0)},d=e.role.fold(()=>({}),z=>({role:z})),g=h.from(e.listRole).map(z=>({listRole:z})).getOr({}),f=e.ariaLabel.fold(()=>({}),z=>({"aria-label":n.providers.translate(z)})),y=$a("chevron-down",{tag:"div",classes:[`${t}__select-chevron`]},n.providers.icons),T=O("common-button-display-events"),_="dropdown-events";return Vn(Ia.sketch({...e.uid?{uid:e.uid}:{},...d,...g,dom:{tag:"button",classes:[t,`${t}--select`].concat(re(e.classes,z=>`${t}--${z}`)),attributes:{...f,...Xe(o)?{"data-mce-name":o}:{}}},components:Kd([c.map(z=>z.asSpec()),a.map(z=>z.asSpec()),h.some(y)]),matchWidth:!0,useMinWidth:!0,onOpen:(z,R,W)=>{e.searchable&&CV(W)},dropdownBehaviours:Fe([...e.dropdownBehaviours,ec.button(()=>e.disabled||n.providers.checkUiComponentContext(e.context).shouldDisable),qo(()=>n.providers.checkUiComponentContext(e.context)),Qm.config({}),zt.config({}),...e.tooltip.map(z=>ko.config(n.providers.tooltips.getConfig({tooltipText:n.providers.translate(z),onShow:R=>{if(Dn(r.get(),e.tooltip,(W,G)=>G!==W).getOr(!1)){const W=n.providers.translate(r.get().getOr(""));ko.setComponents(R,n.providers.tooltips.getComponents({tooltipText:W}))}}}))).toArray(),Pt(_,[Xc(e,s),Pl(e,s)]),Pt(T,[vo((z,R)=>{e.listRole!=="listbox"&&Z2(z)})]),Pt("update-dropdown-width-variable",[le(Rm(),(z,R)=>Ia.close(z))]),Pt("menubutton-update-display-text",[le(tc,(z,R)=>{a.bind(W=>W.getOpt(z)).each(W=>{zt.set(W,[To(n.providers.translate(R.event.text))])})}),le(qu,(z,R)=>{c.bind(W=>W.getOpt(z)).each(W=>{zt.set(W,[zl(R.event.icon,n.providers.icons)])})}),le(Z5,(z,R)=>{const W=n.providers.translate(R.event.text);Lt(z.element,"aria-label",W),r.set(h.some(R.event.text))})])]),eventOrder:ke(N5,{[Ea()]:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[Vc()]:["toolbar-button-events",ko.name(),_,T]}),sandboxBehaviours:Fe([pt.config({mode:"special",onLeft:i,onRight:i}),Pt("dropdown-sandbox-events",[le(JS,(z,R)=>{vV(z),R.stop()}),le(QS,(z,R)=>{yV(z,R),R.stop()})])]),lazySink:n.getSink,toggleClass:`${t}--active`,parts:{menu:{...$1(!1,e.columns,e.presets),fakeFocus:e.searchable,...e.listRole==="listbox"?{}:{onHighlightItem:g5,onCollapseMenu:(z,R,W)=>{Un.getHighlighted(W).each(G=>{g5(z,W,G)})},onDehighlightItem:SV}}},getAnchorOverrides:()=>({maxHeightFunction:(z,R)=>{c4()(z,R-10)}}),fetch:z=>An.nu(cn(e.fetch,z))})).asSpec()},hz=e=>X(e),U5=e=>e.type==="separator",gz=e=>Nt(e,"getSubmenuItems"),pz={type:"separator"},fz=(e,t)=>{const n=On(e,(o,s)=>hz(s)?s===""?o:s==="|"?o.length>0&&!U5(o[o.length-1])?o.concat([pz]):o:Nt(t,s.toLowerCase())?o.concat([t[s.toLowerCase()]]):o:o.concat([s]),[]);return n.length>0&&U5(n[n.length-1])&&n.pop(),n},bz=(e,t)=>{const n=e.getSubmenuItems(),o=W5(n,t),s=ke(o.menus,{[e.value]:o.items}),r=ke(o.expansions,{[e.value]:e.value});return{item:e,menus:s,expansions:r}},vz=e=>{const t=lt(e,"value").getOrThunk(()=>O("generated-menu-item"));return ke({value:t},e)},W5=(e,t)=>{const n=fz(X(e)?e.split(" "):e,t);return ln(n,(o,s)=>{if(gz(s)){const r=vz(s),a=bz(r,t);return{menus:ke(o.menus,a.menus),items:[a.item,...o.items],expansions:ke(o.expansions,a.expansions)}}else return{...o,items:[s,...o.items]}},{menus:{},expansions:{},items:[]})},yz=e=>e.search.fold(()=>({searchMode:"no-search"}),t=>({searchMode:"search-with-field",placeholder:t.placeholder})),xz=e=>e.search.fold(()=>({searchMode:"no-search"}),t=>({searchMode:"search-with-results"})),Xd=(e,t,n,o)=>{const s=O("primary-menu"),r=W5(e,n.shared.providers.menuItems());if(r.items.length===0)return h.none();const a=yz(o),c=p5(s,r.items,t,n,o.isHorizontalMenu,a),i=xz(o),d=ge(r.menus,(f,y)=>p5(y,f,t,n,!1,i)),g=ke(d,hu(s,c));return h.from(_u.tieredData(s,g,r.expansions))},Y1=e=>!Nt(e,"items"),j5="data-value",G5=(e,t,n,o,s)=>re(n,r=>Y1(r)?{type:"togglemenuitem",...s?{}:{role:"option"},text:r.text,value:r.value,active:r.value===o,onAction:()=>{Ye.setValue(e,r.value),Ct(e,Kr,{name:t}),It.focus(e)}}:{type:"nestedmenuitem",text:r.text,getSubmenuItems:()=>G5(e,t,r.items,o,s)}),j2=(e,t)=>kt(e,n=>Y1(n)?Ao(n.value===t,n):j2(n.items,t)),wz=(e,t,n)=>{const o=Dt(e.items,d=>!Y1(d)),s=t.shared.providers,r=n.bind(d=>j2(e.items,d)).orThunk(()=>Mt(e.items).filter(Y1)),a=e.label.map(d=>Bl(d,s)),c=mn.parts.field({dom:{},factory:{sketch:d=>W2({context:e.context,uid:d.uid,text:r.map(g=>g.text),icon:h.none(),tooltip:h.none(),role:Ao(!o,"combobox"),...o?{}:{listRole:"listbox"},ariaLabel:e.label,fetch:(g,f)=>{const y=G5(g,e.name,e.items,Ye.getValue(g),o);f(Xd(y,kc.CLOSE_ON_EXECUTE,t,{isHorizontalMenu:!1,search:h.none()}))},onSetup:A(ce),getApi:A({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[co.config({}),Gu(r.map(g=>g.value),g=>Qo(g.element,j5),(g,f)=>{j2(e.items,f).each(y=>{Lt(g.element,j5,y.value),Ct(g,tc,{text:y.text})})})]},"tox-listbox",t.shared)}}),i={dom:{tag:"div",classes:["tox-listboxfield"]},components:[c]};return mn.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:je([a.toArray(),[i]]),fieldBehaviours:Fe([gt.config({disabled:()=>!e.enabled||s.checkUiComponentContext(e.context).shouldDisable,onDisabled:d=>{mn.getField(d).each(gt.disable)},onEnabled:d=>{mn.getField(d).each(gt.enable)}})])})},Sz=(e,t)=>({dom:{tag:"div",classes:e.classes},components:re(e.items,t.shared.interpreter)}),Cz=(e,t,n)=>{const o=re(e.items,i=>({text:t.translate(i.text),value:i.value})),s=e.label.map(i=>Bl(i,t)),r=mn.parts.field({dom:{},...n.map(i=>({data:i})).getOr({}),selectAttributes:{size:e.size},options:o,factory:HI,selectBehaviours:Fe([gt.config({disabled:()=>!e.enabled||t.checkUiComponentContext(e.context).shouldDisable}),co.config({}),Pt("selectbox-change",[le(kd(),(i,d)=>{Ct(i,Kr,{name:e.name})})])])}),a=e.size>1?h.none():h.some($a("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},t.icons)),c={dom:{tag:"div",classes:["tox-selectfield"]},components:je([[r],a.toArray()])};return mn.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:je([s.toArray(),[c]]),fieldBehaviours:Fe([gt.config({disabled:()=>!e.enabled||t.checkUiComponentContext(e.context).shouldDisable,onDisabled:i=>{mn.getField(i).each(gt.disable)},onEnabled:i=>{mn.getField(i).each(gt.enable)}}),qo(()=>t.checkUiComponentContext(e.context))])})},q5=e=>{const t={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},n=s=>s in t?t[s]:1;let o=e.value.toFixed(n(e.unit));return o.indexOf(".")!==-1&&(o=o.replace(/\.?0*$/,"")),o+e.unit},X1=e=>{const n=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(e);if(n!==null){const o=parseFloat(n[1]),s=n[2];return Ot.value({value:o,unit:s})}else return Ot.error(e)},K5=(e,t)=>{const n={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},o=s=>Nt(n,s);return e.unit===t?h.some(e.value):o(e.unit)&&o(t)?n[e.unit]===n[t]?h.some(e.value):h.some(e.value/n[e.unit]*n[t]):h.none()},J1=e=>h.none(),Tz=(e,t)=>n=>K5(n,t).map(o=>({value:o*e,unit:t})),Y5=(e,t)=>{const n=X1(e).toOptional(),o=X1(t).toOptional();return Dn(n,o,(s,r)=>K5(s,r.unit).map(a=>r.value/a).map(a=>Tz(a,r.unit)).getOr(J1)).getOr(J1)},kz=(e,t)=>{let n=J1;const o=O("ratio-event"),s=L=>$a(L,{tag:"span",classes:["tox-icon","tox-lock-icon__"+L]},t.icons),r=()=>!e.enabled||t.checkUiComponentContext(e.context).shouldDisable,a=qo(()=>t.checkUiComponentContext(e.context)),c=e.label.getOr("Constrain proportions"),i=t.translate(c),d=Go.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":i,"data-mce-name":c}},components:[s("lock"),s("unlock")],buttonBehaviours:Fe([gt.config({disabled:r}),a,co.config({}),ko.config(t.tooltips.getConfig({tooltipText:i}))])}),g=L=>({dom:{tag:"div",classes:["tox-form__group"]},components:L}),f=L=>mn.parts.field({factory:Yi,inputClasses:["tox-textfield"],inputBehaviours:Fe([gt.config({disabled:r}),a,co.config({}),Pt("size-input-events",[le(gc(),(z,R)=>{Ct(z,o,{isField1:L})}),le(kd(),(z,R)=>{Ct(z,Kr,{name:e.name})})])]),selectOnFocus:!1}),y=L=>({dom:{tag:"label",classes:["tox-label"]},components:[To(t.translate(L))]}),T=Go.parts.field1(g([mn.parts.label(y("Width")),f(!0)])),_=Go.parts.field2(g([mn.parts.label(y("Height")),f(!1)]));return Go.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[T,_,g([y(oc),d])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(L,z,R)=>{X1(Ye.getValue(L)).each(W=>{n(W).each(G=>{Ye.setValue(z,q5(G))})})},coupledFieldBehaviours:Fe([gt.config({disabled:r,onDisabled:L=>{Go.getField1(L).bind(mn.getField).each(gt.disable),Go.getField2(L).bind(mn.getField).each(gt.disable),Go.getLock(L).each(gt.disable)},onEnabled:L=>{Go.getField1(L).bind(mn.getField).each(gt.enable),Go.getField2(L).bind(mn.getField).each(gt.enable),Go.getLock(L).each(gt.enable)}}),qo(()=>t.checkUiComponentContext("mode:design")),Pt("size-input-events2",[le(o,(L,z)=>{const R=z.event.isField1,W=R?Go.getField1(L):Go.getField2(L),G=R?Go.getField2(L):Go.getField1(L),oe=W.map(Ye.getValue).getOr(""),ae=G.map(Ye.getValue).getOr("");n=Y5(oe,ae)})])])})},Oz=(e,t,n)=>{const o=Cc.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[To(t.translate(e.label))]}),s=Cc.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),r=Cc.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return Cc.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:e.min,maxX:e.max,getInitialValue:A(n.getOrThunk(()=>(Math.abs(e.max)-Math.abs(e.min))/2))},components:[o,s,r],sliderBehaviours:Fe([Ac.self(),It.config({})]),onChoose:(a,c,i)=>{Ct(a,Kr,{name:e.name,value:i})},onChange:(a,c,i)=>{Ct(a,Kr,{name:e.name,value:i})}})},Az=(e,t)=>{const n=c=>({dom:{tag:"th",innerHtml:t.translate(c)}}),o=c=>({dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:re(c,n)}]}),s=c=>({dom:{tag:"td",innerHtml:t.translate(c)}}),r=c=>({dom:{tag:"tr"},components:re(c,s)}),a=c=>({dom:{tag:"tbody"},components:re(c,r)});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[o(e.header),a(e.cells)],behaviours:Fe([co.config({}),It.config({})])}},X5=(e,t)=>{const n=e.label.map(T=>Bl(T,t)),o=[gt.config({disabled:()=>e.disabled||t.checkUiComponentContext(e.context).shouldDisable}),qo(()=>t.checkUiComponentContext(e.context)),pt.config({mode:"execution",useEnter:e.multiline!==!0,useControlEnter:e.multiline===!0,execute:T=>(Cn(T,Th),h.some(!0))}),Pt("textfield-change",[le(Ni(),(T,_)=>{Ct(T,Kr,{name:e.name})}),le(yf(),(T,_)=>{Ct(T,Kr,{name:e.name})})]),co.config({})],s=e.validation.map(T=>xi.config({getRoot:_=>vr(_.element),invalidClass:"tox-invalid",validator:{validate:_=>{const L=Ye.getValue(_),z=T.validator(L);return An.pure(z===!0?Ot.value(L):Ot.error(z))},validateOnLoad:T.validateOnLoad}})).toArray(),r=e.placeholder.fold(A({}),T=>({placeholder:t.translate(T)})),a=e.inputMode.fold(A({}),T=>({inputmode:T})),c={...r,...a,"data-mce-name":e.name},i=mn.parts.field({tag:e.multiline===!0?"textarea":"input",...e.data.map(T=>({data:T})).getOr({}),inputAttributes:c,inputClasses:[e.classname],inputBehaviours:Fe(je([o,s])),selectOnFocus:!1,factory:Yi}),d=e.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[i]}:i,f=(e.flex?["tox-form__group--stretched"]:[]).concat(e.maximized?["tox-form-group--maximize"]:[]),y=[gt.config({disabled:()=>e.disabled||t.checkUiComponentContext(e.context).shouldDisable,onDisabled:T=>{mn.getField(T).each(gt.disable)},onEnabled:T=>{mn.getField(T).each(gt.enable)}}),qo(()=>t.checkUiComponentContext(e.context))];return Sh(n,d,f,y)},Ez=(e,t,n)=>X5({name:e.name,multiline:!1,label:e.label,inputMode:e.inputMode,placeholder:e.placeholder,flex:!1,disabled:!e.enabled,classname:"tox-textfield",validation:h.none(),maximized:e.maximized,data:n,context:e.context},t),Mz=(e,t,n)=>X5({name:e.name,multiline:!0,label:e.label,inputMode:h.none(),placeholder:e.placeholder,flex:!0,disabled:!e.enabled,classname:"tox-textarea",validation:h.none(),maximized:e.maximized,data:n,context:e.context},t),J5=e=>({isEnabled:()=>!gt.isDisabled(e),setEnabled:t=>gt.set(e,!t),setActive:t=>{const n=e.element;t?(Ro(n,"tox-tbtn--enabled"),Lt(n,"aria-pressed",!0)):(Lo(n,"tox-tbtn--enabled"),Fo(n,"aria-pressed"))},isActive:()=>xr(e.element,"tox-tbtn--enabled"),setTooltip:t=>{Ct(e,Z5,{text:t})},setText:t=>{Ct(e,tc,{text:t})},setIcon:t=>Ct(e,qu,{icon:t})}),Ah=(e,t,n,o,s=!0,r)=>{const a=e.buttonType==="bordered"?["bordered"]:[];return W2({text:e.text,icon:e.icon,tooltip:e.tooltip,ariaLabel:e.tooltip,searchable:e.search.isSome(),role:o,fetch:(c,i)=>{const d={pattern:e.search.isSome()?TV(c):""};e.fetch(g=>{i(Xd(g,kc.CLOSE_ON_EXECUTE,n,{isHorizontalMenu:!1,search:e.search}))},d,J5(c))},onSetup:e.onSetup,getApi:c=>J5(c),columns:1,presets:"normal",classes:a,dropdownBehaviours:[...s?[co.config({})]:[]],context:e.context},t,n.shared,r)},_z=(e,t,n)=>{const o=r=>a=>{const c=!a.isActive();a.setActive(c),r.storage.set(c),n.shared.getSink().each(i=>{t().getOpt(i).each(d=>{jo(d.element),Ct(d,Ci,{name:r.name,value:r.storage.get()})})})},s=r=>a=>{a.setActive(r.storage.get())};return r=>{r(re(e,a=>{const c=a.text.fold(()=>({}),i=>({text:i}));return{type:a.type,active:!1,...c,context:a.context,onAction:o(a),onSetup:s(a)}}))}},Q5=e=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{"aria-label":e}},components:[To(e)]}),eT=(e,t,n)=>{e.customStateIcon.each(o=>t.push(nT(o,n.shared.providers.icons,e.customStateIconTooltip.fold(()=>[],s=>[ko.config(n.shared.providers.tooltips.getConfig({tooltipText:s}))]),["tox-icon-custom-state"])))},tT=O("leaf-label-event-id"),G2=({leaf:e,onLeafAction:t,visible:n,treeId:o,selectedId:s,backstage:r})=>{const a=e.menu.map(i=>Ah(i,"tox-mbtn",r,h.none(),n)),c=[Q5(e.title)];return eT(e,c,r),a.each(i=>c.push(i)),Bs.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(n?["tox-tree--leaf__label--visible"]:[])},components:c,role:"treeitem",action:i=>{t(e.id),i.getSystem().broadcastOn([`update-active-item-${o}`],{value:e.id})},eventOrder:{[Nc()]:[tT,"keying"]},buttonBehaviours:Fe([...n?[co.config({})]:[],tn.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),ua.config({channels:{[`update-active-item-${o}`]:{onReceive:(i,d)=>{(d.value===e.id?tn.on:tn.off)(i)}}}}),Pt(tT,[vo((i,d)=>{s.each(g=>{(g===e.id?tn.on:tn.off)(i)})}),le(Nc(),(i,d)=>{const g=d.event.raw.code==="ArrowLeft",f=d.event.raw.code==="ArrowRight";g?(ja(i.element,".tox-tree--directory").each(y=>{i.getSystem().getByDom(y).each(T=>{Cm(y,".tox-tree--directory__label").each(_=>{T.getSystem().getByDom(_).each(It.focus)})})}),d.stop()):f&&d.stop()})])])})},nT=(e,t,n,o,s)=>$a(e,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"].concat(o||[]),behaviours:n,attributes:s},t),Dz=(e,t)=>nT(e,t,[]),oT=O("directory-label-event-id"),Fz=({directory:e,visible:t,noChildren:n,backstage:o})=>{const s=e.menu.map(c=>Ah(c,"tox-mbtn",o,h.none())),r=[{dom:{tag:"div",classes:["tox-chevron"]},components:[Dz("chevron-right",o.shared.providers.icons)]},Q5(e.title)];eT(e,r,o),s.each(c=>{r.push(c)});const a=c=>{ja(c.element,".tox-tree--directory").each(i=>{c.getSystem().getByDom(i).each(d=>{const g=!tn.isOn(d);tn.toggle(d),Ct(c,"expand-tree-node",{expanded:g,node:e.id})})})};return Bs.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(t?["tox-tree--directory__label--visible"]:[])},components:r,action:a,eventOrder:{[Nc()]:[oT,"keying"]},buttonBehaviours:Fe([...t?[co.config({})]:[],Pt(oT,[le(Nc(),(c,i)=>{const d=i.event.raw.code==="ArrowRight",g=i.event.raw.code==="ArrowLeft";d&&n&&i.stop(),(d||g)&&ja(c.element,".tox-tree--directory").each(f=>{c.getSystem().getByDom(f).each(y=>{!tn.isOn(y)&&d||tn.isOn(y)&&g?(a(c),i.stop()):g&&!tn.isOn(y)&&(ja(y.element,".tox-tree--directory").each(T=>{Cm(T,".tox-tree--directory__label").each(_=>{y.getSystem().getByDom(_).each(It.focus)})}),i.stop())})})})])])})},Iz=({children:e,onLeafAction:t,visible:n,treeId:o,expandedIds:s,selectedId:r,backstage:a})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:e.map(c=>c.type==="leaf"?G2({leaf:c,selectedId:r,onLeafAction:t,visible:n,treeId:o,backstage:a}):q2({directory:c,expandedIds:s,selectedId:r,onLeafAction:t,labelTabstopping:n,treeId:o,backstage:a})),behaviours:Fe([qr.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:n}),zt.config({})])}),$z=O("directory-event-id"),q2=({directory:e,onLeafAction:t,labelTabstopping:n,treeId:o,backstage:s,expandedIds:r,selectedId:a})=>{const{children:c}=e,i=ot(r),d=f=>c.map(y=>y.type==="leaf"?G2({leaf:y,selectedId:a,onLeafAction:t,visible:f,treeId:o,backstage:s}):q2({directory:y,expandedIds:i.get(),selectedId:a,onLeafAction:t,labelTabstopping:f,treeId:o,backstage:s})),g=r.includes(e.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[Fz({directory:e,visible:n,noChildren:e.children.length===0,backstage:s}),Iz({children:c,expandedIds:r,selectedId:a,onLeafAction:t,visible:g,treeId:o,backstage:s})],behaviours:Fe([Pt($z,[vo((f,y)=>{tn.set(f,g)}),le("expand-tree-node",(f,y)=>{const{expanded:T,node:_}=y.event;i.set(T?[...i.get(),_]:i.get().filter(L=>L!==_))})]),tn.config({...e.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(f,y)=>{const T=f.components()[1],_=d(y);y?qr.grow(T):qr.shrink(T),zt.set(T,_)}})])}},Hz=O("tree-event-id"),Rz=(e,t)=>{const n=e.onLeafAction.getOr(ce),o=e.onToggleExpand.getOr(ce),s=e.defaultExpandedIds,r=ot(s),a=ot(e.defaultSelectedId),c=O("tree-id"),i=(d,g)=>e.items.map(f=>f.type==="leaf"?G2({leaf:f,selectedId:d,onLeafAction:n,visible:!0,treeId:c,backstage:t}):q2({directory:f,selectedId:d,onLeafAction:n,expandedIds:g,labelTabstopping:!0,treeId:c,backstage:t}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:i(a.get(),r.get()),behaviours:Fe([pt.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),Pt(Hz,[le("expand-tree-node",(d,g)=>{const{expanded:f,node:y}=g.event;r.set(f?[...r.get(),y]:r.get().filter(T=>T!==y)),o(r.get(),{expanded:f,node:y})})]),ua.config({channels:{[`update-active-item-${c}`]:{onReceive:(d,g)=>{a.set(h.some(g.value)),zt.set(d,i(h.some(g.value),r.get()))}}}}),zt.config({})])}},Q1=(e,t,n=[],o,s,r,a)=>{const c=t.fold(()=>({}),g=>({action:g})),i={buttonBehaviours:Fe([ec.item(()=>!e.enabled||a.checkUiComponentContext(e.context).shouldDisable),qo(()=>a.checkUiComponentContext(e.context)),co.config({}),...r.map(g=>ko.config(a.tooltips.getConfig({tooltipText:a.translate(g)}))).toArray(),Pt("button press",[xA("click")])].concat(n)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...c},d=ke(i,{dom:o});return ke(d,{components:s})},Lz=(e,t,n,o=[],s)=>{const r=e.tooltip.map(d=>({"aria-label":n.translate(d)})).getOr({}),a={tag:"button",classes:["tox-tbtn"],attributes:{...r,"data-mce-name":s}},c=e.icon.map(d=>U2(d,n.icons)),i=Kd([c]);return Q1(e,t,o,a,i,e.tooltip,n)},K2=e=>{switch(e){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];case"secondary":default:return["tox-button","tox-button--secondary"]}},sT=(e,t,n,o=[],s=[])=>{const r=n.translate(e.text),a=e.icon.map(T=>U2(T,n.icons)),c=[a.getOrThunk(()=>To(r))],i=e.buttonType.getOr(!e.primary&&!e.borderless?"secondary":"primary"),f={tag:"button",classes:[...K2(i),...a.isSome()?["tox-button--icon"]:[],...e.borderless?["tox-button--naked"]:[],...s],attributes:{"aria-label":r,"data-mce-name":e.text}},y=e.icon.map(A(r));return Q1(e,t,o,f,c,y,n)},rT=(e,t,n,o=[],s=[])=>{const r=sT(e,h.some(t),n,o,s);return Bs.sketch(r)},aT=(e,t)=>n=>{t==="custom"?Ct(n,Ci,{name:e,value:{}}):t==="submit"?Cn(n,Th):t==="cancel"?Cn(n,Nl):console.error("Unknown button type: ",t)},Pz=(e,t)=>t==="menu",Bz=(e,t)=>t==="custom"||t==="cancel"||t==="submit",Nz=(e,t)=>t==="togglebutton",Vz=(e,t,n)=>{var o,s;const r=e.icon.map(G=>zl(G,t.icons)).map(Vn),a=G=>{Ct(G,Ci,{name:e.name,value:{setIcon:oe=>{r.map(ae=>ae.getOpt(G).each(ze=>{zt.set(ze,[zl(oe,t.icons)])}))}}})},c=e.buttonType.getOr(e.primary?"primary":"secondary"),i={...e,name:(o=e.name)!==null&&o!==void 0?o:"",primary:c==="primary",tooltip:e.tooltip,enabled:(s=e.enabled)!==null&&s!==void 0?s:!1,borderless:!1},d=i.tooltip.or(e.text).map(G=>({"aria-label":t.translate(G)})).getOr({}),g=K2(c??"secondary"),f=e.icon.isSome()&&e.text.isSome(),y={tag:"button",classes:[...g.concat(e.icon.isSome()?["tox-button--icon"]:[]),...e.active?["tox-button--enabled"]:[],...f?["tox-button--icon-and-text"]:[]],attributes:{...d,...Xe(n)?{"data-mce-name":n}:{}}},T=[],_=t.translate(e.text.getOr("")),L=To(_),R=[...Kd([r.map(G=>G.asSpec())]),...e.text.isSome()?[L]:[]],W=Q1(i,h.some(a),T,y,R,e.tooltip,t);return Bs.sketch(W)},ep=(e,t,n)=>{if(Pz(e,t)){const o=()=>a,s=e,r={...e,buttonType:"default",type:"menubutton",search:h.none(),onSetup:c=>(c.setEnabled(e.enabled),ce),fetch:_z(s.items,o,n)},a=Vn(Ah(r,"tox-tbtn",n,h.none(),!0,e.text.or(e.tooltip).getOrUndefined()));return a.asSpec()}else if(Bz(e,t)){const o=aT(e.name,t),s={...e,context:t==="cancel"?"any":e.context,borderless:!1};return rT(s,o,n.shared.providers,[])}else{if(Nz(e,t))return Vz(e,n.shared.providers,e.text.or(e.tooltip).getOrUndefined());throw console.error("Unknown footer button type: ",t),new Error("Unknown footer button type")}},zz=(e,t)=>{const n=aT(e.name,"custom");return FV(h.none(),mn.parts.field({factory:Bs,...sT(e,h.some(n),t,[G1(""),Ac.self()])}))},Zz={type:"separator"},Uz=e=>({type:"menuitem",value:e.url,text:e.title,meta:{attach:e.attach},onAction:ce}),Y2=(e,t)=>({type:"menuitem",value:t,text:e,meta:{attach:void 0},onAction:ce}),Wz=e=>re(e,Uz),jz=(e,t)=>jt(t,n=>n.type===e),cT=(e,t)=>Wz(jz(e,t)),Gz=e=>cT("header",e.targets),qz=e=>cT("anchor",e.targets),Kz=e=>h.from(e.anchorTop).map(t=>Y2("<top>",t)).toArray(),Yz=e=>h.from(e.anchorBottom).map(t=>Y2("<bottom>",t)).toArray(),Xz=e=>re(e,t=>Y2(t,t)),Jz=e=>On(e,(t,n)=>t.length===0||n.length===0?t.concat(n):t.concat(Zz,n),[]),X2=(e,t)=>{const n=e.toLowerCase();return jt(t,o=>{var s;const r=o.meta!==void 0&&o.meta.text!==void 0?o.meta.text:o.text,a=(s=o.value)!==null&&s!==void 0?s:"";return Eo(r.toLowerCase(),n)||Eo(a.toLowerCase(),n)})},Qz=(e,t,n)=>{var o,s;const r=Ye.getValue(t),a=(s=(o=r==null?void 0:r.meta)===null||o===void 0?void 0:o.text)!==null&&s!==void 0?s:r.value;return n.getLinkInformation().fold(()=>[],i=>{const d=X2(a,Xz(n.getHistory(e)));return e==="file"?Jz([d,X2(a,Gz(i)),X2(a,je([Kz(i),qz(i),Yz(i)]))]):d})},iT=O("aria-invalid"),eZ=(e,t,n,o)=>{const s=t.shared.providers,r=W=>{const G=Ye.getValue(W);n.addToHistory(G.value,e.filetype)},a={...o.map(W=>({initialData:W})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":iT,type:"url"},minChars:0,responseTime:0,fetch:W=>{const G=Qz(e.filetype,W,n),oe=Xd(G,kc.BUBBLE_TO_SANDBOX,t,{isHorizontalMenu:!1,search:h.none()});return An.pure(oe)},getHotspot:W=>_.getOpt(W),onSetValue:(W,G)=>{W.hasConfigured(xi)&&xi.run(W).get(ce)},typeaheadBehaviours:Fe([...n.getValidationHandler().map(W=>xi.config({getRoot:G=>vr(G.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(G,oe)=>{g.getOpt(G).each(ae=>{Lt(ae.element,"title",s.translate(oe))})}},validator:{validate:G=>{const oe=Ye.getValue(G);return xt.nu(ae=>{W({type:e.filetype,url:oe.value},ze=>{if(ze.status==="invalid"){const Ke=Ot.error(ze.message);ae(Ke)}else{const Ke=Ot.value(ze.message);ae(Ke)}})})},validateOnLoad:!1}})).toArray(),gt.config({disabled:()=>!e.enabled||s.checkUiComponentContext(e.context).shouldDisable}),co.config({}),Pt("urlinput-events",[le(Ni(),W=>{const G=ic(W.element),oe=G.trim();oe!==G&&lc(W.element,oe),e.filetype==="file"&&Ct(W,Kr,{name:e.name})}),le(kd(),W=>{Ct(W,Kr,{name:e.name}),r(W)}),le(yf(),W=>{Ct(W,Kr,{name:e.name}),r(W)})])]),eventOrder:{[Ni()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:W=>W.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:t.shared.getSink,parts:{menu:$1(!1,1,"normal")},onExecute:(W,G,oe)=>{Ct(G,Th,{})},onItemExecute:(W,G,oe,ae)=>{r(W),Ct(W,Kr,{name:e.name})}},c=mn.parts.field({...a,factory:XH}),i=e.label.map(W=>Bl(W,s)),g=Vn(((W,G,oe=W,ae=W)=>$a(oe,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+W],attributes:{title:s.translate(ae),"aria-live":"polite",...G.fold(()=>({}),ze=>({id:ze}))}},s.icons))("invalid",h.some(iT),"warning")),f=Vn({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[g.asSpec()]}),y=n.getUrlPicker(e.filetype),T=O("browser.url.event"),_=Vn({dom:{tag:"div",classes:["tox-control-wrap"]},components:[c,f.asSpec()],behaviours:Fe([gt.config({disabled:()=>!e.enabled||s.checkUiComponentContext(e.context).shouldDisable})])}),L=Vn(rT({context:e.context,name:e.name,icon:h.some("browse"),text:e.picker_text.or(e.label).getOr(""),enabled:e.enabled,primary:!1,buttonType:h.none(),borderless:!0},W=>Cn(W,T),s,[],["tox-browse-url"])),z=()=>({dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:je([[_.asSpec()],y.map(()=>L.asSpec()).toArray()])}),R=W=>{En.getCurrent(W).each(G=>{const oe=Ye.getValue(G),ae={fieldname:e.name,...oe};y.each(ze=>{ze(ae).get(Ke=>{Ye.setValue(G,Ke),Ct(W,Kr,{name:e.name})})})})};return mn.sketch({dom:$V(),components:i.toArray().concat([z()]),fieldBehaviours:Fe([gt.config({disabled:()=>!e.enabled||s.checkUiComponentContext(e.context).shouldDisable,onDisabled:W=>{mn.getField(W).each(gt.disable),L.getOpt(W).each(gt.disable)},onEnabled:W=>{mn.getField(W).each(gt.enable),L.getOpt(W).each(gt.enable)}}),qo(()=>s.checkUiComponentContext(e.context)),Pt("url-input-events",[le(T,R)])])})},tZ=(e,t)=>{const n=US(e.icon,t.icons);return jc.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${e.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:e.url?void 0:n},components:e.url?[Bs.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:n,attributes:{title:t.translate(e.iconTooltip)}},action:o=>Ct(o,Ci,{name:"alert-banner",value:e.url}),buttonBehaviours:Fe([WS()])})]:void 0},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:t.translate(e.text)}}]})},nZ=(e,t,n)=>{const o=i=>(i.element.dom.click(),h.some(!0)),s=mn.parts.field({factory:{sketch:Ve},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Fe([Ac.self(),gt.config({disabled:()=>!e.enabled||t.checkUiComponentContext(e.context).shouldDisable,onDisabled:i=>{vr(i.element).each(d=>Ro(d,"tox-checkbox--disabled"))},onEnabled:i=>{vr(i.element).each(d=>Lo(d,"tox-checkbox--disabled"))}}),co.config({}),It.config({}),C5(n,Jp,Xp),pt.config({mode:"special",onEnter:o,onSpace:o,stopSpaceKeyup:!0}),Pt("checkbox-events",[le(kd(),(i,d)=>{Ct(i,Kr,{name:e.name})})])])}),r=mn.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[To(t.translate(e.label))],behaviours:Fe([Qm.config({})])}),a=i=>$a(i==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+i]},t.icons),c=Vn({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[a("checked"),a("unchecked")]});return mn.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[s,c.asSpec(),r],fieldBehaviours:Fe([gt.config({disabled:()=>!e.enabled||t.checkUiComponentContext(e.context).shouldDisable}),qo(()=>t.checkUiComponentContext(e.context))])})},oZ=(e,t)=>{const n=["tox-form__group",...e.stretched?["tox-form__group--stretched"]:[]],o=Pt("htmlpanel",[vo(s=>{e.onInit(s.element.dom)})]);return e.presets==="presentation"?jc.sketch({dom:{tag:"div",classes:n,innerHtml:e.html},containerBehaviours:Fe([ko.config({...t.tooltips.getConfig({tooltipText:"",onShow:s=>{Qn(s.element,"[data-mce-tooltip]:hover").orThunk(()=>bs(s.element)).each(r=>{es(r,"data-mce-tooltip").each(a=>{ko.setComponents(s,t.tooltips.getComponents({tooltipText:a}))})})}}),mode:"children-normal",anchor:s=>({type:"node",node:Qn(s.element,"[data-mce-tooltip]:hover").orThunk(()=>bs(s.element).filter(r=>es(r,"data-mce-tooltip").isSome())),root:s.element,layouts:{onLtr:A([us,Ts,is,Xs,ls,Js]),onRtl:A([us,Ts,is,Xs,ls,Js])},bubble:fc(0,-2,{})})}),o])}):jc.sketch({dom:{tag:"div",classes:n,innerHtml:e.html,attributes:{role:"document"}},containerBehaviours:Fe([co.config({}),It.config({}),o])})},ms=e=>(t,n,o,s,r)=>lt(n,"name").fold(()=>e(n,s,h.none(),r),a=>t.field(a,e(n,s,lt(o,a),r))),sZ=e=>(t,n,o,s,r)=>{const a=ke(n,{source:"dynamic"});return ms(e)(t,a,o,s,r)},rZ={bar:ms((e,t)=>_V(e,t.shared)),collection:ms((e,t,n)=>HV(e,t.shared.providers,n)),alertbanner:ms((e,t)=>tZ(e,t.shared.providers)),input:ms((e,t,n)=>Ez(e,t.shared.providers,n)),textarea:ms((e,t,n)=>Mz(e,t.shared.providers,n)),label:ms((e,t,n,o)=>dz(e,t.shared,o)),iframe:sZ((e,t,n)=>cz(e,t.shared.providers,n)),button:ms((e,t)=>zz(e,t.shared.providers)),checkbox:ms((e,t,n)=>nZ(e,t.shared.providers,n)),colorinput:ms((e,t,n)=>LV(e,t.shared,t.colorinput,n)),colorpicker:ms((e,t,n)=>qV(e,t.shared.providers,n)),dropzone:ms((e,t,n)=>JV(e,t.shared.providers,n)),grid:ms((e,t)=>QV(e,t.shared)),listbox:ms((e,t,n)=>wz(e,t,n)),selectbox:ms((e,t,n)=>Cz(e,t.shared.providers,n)),sizeinput:ms((e,t)=>kz(e,t.shared.providers)),slider:ms((e,t,n)=>Oz(e,t.shared.providers,n)),urlinput:ms((e,t,n)=>eZ(e,t,t.urlinput,n)),customeditor:ms(YV),htmlpanel:ms((e,t)=>oZ(e,t.shared.providers)),imagepreview:ms((e,t,n)=>uz(e,n)),table:ms((e,t)=>Az(e,t.shared.providers)),tree:ms((e,t)=>Rz(e,t)),panel:ms((e,t)=>Sz(e,t))},aZ={field:(e,t)=>t,record:A([])},lT=(e,t,n,o,s)=>{const r=ke(o,{shared:{interpreter:a=>J2(e,a,n,r,s)}});return J2(e,t,n,r,s)},J2=(e,t,n,o,s)=>lt(rZ,t.type).fold(()=>(console.error(`Unknown factory type "${t.type}", defaulting to container: `,t),t),r=>r(e,t,n,o,s)),uT=(e,t,n,o)=>J2(aZ,e,t,n,o),Eh={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},cZ=(e,t,n)=>{const s={maxHeightFunction:Ad()},r=()=>({type:"node",root:di(Is(e())),node:h.from(e()),bubble:fc(12,12,Eh),layouts:{onRtl:()=>[Pm],onLtr:()=>[Lm]},overrides:s}),a=()=>({type:"hotspot",hotspot:t(),bubble:fc(-12,12,Eh),layouts:{onRtl:()=>[is,ls,us],onLtr:()=>[ls,is,us]},overrides:s});return()=>n()?r():a()},iZ=(e,t,n,o)=>{const r={maxHeightFunction:Ad()},a=()=>({type:"node",root:di(Is(t())),node:h.from(t()),bubble:fc(12,12,Eh),layouts:{onRtl:()=>[bc],onLtr:()=>[bc]},overrides:r}),c=()=>e?{type:"node",root:di(Is(t())),node:h.from(t()),bubble:fc(0,-ho(t()),Eh),layouts:{onRtl:()=>[Ts],onLtr:()=>[Ts]},overrides:r}:{type:"hotspot",hotspot:n(),bubble:fc(0,0,Eh),layouts:{onRtl:()=>[Ts],onLtr:()=>[Ts]},overrides:r};return()=>o()?a():c()},lZ=(e,t,n)=>{const o=()=>({type:"node",root:di(Is(e())),node:h.from(e()),layouts:{onRtl:()=>[bc],onLtr:()=>[bc]}}),s=()=>({type:"hotspot",hotspot:t(),layouts:{onRtl:()=>[us],onLtr:()=>[us]}});return()=>n()?o():s()},uZ=(e,t)=>()=>({type:"selection",root:t(),getSelection:()=>{const n=e.selection.getRng(),o=e.model.table.getSelectedCells();if(o.length>1){const s=o[0],r=o[o.length-1],a={firstCell:Be.fromDom(s),lastCell:Be.fromDom(r)};return h.some(a)}return h.some(Ga.range(Be.fromDom(n.startContainer),n.startOffset,Be.fromDom(n.endContainer),n.endOffset))}}),dZ=e=>t=>({type:"node",root:e(),node:t}),mZ=(e,t,n,o)=>{const s=zd(e),r=()=>Be.fromDom(e.getBody()),a=()=>Be.fromDom(e.getContentAreaContainer()),c=()=>s||!o();return{inlineDialog:cZ(a,t,c),inlineBottomDialog:iZ(e.inline,a,n,c),banner:lZ(a,t,c),cursor:uZ(e,r),node:dZ(r)}},hZ=e=>(t,n)=>{l5(e)(t,n)},gZ=e=>()=>t5(e),pZ=e=>t=>U1(e,t),fZ=e=>t=>e5(e,t),bZ=e=>({colorPicker:hZ(e),hasCustomColors:gZ(e),getColors:pZ(e),getColorCols:fZ(e)}),vZ=e=>()=>uS(e),yZ=e=>({isDraggableModal:vZ(e)}),xZ=e=>{const t=ot(Fb(e)?"bottom":"top");return{isPositionedAtTop:()=>t.get()==="top",getDockingMode:t.get,setDockingMode:t.set}},dT=e=>mo(e,"items"),mT=e=>mo(e,"format"),hT=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],wZ=e=>Nt(e,"items"),SZ=e=>Nt(e,"block"),CZ=e=>Nt(e,"inline"),TZ=e=>Nt(e,"selector"),gT=e=>On(e,(t,n)=>{if(wZ(n)){const o=gT(n.items);return{customFormats:t.customFormats.concat(o.customFormats),formats:t.formats.concat([{title:n.title,items:o.formats}])}}else if(CZ(n)||SZ(n)||TZ(n)){const s=`custom-${X(n.name)?n.name:n.title.toLowerCase()}`;return{customFormats:t.customFormats.concat([{name:s,format:n}]),formats:t.formats.concat([{title:n.title,format:s,icon:n.icon}])}}else return{...t,formats:t.formats.concat(n)}},{customFormats:[],formats:[]}),kZ=(e,t)=>{const n=gT(t),o=s=>{_e(s,r=>{e.formatter.has(r.name)||e.formatter.register(r.name,r.format)})};return e.formatter?o(n.customFormats):e.on("init",()=>{o(n.customFormats)}),n.formats},pT=e=>qw(e).map(t=>{const n=kZ(e,t);return Kw(e)?hT.concat(n):n}).getOr(hT),OZ=e=>{const t=en(e);return t.length===1&&Ee(t,"title")},fT=(e,t,n)=>({...e,type:"formatter",isSelected:t(e.format),getStylePreview:n(e.format)}),bT=(e,t,n,o)=>{const s=i=>fT(i,n,o),r=i=>{const d=c(i.items);return{...i,type:"submenu",getStyleItems:A(d)}},a=i=>{const d=X(i.name)?i.name:O(i.title),g=`custom-${d}`,f={...i,type:"formatter",format:g,isSelected:n(g),getStylePreview:o(g)};return e.formatter.register(d,f),f},c=i=>re(i,d=>dT(d)?r(d):mT(d)?s(d):OZ(d)?{...d,type:"separator"}:a(d));return c(t)},AZ=e=>{const t=c=>()=>e.formatter.match(c),n=c=>()=>{const i=e.formatter.get(c);return i!==void 0?h.some({tag:i.length>0&&(i[0].inline||i[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(c))}):h.none()},o=ot([]),s=ot([]),r=ot(!1);return e.on("PreInit",c=>{const i=pT(e),d=bT(e,i,t,n);o.set(d)}),e.on("addStyleModifications",c=>{const i=bT(e,c.items,t,n);s.set(i),r.set(c.replace)}),{getData:()=>{const c=r.get()?[]:o.get(),i=s.get();return c.concat(i)}}},EZ=e=>{let o=0;const s=()=>o>0,r=c=>[{dom:{tag:"div",classes:["tox-tooltip__body"]},components:[To(c.tooltipText)]}];return{getConfig:c=>({delayForShow:()=>s()?60:300,delayForHide:A(300),exclusive:!0,lazySink:e,tooltipDom:{tag:"div",classes:["tox-tooltip","tox-tooltip--up"]},tooltipComponents:r(c),onShow:(i,d)=>{o++,c.onShow&&c.onShow(i,d)},onHide:(i,d)=>{o--,c.onHide&&c.onHide(i,d)},onSetup:c.onSetup}),getComponents:r}},MZ=e=>Xe(e)&&e.nodeType===1,_Z=Qi.trim,vT=e=>t=>!!(MZ(t)&&(t.contentEditable===e||t.getAttribute("data-mce-contenteditable")===e)),DZ=vT("true"),FZ=vT("false"),yT=(e,t,n,o,s)=>({type:e,title:t,url:n,level:o,attach:s}),IZ=e=>{let t=e;for(;t=t.parentNode;){const n=t.contentEditable;if(n&&n!=="inherit")return DZ(t)}return!1},$Z=(e,t)=>re(js(Be.fromDom(t),e),n=>n.dom),xT=e=>e.innerText||e.textContent,HZ=e=>e.id?e.id:O("h"),RZ=e=>e&&e.nodeName==="A"&&(e.id||e.name)!==void 0,LZ=e=>RZ(e)&&ST(e),wT=e=>e&&/^(H[1-6])$/.test(e.nodeName),ST=e=>IZ(e)&&!FZ(e),PZ=e=>wT(e)&&ST(e),BZ=e=>wT(e)?parseInt(e.nodeName.substr(1),10):0,NZ=e=>{var t;const n=HZ(e),o=()=>{e.id=n};return yT("header",(t=xT(e))!==null&&t!==void 0?t:"","#"+n,BZ(e),o)},VZ=e=>{const t=e.id||e.name,n=xT(e);return yT("anchor",n||"#"+t,"#"+t,0,ce)},zZ=e=>re(jt(e,PZ),NZ),ZZ=e=>re(jt(e,LZ),VZ),UZ=e=>$Z("h1,h2,h3,h4,h5,h6,a:not([href])",e),WZ=e=>_Z(e.title).length>0,jZ={find:e=>{const t=UZ(e);return jt(zZ(t).concat(ZZ(t)),WZ)}},tp="tinymce-url-history",CT=5,TT=e=>X(e)&&/^https?/.test(e),GZ=e=>$e(e)&&e.length<=CT&&Ft(e,TT),kT=e=>De(e)&&oo(e,t=>!GZ(t)).isNone(),OT=()=>{const e=ju.getItem(tp);if(e===null)return{};let t;try{t=JSON.parse(e)}catch(n){if(n instanceof SyntaxError)return console.log("Local storage "+tp+" was not valid JSON",n),{};throw n}return kT(t)?t:(console.log("Local storage "+tp+" was not valid format",t),{})},qZ=e=>{if(!kT(e))throw new Error(`Bad format for history:
`+JSON.stringify(e));ju.setItem(tp,JSON.stringify(e))},KZ=e=>{const t=OT();return lt(t,e).getOr([])},YZ=(e,t)=>{if(!TT(e))return;const n=OT(),o=lt(n,t).getOr([]),s=jt(o,r=>r!==e);n[t]=[e].concat(s).slice(0,CT),qZ(n)},AT=e=>!!e,XZ=e=>ge(Qi.makeMap(e,/[, ]/),AT),Q2=e=>h.from(oS(e)),JZ=e=>{const t=h.from(aS(e)).filter(AT).map(XZ);return Q2(e).fold(ue,n=>t.fold(st,o=>en(o).length>0?o:!1))},QZ=(e,t)=>{const n=JZ(e);return Re(n)?n?Q2(e):h.none():n[t]?Q2(e):h.none()},eU=(e,t)=>QZ(e,t).map(n=>o=>An.nu(s=>{const r=(c,i)=>{if(!X(c))throw new Error("Expected value to be string");if(i!==void 0&&!De(i))throw new Error("Expected meta to be a object");s({value:c,meta:i})},a={filetype:t,fieldname:o.fieldname,...h.from(o.meta).getOr({})};n.call(e,r,o.value,a)})),ET=e=>h.from(e).filter(X).getOrUndefined(),tU=e=>cS(e)?h.some({targets:jZ.find(e.getBody()),anchorTop:ET(iS(e)),anchorBottom:ET(lS(e))}):h.none(),nU=e=>h.from(sS(e)),oU=e=>({getHistory:KZ,addToHistory:YZ,getLinkInformation:()=>tU(e),getValidationHandler:()=>nU(e),getUrlPicker:t=>eU(e,t)}),sU=(e,t,n,o)=>{const s=ot(!1),r=xZ(t),a={icons:()=>t.ui.registry.getAll().icons,menuItems:()=>t.ui.registry.getAll().menuItems,translate:Ja.translate,isDisabled:()=>!t.ui.isEnabled(),getOption:t.options.get,tooltips:EZ(e.dialog),checkUiComponentContext:R=>{if(k1(t))return{contextType:"disabled",shouldDisable:!0};const[W,G=""]=R.split(":"),oe=t.ui.registry.getAll().contexts,ae=lt(oe,W).fold(()=>lt(oe,"mode").map(ze=>ze("design")).getOr(!1),ze=>G.charAt(0)==="!"?!ze(G.slice(1)):ze(G));return{contextType:W,shouldDisable:!ae}}},c=oU(t),i=AZ(t),d=bZ(t),g=yZ(t),f=()=>s.get(),y=R=>s.set(R),T={shared:{providers:a,anchors:mZ(t,n,o,r.isPositionedAtTop),header:r},urlinput:c,styles:i,colorinput:d,dialog:g,isContextMenuOpen:f,setContextMenuState:y},_=R=>h.none(),L={...T,shared:{...T.shared,interpreter:R=>uT(R,{},L,_),getSink:e.popup}},z={...T,shared:{...T.shared,interpreter:R=>uT(R,{},z,_),getSink:e.dialog}};return{popup:L,dialog:z}},rU=(e,t,n)=>{const o=(Y,qe)=>{_e([t,...n],vt=>{vt.broadcastEvent(Y,qe)})},s=(Y,qe)=>{_e([t,...n],vt=>{vt.broadcastOn([Y],qe)})},r=Y=>s(qi(),{target:Y.target}),a=Sa(),c=Xo(a,"touchstart",r),i=Xo(a,"touchmove",Y=>o(wO(),Y)),d=Xo(a,"touchend",Y=>o(SO(),Y)),g=Xo(a,"mousedown",r),f=Xo(a,"mouseup",Y=>{Y.raw.button===0&&s(q0(),{target:Y.target})}),y=Y=>s(qi(),{target:Be.fromDom(Y.target)}),T=Y=>{Y.button===0&&s(q0(),{target:Be.fromDom(Y.target)})},_=()=>{_e(e.editorManager.get(),Y=>{e!==Y&&Y.dispatch("DismissPopups",{relatedTarget:e})})},L=Y=>o(wf(),od(Y)),z=Y=>{s(Ml(),{}),o(Rm(),od(Y))},R=Is(Be.fromDom(e.getElement())),W=Xl(R,"scroll",Y=>{requestAnimationFrame(()=>{const qe=e.getContainer();if(qe!=null){const ct=$l(e,t.element).map(nn=>[nn.element,...nn.others]).getOr([]);Dt(ct,nn=>dn(nn,Y.target))&&(e.dispatch("ElementScroll",{target:Y.target.dom}),o(xy(),Y))}})}),G=()=>s(Ml(),{}),oe=Y=>{Y.state&&s(qi(),{target:Be.fromDom(e.getContainer())})},ae=Y=>{s(qi(),{target:Be.fromDom(Y.relatedTarget.getContainer())})},ze=Y=>e.dispatch("focusin",Y),Ke=Y=>e.dispatch("focusout",Y);e.on("PostRender",()=>{e.on("click",y),e.on("tap",y),e.on("mouseup",T),e.on("mousedown",_),e.on("ScrollWindow",L),e.on("ResizeWindow",z),e.on("ResizeEditor",G),e.on("AfterProgressState",oe),e.on("DismissPopups",ae),_e([t,...n],Y=>{Y.element.dom.addEventListener("focusin",ze),Y.element.dom.addEventListener("focusout",Ke)})}),e.on("remove",()=>{e.off("click",y),e.off("tap",y),e.off("mouseup",T),e.off("mousedown",_),e.off("ScrollWindow",L),e.off("ResizeWindow",z),e.off("ResizeEditor",G),e.off("AfterProgressState",oe),e.off("DismissPopups",ae),_e([t,...n],Y=>{Y.element.dom.removeEventListener("focusin",ze),Y.element.dom.removeEventListener("focusout",Ke)}),g.unbind(),c.unbind(),i.unbind(),d.unbind(),f.unbind(),W.unbind()}),e.on("detach",()=>{_e([t,...n],SE),_e([t,...n],Y=>Y.destroy())})},aU=ce,cU=ue,MT=A([]);var iU=Object.freeze({__proto__:null,setup:aU,isDocked:cU,getBehaviours:MT});const ev=A(O("toolbar-height-change")),Ti={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},_T="tox-tinymce--toolbar-sticky-on",DT="tox-tinymce--toolbar-sticky-off",lU=(e,t)=>{const n=$r(t),s=wa(t).dom.innerHeight,r=Rr(n),a=Be.fromDom(e.elm),c=mu(a),i=pn(a),d=c.y,g=d+i,f=Hr(t),y=pn(t),T=f.top,_=T+y,L=Math.abs(T-r.top)<2,z=Math.abs(_-(r.top+s))<2;if(L&&d<_)gd(r.left,d-y,n);else if(z&&g>T){const R=d-s+i+y;gd(r.left,R,n)}},np=(e,t)=>Ee(Do.getModes(e),t),tv=e=>{const t=o=>ho(o)+(parseInt(p(o,"margin-top"),10)||0)+(parseInt(p(o,"margin-bottom"),10)||0),n=e.element;vr(n).each(o=>{const s="padding-"+Do.getModes(e)[0];if(Do.isDocked(e)){const r=yr(o);Vt(n,"width",r+"px"),Vt(o,s,t(n)+"px")}else Ne(n,"width"),Ne(o,s)})},FT=(e,t)=>{t?(Lo(e,Ti.fadeOutClass),Ri(e,[Ti.transitionClass,Ti.fadeInClass])):(Lo(e,Ti.fadeInClass),Ri(e,[Ti.fadeOutClass,Ti.transitionClass]))},IT=(e,t)=>{const n=Be.fromDom(e.getContainer());t?(Ro(n,_T),Lo(n,DT)):(Ro(n,DT),Lo(n,_T))},uU=(e,t)=>{const n=$r(t);Ca(n).filter(o=>!dn(t,o)).filter(o=>dn(o,Be.fromDom(n.dom.body))||zr(e,o)).each(()=>jo(t))},dU=(e,t)=>bs(e).orThunk(()=>t().toOptional().bind(n=>bs(n.element))),mU=(e,t,n)=>{e.inline||(t.header.isPositionedAtTop()||e.on("ResizeEditor",()=>{n().each(Do.reset)}),e.on("ResizeWindow ResizeEditor",()=>{n().each(tv)}),e.on("SkinLoaded",()=>{n().each(o=>{Do.isDocked(o)?Do.reset(o):Do.refresh(o)})}),e.on("FullscreenStateChanged",()=>{n().each(Do.reset)})),e.on("AfterScrollIntoView",o=>{n().each(s=>{Do.refresh(s);const r=s.element;Hi(r)&&lU(o,r)})}),e.on("PostRender",()=>{IT(e,!1)})},hU=e=>e().map(Do.isDocked).getOr(!1),gU=()=>[ua.config({channels:{[ev()]:{onReceive:tv}}})],$T=(e,t)=>{const n=kn(),o=t.getSink,s=c=>{o().each(i=>c(i.element))},r=c=>{e.inline||tv(c),IT(e,Do.isDocked(c)),c.getSystem().broadcastOn([Ml()],{}),o().each(i=>i.getSystem().broadcastOn([Ml()],{}))},a=e.inline?[]:gU();return[It.config({}),Do.config({contextual:{lazyContext:c=>{const i=ho(c.element),d=e.inline?e.getContentAreaContainer():e.getContainer();return h.from(d).map(g=>{const f=Rs(Be.fromDom(g));return $l(e,c.element).fold(()=>{const T=f.height-i,_=f.y+(np(c,"top")?0:i);return Hs(f.x,_,f.width,T)},T=>{const _=af(f,Hu(T)),L=np(c,"top")?_.y:_.y+i;return Hs(_.x,L,_.width,_.height-i)})})},onShow:()=>{s(c=>FT(c,!0))},onShown:c=>{s(i=>ka(i,[Ti.transitionClass,Ti.fadeInClass])),n.get().each(i=>{uU(c.element,i),n.clear()})},onHide:c=>{dU(c.element,o).fold(n.clear,n.set),s(i=>FT(i,!1))},onHidden:()=>{s(c=>ka(c,[Ti.transitionClass]))},...Ti},lazyViewport:c=>$l(e,c.element).fold(()=>{const d=Sr(),g=tS(e),f=d.y+(np(c,"top")&&!OS(e)?g:0),y=d.height-(np(c,"bottom")?g:0);return{bounds:Hs(d.x,f,d.width,y),optScrollEnv:h.none()}},d=>({bounds:Hu(d),optScrollEnv:h.some({currentScrollTop:d.element.dom.scrollTop,scrollElmTop:Hr(d.element).top})})),modes:[t.header.getDockingMode()],onDocked:r,onUndocked:r}),...a]};var pU=Object.freeze({__proto__:null,setup:mU,isDocked:hU,getBehaviours:$T});const fU=e=>{const t=e.editor,n=e.sticky?$T:MT;return{uid:e.uid,dom:e.dom,components:e.components,behaviours:Fe(n(t,e.sharedBackstage))}};var nv=Fa({factory:(e,t)=>{const n=(s,r)=>{const a=re(r,c=>{const i={type:"menubutton",text:c.text,fetch:g=>{g(c.getItems())},context:"any"},d=mC(i).mapError(g=>Cd(g)).getOrDie();return Ah(d,"tox-mbtn",t.backstage,h.some("menuitem"))});zt.set(s,a)},o={focus:pt.focusIn,setMenus:n};return{uid:e.uid,dom:e.dom,components:[],behaviours:Fe([zt.config({}),Pt("menubar-events",[vo(s=>{e.onSetup(s)}),le(bi(),(s,r)=>{Qn(s.element,".tox-mbtn--active").each(a=>{cc(r.event.target,".tox-mbtn").each(c=>{dn(a,c)||s.getSystem().getByDom(a).each(i=>{s.getSystem().getByDom(c).each(d=>{Ia.expand(d),Ia.close(i),It.focus(d)})})})})}),le(fg(),(s,r)=>{r.event.prevFocus.bind(a=>s.getSystem().getByDom(a).toOptional()).each(a=>{r.event.newFocus.bind(c=>s.getSystem().getByDom(c).toOptional()).each(c=>{Ia.isOpen(a)&&(Ia.expand(c),Ia.close(a))})})})]),pt.config({mode:"flow",selector:".tox-mbtn",onEscape:s=>(e.onEscape(s),h.some(!0))}),co.config({})]),apis:o,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[ye("dom"),ye("uid"),ye("onEscape"),ye("backstage"),ee("onSetup",ce)],apis:{focus:(e,t)=>{e.focus(t)},setMenus:(e,t,n)=>{e.setMenus(t,n)}}});const bU="💝Get all features",vU="https://www.tiny.cloud/tinymce-upgrade-to-cloud/?utm_campaign=self_hosted_upgrade_promo&utm_source=tiny&utm_medium=referral",yU=e=>{const t=e.promotionLink?[{dom:{tag:"a",attributes:{href:vU,rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:bU}}]:[];return{uid:e.uid,dom:e.dom,components:t}},xU=e=>{const{sidebars:t}=e.ui.registry.getAll();_e(en(t),n=>{const o=t[n],s=()=>dt(h.from(e.queryCommandValue("ToggleSidebar")),n);e.ui.registry.addToggleButton(n,{icon:o.icon,tooltip:o.tooltip,onAction:r=>{e.execCommand("ToggleSidebar",!1,n),r.setActive(s())},onSetup:r=>{r.setActive(s());const a=()=>r.setActive(s());return e.on("ToggleSidebar",a),()=>{e.off("ToggleSidebar",a)}},context:"any"})})},wU=e=>({element:()=>e.element.dom}),SU=(e,t)=>{const n=re(en(t),o=>{const s=t[o],r=dc(HB(s));return{name:o,getApi:wU,onSetup:r.onSetup,onShow:r.onShow,onHide:r.onHide}});return re(n,o=>{const s=ot(ce);return e.slot(o.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:gh.unnamedEvents([Xc(o,s),Pl(o,s),le(Sf(),(r,a)=>{const c=a.event;ve(n,d=>d.name===c.name).each(d=>{(c.visible?d.onShow:d.onHide)(d.getApi(r))})})])})})},CU=e=>pr.sketch(t=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:SU(t,e),slotBehaviours:gh.unnamedEvents([vo(n=>pr.hideAllSlots(n))])})),TU=(e,t,n)=>{En.getCurrent(e).each(s=>{zt.set(s,[CU(t)]);const r=n==null?void 0:n.toLowerCase();X(r)&&Nt(t,r)&&En.getCurrent(s).each(a=>{pr.showSlot(a,r),qr.immediateGrow(s),Ne(s.element,"width"),op(e.element,"region")})})},op=(e,t)=>{Lt(e,"role",t)},kU=(e,t)=>{En.getCurrent(e).each(o=>{En.getCurrent(o).each(r=>{qr.hasGrown(o)?pr.isShowing(r,t)?(qr.shrink(o),op(e.element,"presentation")):(pr.hideAllSlots(r),pr.showSlot(r,t),op(e.element,"region")):(pr.hideAllSlots(r),pr.showSlot(r,t),qr.grow(o),op(e.element,"region"))})})},OU=e=>En.getCurrent(e).bind(n=>qr.isGrowing(n)||qr.hasGrown(n)?En.getCurrent(n).bind(r=>ve(pr.getSlotNames(r),a=>pr.isShowing(r,a))):h.none()),ov=O("FixSizeEvent"),sv=O("AutoSizeEvent"),AU=e=>({uid:e.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Fe([co.config({}),It.config({}),qr.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:t=>{En.getCurrent(t).each(pr.hideAllSlots),Cn(t,sv)},onGrown:t=>{Cn(t,sv)},onStartGrow:t=>{Ct(t,ov,{width:H(t.element,"width").getOr("")})},onStartShrink:t=>{Ct(t,ov,{width:yr(t.element)+"px"})}}),zt.config({}),En.config({find:t=>{const n=zt.contents(t);return Mt(n)}})])}],behaviours:Fe([Ac.childAt(0),Pt("sidebar-sliding-events",[le(ov,(t,n)=>{Vt(t.element,"width",n.event.width)}),le(sv,(t,n)=>{Ne(t.element,"width")})])])}),EU=e=>(t,n)=>({dom:{tag:"div",attributes:{"aria-label":e.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:Gi('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),HT=e=>En.getCurrent(e).each(t=>jo(t.element,!0)),MU=(e,t)=>{const n="tabindex",o=`data-mce-${n}`;h.from(e.iframeElement).map(Be.fromDom).each(s=>{t?(es(s,n).each(r=>Lt(s,o,r)),Lt(s,n,-1)):(Fo(s,n),es(s,o).each(r=>{Lt(s,n,r),Fo(s,o)}))})},_U=(e,t,n,o)=>{const s=t.element;if(MU(e,n),n)Wc.block(t,EU(o)),Ne(s,"display"),Fo(s,"aria-hidden"),e.hasFocus()&&HT(t);else{const r=En.getCurrent(t).exists(a=>rc(a.element));Wc.unblock(t),Vt(s,"display","none"),Lt(s,"aria-hidden","true"),r&&e.focus()}},DU=e=>({uid:e.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Fe([zt.config({}),Wc.config({focus:!1}),En.config({find:t=>Mt(t.components())})]),components:[]}),FU=e=>e.type==="focusin",IU=e=>FU(e)?(e.composed?Mt(e.composedPath()):h.from(e.target)).map(Be.fromDom).filter(br).exists(n=>xr(n,"mce-pastebin")):!1,$U=(e,t,n)=>{const o=ot(!1),s=kn(),r=c=>{o.get()&&!IU(c)&&(c.preventDefault(),HT(t()),e.editorManager.setActive(e))};e.inline||e.on("PreInit",()=>{e.dom.bind(e.getWin(),"focusin",r),e.on("BeforeExecCommand",c=>{c.command.toLowerCase()==="mcefocus"&&c.value!==!0&&r(c)})});const a=c=>{c!==o.get()&&(o.set(c),_U(e,t(),c,n.providers),wN(e,c))};e.on("ProgressState",c=>{if(s.on(clearTimeout),Rt(c.time)){const i=T1.setEditorTimeout(e,()=>a(c.state),c.time);s.set(i)}else a(c.state),s.clear()})},RT=e=>{const t=e.label.isNone()?e.title.fold(()=>({}),n=>({attributes:{"aria-label":n}})):e.label.fold(()=>({}),n=>({attributes:{"aria-label":n}}));return{dom:{tag:"div",classes:["tox-toolbar__group"].concat(e.label.isSome()?["tox-toolbar__group_with_label"]:[]),...t},components:[...e.label.map(n=>({dom:{tag:"span",classes:["tox-label","tox-label--context-toolbar"]},components:[To(n)]})).toArray(),S1.parts.items({})],items:e.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-item:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:Fe([co.config({}),It.config({ignore:!0})])}},sp=e=>S1.sketch(RT(e)),LT=(e,t)=>{const n=vo(o=>{const s=re(e.initGroups,sp);Gc.setGroups(o,s)});return Fe([ec.toolbarButton(()=>e.providers.checkUiComponentContext("any").shouldDisable),qo(()=>e.providers.checkUiComponentContext("any")),pt.config({mode:t,onEscape:e.onEscape,visibilitySelector:".tox-toolbar__overflow",selector:".tox-toolbar__group"}),Pt("toolbar-events",[n])])},PT=e=>{const t=e.cyclicKeying?"cyclic":"acyclic";return{uid:e.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":RT({title:h.none(),label:h.none(),items:[]}),"overflow-button":Lz({context:"any",name:"more",icon:h.some("more-drawer"),enabled:!0,tooltip:h.some("Reveal or hide additional toolbar items"),primary:!1,buttonType:h.none(),borderless:!1},h.none(),e.providers,[],"overflow-button")},splitToolbarBehaviours:LT(e,t)}},HU=e=>{const t=PT(e),n=4,o=zw.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return zw.sketch({...t,lazySink:e.getSink,getOverflowBounds:()=>{const s=e.moreDrawerData.lazyHeader().element,r=mu(s),a=jl(s),c=mu(a),i=Math.max(a.dom.scrollHeight,c.height);return Hs(r.x+n,c.y,r.width-n*2,i)},parts:{...t.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:e.attributes}}},components:[o],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:s=>e.onToggled(s,!0),onClosed:s=>e.onToggled(s,!1)})},RU=e=>{const t=wb.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),n=wb.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),o=PT(e);return wb.sketch({...o,components:[t,n],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:s=>{s.getSystem().broadcastOn([ev()],{type:"opened"}),e.onToggled(s,!0)},onClosed:s=>{s.getSystem().broadcastOn([ev()],{type:"closed"}),e.onToggled(s,!1)}})},rp=e=>{const t=e.cyclicKeying?"cyclic":"acyclic";return Gc.sketch({uid:e.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(e.type===Xa.scrolling?["tox-toolbar--scrolling"]:[])},components:[Gc.parts.groups({})],toolbarBehaviours:LT(e,t)})},LU=(e,t)=>{var n,o;const s=e.type==="togglebutton",r=e.icon.map(G=>zl(G,t.icons)).map(Vn),c=(()=>G=>{const oe=Y=>{r.map(qe=>qe.getOpt(G).each(vt=>{zt.set(vt,[zl(Y,t.icons)])}))},ae=Y=>{const qe=G.element;Y?(Ro(qe,"tox-button--enabled"),Lt(qe,"aria-pressed",!0)):(Lo(qe,"tox-button--enabled"),Fo(qe,"aria-pressed"))},ze=()=>xr(G.element,"tox-button--enabled"),Ke=()=>jo(G.element);if(s)return e.onAction({setIcon:oe,setActive:ae,isActive:ze,focus:Ke});if(e.type==="button")return e.onAction({setIcon:oe})})(),i={...e,name:s?e.text.getOr(e.icon.getOr("")):(n=e.text)!==null&&n!==void 0?n:e.icon.getOr(""),primary:e.buttonType==="primary",buttonType:h.from(e.buttonType),tooltip:e.tooltip,icon:e.icon,enabled:!0,borderless:e.borderless},d=K2((o=e.buttonType)!==null&&o!==void 0?o:"secondary"),g=s?e.text.map(t.translate):h.some(t.translate(e.text)),f=g.map(To),y=i.tooltip.or(g).map(G=>({"aria-label":t.translate(G)})).getOr({}),T=r.map(G=>G.asSpec()),_=Kd([T,f]),L=e.icon.isSome()&&f.isSome(),z={tag:"button",classes:d.concat(...e.icon.isSome()&&!L?["tox-button--icon"]:[]).concat(...L?["tox-button--icon-and-text"]:[]).concat(...e.borderless?["tox-button--naked"]:[]).concat(...e.type==="togglebutton"&&e.active?["tox-button--enabled"]:[]),attributes:y},R=[],W=Q1(i,h.some(c),R,z,_,e.tooltip,t);return Bs.sketch(W)},BT=(e,t)=>LU(e,t),PU=(e,t)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:re(e.buttons,n=>BT(n,t))}),NT=fs().deviceType,BU=NT.isPhone(),NU=NT.isTablet(),VU=e=>{let t=!1;const n=re(e.buttons,o=>o.type==="group"?(t=!0,PU(o,e.providers)):BT(o,e.providers));return{uid:e.uid,dom:{tag:"div",classes:[t?"tox-view__toolbar":"tox-view__header",...BU||NU?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:Fe([It.config({}),pt.config({mode:"flow",selector:"button, .tox-button",focusInside:Sl.OnEnterOrSpaceMode})]),components:t?n:[jc.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),jc.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:n})]}},zU=e=>({uid:e.uid,behaviours:Fe([It.config({}),co.config({})]),dom:{tag:"div",classes:["tox-view__pane"]}}),ZU=(e,t,n,o)=>{const s={getPane:r=>ws.getPart(r,e,"pane"),getOnShow:r=>e.viewConfig.onShow,getOnHide:r=>e.viewConfig.onHide};return{uid:e.uid,dom:e.dom,components:t,behaviours:Fe([It.config({}),pt.config({mode:"cyclic",focusInside:Sl.OnEnterOrSpaceMode})]),apis:s}};var Jd=Cr({name:"silver.View",configFields:[ye("viewConfig")],partFields:[Ya({factory:{sketch:VU},schema:[ye("buttons"),ye("providers")],name:"header"}),Ya({factory:{sketch:zU},schema:[],name:"pane"})],factory:ZU,apis:{getPane:(e,t)=>e.getPane(t),getOnShow:(e,t)=>e.getOnShow(t),getOnHide:(e,t)=>e.getOnHide(t)}});const UU=(e,t,n)=>yn(t,(o,s)=>{const r=dc(WB(o));return e.slot(s,Jd.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:r,components:[...r.buttons.length>0?[Jd.parts.header({buttons:r.buttons,providers:n})]:[],Jd.parts.pane({})]}))}),WU=(e,t)=>pr.sketch(n=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:UU(n,e,t),slotBehaviours:gh.unnamedEvents([vo(o=>pr.hideAllSlots(o))])})),VT=e=>ve(pr.getSlotNames(e),t=>pr.isShowing(e,t)),jU=e=>{const t=e.element;Vt(t,"display","none"),Lt(t,"aria-hidden","true")},GU=e=>{const t=e.element;Ne(t,"display"),Fo(t,"aria-hidden")},qU=e=>({getContainer:A(e)}),zT=(e,t,n)=>{pr.getSlot(e,t).each(o=>{Jd.getPane(o).each(s=>{n(o)(qU(s.element.dom))})})},KU=(e,t)=>zT(e,t,Jd.getOnShow),YU=(e,t)=>zT(e,t,Jd.getOnHide);var ap=Fa({factory:(e,t)=>{const r={setViews:(a,c)=>{zt.set(a,[WU(c,t.backstage.shared.providers)])},whichView:a=>En.getCurrent(a).bind(VT),toggleView:(a,c,i,d)=>En.getCurrent(a).exists(g=>{const f=VT(g),y=f.exists(_=>d===_),T=pr.getSlot(g,d).isSome();return T&&(pr.hideAllSlots(g),y?(jU(a),c()):(i(),GU(a),pr.showSlot(g,d),KU(g,d)),f.each(_=>YU(g,_))),T})};return{uid:e.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:Fe([zt.config({}),En.config({find:a=>{const c=zt.contents(a);return Mt(c)}})]),apis:r}},name:"silver.ViewWrapper",configFields:[ye("backstage")],apis:{setViews:(e,t,n)=>e.setViews(t,n),toggleView:(e,t,n,o,s)=>e.toggleView(t,n,o,s),whichView:(e,t)=>e.whichView(t)}});const XU=(e,t,n)=>{let o=!1;const s=a=>{Yp(a,".tox-statusbar").each(c=>{p(c,"display")==="none"&&Qo(c,"aria-hidden")==="true"?(Ne(c,"display"),Fo(c,"aria-hidden")):(Vt(c,"display","none"),Lt(c,"aria-hidden","true"))})},r={getSocket:a=>ws.getPart(a,e,"socket"),setSidebar:(a,c,i)=>{ws.getPart(a,e,"sidebar").each(d=>TU(d,c,i))},toggleSidebar:(a,c)=>{ws.getPart(a,e,"sidebar").each(i=>kU(i,c))},whichSidebar:a=>ws.getPart(a,e,"sidebar").bind(OU).getOrNull(),getHeader:a=>ws.getPart(a,e,"header"),getToolbar:a=>ws.getPart(a,e,"toolbar"),setToolbar:(a,c)=>{ws.getPart(a,e,"toolbar").each(i=>{const d=re(c,sp);i.getApis().setGroups(i,d)})},setToolbars:(a,c)=>{ws.getPart(a,e,"multiple-toolbar").each(i=>{const d=re(c,g=>re(g,sp));L3.setItems(i,d)})},refreshToolbar:a=>{ws.getPart(a,e,"toolbar").each(i=>i.getApis().refresh(i))},toggleToolbarDrawer:a=>{ws.getPart(a,e,"toolbar").each(c=>{Ns(c.getApis().toggle,i=>i(c))})},toggleToolbarDrawerWithoutFocusing:a=>{ws.getPart(a,e,"toolbar").each(c=>{Ns(c.getApis().toggleWithoutFocusing,i=>i(c))})},isToolbarDrawerToggled:a=>ws.getPart(a,e,"toolbar").bind(c=>h.from(c.getApis().isOpen).map(i=>i(c))).getOr(!1),getThrobber:a=>ws.getPart(a,e,"throbber"),focusToolbar:a=>{ws.getPart(a,e,"toolbar").orThunk(()=>ws.getPart(a,e,"multiple-toolbar")).each(i=>{pt.focusIn(i)})},setMenubar:(a,c)=>{ws.getPart(a,e,"menubar").each(i=>{nv.setMenus(i,c)})},focusMenubar:a=>{ws.getPart(a,e,"menubar").each(c=>{nv.focus(c)})},setViews:(a,c)=>{ws.getPart(a,e,"viewWrapper").each(i=>{ap.setViews(i,c)})},toggleView:(a,c)=>ws.getPart(a,e,"viewWrapper").exists(i=>ap.toggleView(i,()=>r.showMainView(a),()=>r.hideMainView(a),c)),whichView:a=>ws.getPart(a,e,"viewWrapper").bind(ap.whichView).getOrNull(),hideMainView:a=>{o=r.isToolbarDrawerToggled(a),o&&r.toggleToolbarDrawer(a),ws.getPart(a,e,"editorContainer").each(c=>{const i=c.element;s(i),Vt(i,"display","none"),Lt(i,"aria-hidden","true")})},showMainView:a=>{o&&r.toggleToolbarDrawer(a),ws.getPart(a,e,"editorContainer").each(c=>{const i=c.element;s(i),Ne(i,"display"),Fo(i,"aria-hidden")})}};return{uid:e.uid,dom:e.dom,components:t,apis:r,behaviours:e.behaviours}},JU=wi.optional({factory:nv,name:"menubar",schema:[ye("backstage")]}),QU=e=>e.type===Xa.sliding?RU:e.type===Xa.floating?HU:rp,eW=wi.optional({factory:{sketch:e=>L3.sketch({uid:e.uid,dom:e.dom,listBehaviours:Fe([pt.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>rp({type:e.type,uid:O("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:e.providers,onEscape:()=>(e.onEscape(),h.some(!0))}),setupItem:(t,n,o,s)=>{Gc.setGroups(n,o)},shell:!0})},name:"multiple-toolbar",schema:[ye("dom"),ye("onEscape")]}),tW=wi.optional({factory:{sketch:e=>{const t=QU(e),n={type:e.type,uid:e.uid,onEscape:()=>(e.onEscape(),h.some(!0)),onToggled:(o,s)=>e.onToolbarToggled(s),cyclicKeying:!1,initGroups:[],getSink:e.getSink,providers:e.providers,moreDrawerData:{lazyToolbar:e.lazyToolbar,lazyMoreButton:e.lazyMoreButton,lazyHeader:e.lazyHeader},attributes:e.attributes};return t(n)}},name:"toolbar",schema:[ye("dom"),ye("onEscape"),ye("getSink")]}),nW=wi.optional({factory:{sketch:fU},name:"header",schema:[ye("dom")]}),oW=wi.optional({factory:{sketch:yU},name:"promotion",schema:[ye("dom"),ye("promotionLink")]}),sW=wi.optional({name:"socket",schema:[ye("dom")]}),rW=wi.optional({factory:{sketch:AU},name:"sidebar",schema:[ye("dom")]}),aW=wi.optional({factory:{sketch:DU},name:"throbber",schema:[ye("dom")]}),cW=wi.optional({factory:ap,name:"viewWrapper",schema:[ye("backstage")]}),iW=e=>({uid:e.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:e.components}),lW=wi.optional({factory:{sketch:iW},name:"editorContainer",schema:[]});var uo=Cr({name:"OuterContainer",factory:XU,configFields:[ye("dom"),ye("behaviours")],partFields:[nW,JU,tW,eW,sW,rW,oW,aW,cW,lW],apis:{getSocket:(e,t)=>e.getSocket(t),setSidebar:(e,t,n,o)=>{e.setSidebar(t,n,o)},toggleSidebar:(e,t,n)=>{e.toggleSidebar(t,n)},whichSidebar:(e,t)=>e.whichSidebar(t),getHeader:(e,t)=>e.getHeader(t),getToolbar:(e,t)=>e.getToolbar(t),setToolbar:(e,t,n)=>{e.setToolbar(t,n)},setToolbars:(e,t,n)=>{e.setToolbars(t,n)},refreshToolbar:(e,t)=>e.refreshToolbar(t),toggleToolbarDrawer:(e,t)=>{e.toggleToolbarDrawer(t)},toggleToolbarDrawerWithoutFocusing:(e,t)=>{e.toggleToolbarDrawerWithoutFocusing(t)},isToolbarDrawerToggled:(e,t)=>e.isToolbarDrawerToggled(t),getThrobber:(e,t)=>e.getThrobber(t),setMenubar:(e,t,n)=>{e.setMenubar(t,n)},focusMenubar:(e,t)=>{e.focusMenubar(t)},focusToolbar:(e,t)=>{e.focusToolbar(t)},setViews:(e,t,n)=>{e.setViews(t,n)},toggleView:(e,t,n)=>e.toggleView(t,n),whichView:(e,t)=>e.whichView(t)}});const uW="file edit view insert format tools table help",ZT={file:{title:"File",items:"newdocument restoredraft | preview | importword exportpdf exportword | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code revisionhistory | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed inserttemplate codesample inserttable accordion math | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"aidialog aishortcuts | spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},dW=(e,t,n)=>{const o=Jw(n).split(/[ ,]/);return{text:e.title,getItems:()=>Tt(e.items,s=>{const r=s.toLowerCase();return r.trim().length===0?[]:Dt(o,a=>a===r)?[]:r==="separator"||r==="|"?[{type:"separator"}]:t.menuItems[r]?[t.menuItems[r]]:[]})}},rv=e=>e.split(" "),UT=(e,t)=>{const n={...ZT,...t.menus},o=en(t.menus).length>0,s=t.menubar===void 0||t.menubar===!0?rv(uW):rv(t.menubar===!1?"":t.menubar),r=jt(s,c=>{const i=Nt(ZT,c);return o?i||lt(t.menus,c).exists(d=>Nt(d,"items")):i}),a=re(r,c=>{const i=n[c];return dW({title:i.title,items:rv(i.items)},t,e)});return jt(a,c=>{const i=d=>X(d)||d.type!=="separator";return c.getItems().length>0&&Dt(c.getItems(),i)})},mW=e=>{const t=()=>{e._skinLoaded=!0,bN(e)};return()=>{e.initialized?t():e.on("init",t)}},hW=(e,t)=>()=>vN(e,{message:t}),gW=e=>{const t=yS(e);return t?h.from(t):h.none()},WT=(e,t,n)=>(e.on("remove",()=>n.unload(t)),n.load(t)),cp=(e,t,n,o)=>(e.on("remove",()=>o.unloadRawCss(t)),o.loadRawCss(t,n)),pW=(e,t)=>"ui/"+e+"/"+t,fW=e=>h.from(tinymce.Resource.get(e)).filter(X),av=(e,t,n="")=>{const o=gW(e).map(r=>pW(r,`${t}.css`)),s=o.bind(fW);return Dn(o,s,(r,a)=>({_kind:"load-raw",key:r,css:a})).getOrThunk(()=>{const r=e.editorManager.suffix;return{_kind:"load-stylesheet",url:n+`/${t}${r}.css`}})},bW=(e,t)=>{const n=e.ui.styleSheetLoader,o=av(e,"skin",t);switch(o._kind){case"load-raw":const{key:s,css:r}=o;return cp(e,s,r,n),Promise.resolve();case"load-stylesheet":const{url:a}=o;return WT(e,a,n);default:return Promise.resolve()}},vW=(e,t)=>{if(fm(Be.fromDom(e.getElement()))){const o=oh.DOM.styleSheetLoader,s=av(e,"skin.shadowdom",t);switch(s._kind){case"load-raw":const{key:r,css:a}=s;return cp(e,r,a,o),Promise.resolve();case"load-stylesheet":const{url:c}=s;return WT(e,c,o);default:return Promise.resolve()}}else return Promise.resolve()},yW=(e,t,n)=>{const s=av(e,t?"content.inline":"content",n);switch(s._kind){case"load-raw":const{key:r,css:a}=s;return t?cp(e,r,a,e.ui.styleSheetLoader):e.on("PostRender",()=>{cp(e,r,a,e.dom.styleSheetLoader)}),Promise.resolve();case"load-stylesheet":const{url:c}=s;return n&&e.contentCSS.push(c),Promise.resolve();default:return Promise.resolve()}},xW=async(e,t)=>{const n=xS(t);if(await yW(t,e,n),!_b(t)&&X(n))return Promise.all([bW(t,n),vW(t,n)]).then()},jT=(e,t)=>xW(e,t).then(mW(t),hW(t,"Skin could not be loaded")),wW=cn(jT,!1),SW=cn(jT,!0),GT=e=>({isEnabled:()=>!gt.isDisabled(e),setEnabled:t=>gt.set(e,!t),setText:t=>Ct(e,tc,{text:t}),setIcon:t=>Ct(e,qu,{icon:t})}),CW=e=>({setActive:t=>{tn.set(e,t)},isActive:()=>tn.isOn(e),isEnabled:()=>!gt.isDisabled(e),setEnabled:t=>gt.set(e,!t),setText:t=>Ct(e,tc,{text:t}),setIcon:t=>Ct(e,qu,{icon:t})}),qT=(e,t)=>e.map(n=>({"aria-label":t.translate(n)})).getOr({}),KT=O("focus-button"),cv=(e,t,n,o,s,r,a)=>{const c=t.map(d=>Vn(z5(d,"tox-tbtn",s))),i=e.map(d=>Vn(zl(d,s.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(t.isSome()?["tox-tbtn--select"]:[]),attributes:{...qT(n,s),...Xe(a)?{"data-mce-name":a}:{}}},components:Kd([i.map(d=>d.asSpec()),c.map(d=>d.asSpec())]),eventOrder:{[Ea()]:["focusing","alloy.base.behaviour",Vl],[Vc()]:[Vl,"toolbar-group-button-events"],[vi()]:[Vl,"toolbar-group-button-events","tooltipping"]},buttonBehaviours:Fe([ec.toolbarButton(()=>s.checkUiComponentContext(r).shouldDisable),qo(()=>s.checkUiComponentContext(r)),Pt(Vl,[vo((d,g)=>Z2(d)),le(tc,(d,g)=>{c.bind(f=>f.getOpt(d)).each(f=>{zt.set(f,[To(s.translate(g.event.text))])})}),le(qu,(d,g)=>{i.bind(f=>f.getOpt(d)).each(f=>{zt.set(f,[zl(g.event.icon,s.icons)])})}),le(Ea(),(d,g)=>{g.event.prevent(),Cn(d,KT)})])].concat(o.getOr([])))}},TW=(e,t,n,o,s)=>{const r=t.shared,a=ot(ce),c={toolbarButtonBehaviours:[],getApi:GT,onSetup:e.onSetup},i=[Pt("toolbar-group-button-events",[Xc(c,a),Pl(c,a)]),...e.tooltip.map(d=>ko.config(t.shared.providers.tooltips.getConfig({tooltipText:t.shared.providers.translate(d)}))).toArray()];return _l.sketch({lazySink:r.getSink,fetch:()=>An.nu(d=>{d(re(n(e.items),sp))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:cv(e.icon,e.text,e.tooltip,h.some(i),r.providers,e.context,s),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:o}}}})},YT=(e,t,n,o)=>{var s;const r=ot(ce),a=cv(e.icon,e.text,e.tooltip,h.none(),n,e.context,o);return Bs.sketch({dom:a.dom,components:a.components,eventOrder:N5,buttonBehaviours:{...Fe([Pt("toolbar-button-events",[mz({onAction:e.onAction,getApi:t.getApi}),Xc(t,r),Pl(t,r)]),...e.tooltip.map(c=>ko.config(n.tooltips.getConfig({tooltipText:n.translate(c)+e.shortcut.map(i=>` (${f2(i)})`).getOr("")}))).toArray(),ec.toolbarButton(()=>!e.enabled||n.checkUiComponentContext(e.context).shouldDisable),qo(()=>n.checkUiComponentContext(e.context))].concat(t.toolbarButtonBehaviours)),[Vl]:(s=a.buttonBehaviours)===null||s===void 0?void 0:s[Vl]}})},kW=(e,t,n)=>iv(e,t,[],n),iv=(e,t,n,o)=>YT(e,{toolbarButtonBehaviours:n.length>0?[Pt("toolbarButtonWith",n)]:[],getApi:GT,onSetup:e.onSetup},t,o),OW=(e,t,n)=>XT(e,t,[],n),XT=(e,t,n,o)=>YT(e,{toolbarButtonBehaviours:[zt.config({}),tn.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(n.length>0?[Pt("toolbarToggleButtonWith",n)]:[]),getApi:CW,onSetup:e.onSetup},t,o),AW=(e,t,n)=>o=>An.nu(s=>t.fetch(s)).map(s=>h.from(I2(ke(W1(O("menu-value"),s,r=>{t.onItemAction(e(o),r)},t.columns,t.presets,kc.CLOSE_ON_EXECUTE,t.select.getOr(ue),n),{movement:wh(t.columns,t.presets),menuBehaviours:gh.unnamedEvents(t.columns!=="auto"?[]:[vo((r,a)=>{g2(r,4,XS(t.presets)).each(({numRows:c,numColumns:i})=>{pt.setGridSize(r,c,i)})})])})))),EW=(e,t,n)=>{const o=ot(e.tooltip.getOr("")),s=c=>({isEnabled:()=>!gt.isDisabled(c),setEnabled:i=>gt.set(c,!i),setIconFill:(i,d)=>{Qn(c.element,`svg path[class="${i}"], rect[class="${i}"]`).each(g=>{Lt(g,"fill",d)})},setActive:i=>{Lt(c.element,"aria-pressed",i),Qn(c.element,"span").each(d=>{c.getSystem().getByDom(d).each(g=>tn.set(g,i))})},isActive:()=>Qn(c.element,"span").exists(i=>c.getSystem().getByDom(i).exists(tn.isOn)),setText:i=>Qn(c.element,"span").each(d=>c.getSystem().getByDom(d).each(g=>Ct(g,tc,{text:i}))),setIcon:i=>Qn(c.element,"span").each(d=>c.getSystem().getByDom(d).each(g=>Ct(g,qu,{icon:i}))),setTooltip:i=>{const d=t.providers.translate(i);Lt(c.element,"aria-label",d),o.set(i)}}),r=ot(ce),a={getApi:s,onSetup:e.onSetup};return x1.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...qT(e.tooltip,t.providers),...Xe(n)?{"data-mce-name":n}:{}}},onExecute:c=>{const i=s(c);i.isEnabled()&&e.onAction(i)},onItemExecute:(c,i,d)=>{},splitDropdownBehaviours:Fe([Pt("split-dropdown-events",[vo((c,i)=>Z2(c)),le(KT,It.focus),Xc(a,r),Pl(a,r)]),ec.splitButton(()=>t.providers.isDisabled()||t.providers.checkUiComponentContext(e.context).shouldDisable),qo(()=>t.providers.checkUiComponentContext(e.context)),Qm.config({}),...e.tooltip.map(c=>ko.config({...t.providers.tooltips.getConfig({tooltipText:t.providers.translate(c),onShow:i=>{if(o.get()!==c){const d=t.providers.translate(o.get());ko.setComponents(i,t.providers.tooltips.getComponents({tooltipText:d}))}}})})).toArray()]),eventOrder:{[Vc()]:["alloy.base.behaviour","split-dropdown-events","tooltipping"],[vi()]:["split-dropdown-events","tooltipping"]},toggleClass:"tox-tbtn--enabled",lazySink:t.getSink,fetch:AW(s,e,t.providers),parts:{menu:$1(!1,e.columns,e.presets)},components:[x1.parts.button(cv(e.icon,e.text,h.none(),h.some([tn.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1}),ec.toolbarButton(ue),qo(A({contextType:"any",shouldDisable:!1}))]),t.providers,e.context)),x1.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:US("chevron-down",t.providers.icons)},buttonBehaviours:Fe([ec.splitButton(ue),qo(A({contextType:"any",shouldDisable:!1}))])}),x1.parts["aria-descriptor"]({text:t.providers.translate("To open the popup, press Shift+Enter")})]})},MW=".tox-toolbar-slider__input,.tox-toolbar-textfield",JT=e=>{Io.getContent(e).each(t=>{Qn(t.element,MW).fold(()=>pt.focusIn(t),jo)})},_W=e=>bs(e.element).each(t=>{ja(t,'[tabindex="-1"]').each(n=>{jo(n)})}),QT=O("forward-slide"),ip=O("backward-slide"),lv=O("change-slide-event"),uv="tox-pop--resizing",DW=e=>{const t=ot([]);return{sketch:Io.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:o=>{t.set([]),Io.getContent(o).each(s=>{Ne(s.element,"visibility")}),Lo(o.element,uv),Ne(o.element,"width")},onHide:()=>{t.set([]),e.onHide()},inlineBehaviours:Fe([Pt("context-toolbar-events",[_d(Fm(),(o,s)=>{s.event.raw.propertyName==="width"&&(Lo(o.element,uv),Ne(o.element,"width"))}),le(lv,(o,s)=>{const r=o.element;Ne(r,"width");const a=yr(r),c=bs(o.element).isSome();Ne(r,"left"),Ne(r,"right"),Ne(r,"max-width"),Io.setContent(o,s.event.contents),Ro(r,uv);const i=yr(r);Vt(r,"transition","none"),Io.reposition(o),Ne(r,"transition"),Vt(r,"width",a+"px"),s.event.focus.fold(()=>{c&&JT(o)},d=>{Ca(Is(o.element)).fold(()=>jo(d),g=>{dn(g,d)||jo(d)})}),setTimeout(()=>{Vt(o.element,"width",i+"px")},0)}),le(QT,(o,s)=>{Io.getContent(o).each(r=>{t.set(t.get().concat([{bar:r,focus:Ca(Is(o.element))}]))}),Ct(o,lv,{contents:s.event.forwardContents,focus:h.none()})}),le(ip,(o,s)=>{e.onBack(),Jt(t.get()).each(r=>{t.set(t.get().slice(0,t.get().length-1)),Ct(o,lv,{contents:Da(r.bar),focus:r.focus})})})]),pt.config({mode:"special",onEscape:o=>Jt(t.get()).fold(()=>e.onEscape(),s=>(Cn(o,ip),h.some(!0)))})]),lazySink:()=>Ot.value(e.sink)}),inSubtoolbar:()=>t.get().length>0}},FW=(e,t)=>{const n=dc(u2({type:"button",icon:"chevron-left",tooltip:"Back",onAction:ce}));return iv(n,t.shared.providers,[le(z2,o=>{Cn(o,ip)})])},Qd=(e,t,n)=>fr(n)?e.translate(t):e.translate([t,e.translate(n)]),IW=(e,t)=>{const n=(a,c,i,d)=>{const g=e.shared.providers.translate(a.title);if(a.type==="separator")return h.some({type:"separator",text:g});if(a.type==="submenu"){const f=Tt(a.getStyleItems(),y=>o(y,c,d));return c===0&&f.length<=0?h.none():h.some({type:"nestedmenuitem",text:g,enabled:f.length>0,getSubmenuItems:()=>Tt(a.getStyleItems(),y=>o(y,c,d))})}else return h.some({type:"togglemenuitem",text:g,icon:a.icon,active:a.isSelected(d),enabled:!i,onAction:t.onAction(a),...a.getStylePreview().fold(()=>({}),f=>({meta:{style:f}}))})},o=(a,c,i)=>{const d=a.type==="formatter"&&t.isInvalid(a);return c===0?d?[]:n(a,c,!1,i).toArray():n(a,c,d,i).toArray()},s=a=>{const c=t.getCurrentValue(),i=t.shouldHide?0:1;return Tt(a,d=>o(d,i,c))};return{validateItems:s,getFetch:(a,c)=>(i,d)=>{const g=c(),f=s(g),y=Xd(f,kc.CLOSE_ON_EXECUTE,a,{isHorizontalMenu:!1,search:h.none()});d(y)}}},em=(e,t)=>{const n=t.dataset,o=n.type==="basic"?()=>re(n.data,s=>fT(s,t.isSelectedFor,t.getPreviewFor)):n.getData;return{items:IW(e,t),getStyleItems:o}},Mh=(e,t,n,o,s,r)=>{const{items:a,getStyleItems:c}=em(t,n),i=ot(n.tooltip),d=f=>({getComponent:A(f),setTooltip:y=>{const T=t.shared.providers.translate(y);Lt(f.element,"aria-label",T),i.set(y)}}),g=f=>{const y=T=>f.setTooltip(Qd(e,o(T.value),T.value));return e.on(s,y),z1(Wu(e,"NodeChange",T=>{const _=T.getComponent();n.updateText(_),gt.set(T.getComponent(),!e.selection.isEditable()||c().length===0)})(f),()=>e.off(s,y))};return W2({context:"mode:design",text:n.icon.isSome()?h.none():n.text,icon:n.icon,ariaLabel:h.some(n.tooltip),tooltip:h.none(),role:h.none(),fetch:a.getFetch(t,c),onSetup:g,getApi:d,columns:1,presets:"normal",classes:n.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[ko.config({...t.shared.providers.tooltips.getConfig({tooltipText:t.shared.providers.translate(n.tooltip),onShow:f=>{if(n.tooltip!==i.get()){const y=t.shared.providers.translate(i.get());ko.setComponents(f,t.shared.providers.tooltips.getComponents({tooltipText:y}))}}})})]},"tox-tbtn",t.shared,r)},$W=e=>re(e,t=>{let n=t,o=t;const s=t.split("=");return s.length>1&&(n=s[0],o=s[1]),{title:n,format:o}}),HW=e=>({type:"basic",data:e});var tm;(function(e){e[e.SemiColon=0]="SemiColon",e[e.Space=1]="Space"})(tm||(tm={}));const RW=(e,t)=>t===tm.SemiColon?e.replace(/;$/,"").split(";"):e.split(" "),dv=(e,t,n)=>{const o=e.options.get(t);return{type:"basic",data:$W(RW(o,n))}},LW="Align",e6=A("Alignment {0}"),t6="left",mv=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],n6=e=>{const t=()=>ve(mv,c=>e.formatter.match(c.format)),n=c=>()=>e.formatter.match(c),o=c=>h.none,s=c=>{const d=t().fold(A(t6),g=>g.title.toLowerCase());Ct(c,qu,{icon:`align-${d}`}),kN(e,{value:d})},r=HW(mv),a=c=>()=>ve(mv,i=>i.format===c.format).each(i=>e.execCommand(i.command));return{tooltip:Qd(e,e6(),t6),text:h.none(),icon:h.some("align-left"),isSelectedFor:n,getCurrentValue:h.none,getPreviewFor:o,onAction:a,updateText:s,dataset:r,shouldHide:!1,isInvalid:c=>!e.formatter.canApply(c.format)}},PW=(e,t)=>Mh(e,t,n6(e),e6,"AlignTextUpdate","align"),BW=(e,t)=>{const n=em(t,n6(e));e.ui.registry.addNestedMenuItem("align",{text:t.shared.providers.translate(LW),onSetup:Tr(e),getSubmenuItems:()=>n.items.validateItems(n.getStyleItems())})},o6=(e,t)=>{const n=t(),o=re(n,s=>s.format);return h.from(e.formatter.closest(o)).bind(s=>ve(n,r=>r.format===s))},NW="Blocks",s6=A("Block {0}"),hv="Paragraph",r6=e=>{const t=r=>()=>e.formatter.match(r),n=r=>()=>{const a=e.formatter.get(r);return a?h.some({tag:a.length>0&&(a[0].inline||a[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(r))}):h.none()},o=r=>{const c=o6(e,()=>s.data).fold(A(hv),i=>i.title);Ct(r,tc,{text:c}),EN(e,{value:c})},s=dv(e,"block_formats",tm.SemiColon);return{tooltip:Qd(e,s6(),hv),text:h.some(hv),icon:h.none(),isSelectedFor:t,getCurrentValue:h.none,getPreviewFor:n,onAction:qC(e),updateText:o,dataset:s,shouldHide:!1,isInvalid:r=>!e.formatter.canApply(r.format)}},VW=(e,t)=>Mh(e,t,r6(e),s6,"BlocksTextUpdate","blocks"),zW=(e,t)=>{const n=em(t,r6(e));e.ui.registry.addNestedMenuItem("blocks",{text:NW,onSetup:Tr(e),getSubmenuItems:()=>n.items.validateItems(n.getStyleItems())})},ZW="Fonts",a6=A("Font {0}"),gv="System Font",UW=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],c6=e=>{const t=e.split(/\s*,\s*/);return re(t,n=>n.replace(/^['"]+|['"]+$/g,""))},i6=(e,t)=>t.length>0&&Ft(t,n=>e.indexOf(n.toLowerCase())>-1),WW=(e,t)=>{if(e.indexOf("-apple-system")===0||t.length>0){const n=c6(e.toLowerCase());return i6(n,UW)||i6(n,t)}else return!1},l6=e=>{const t=()=>{const i=_=>_?c6(_)[0]:"",d=e.queryCommandValue("FontName"),g=c.data,f=d?d.toLowerCase():"",y=vS(e);return{matchOpt:ve(g,_=>{const L=_.format;return L.toLowerCase()===f||i(L).toLowerCase()===i(f).toLowerCase()}).orThunk(()=>Ao(WW(f,y),{title:gv,format:f})),font:d}},n=i=>d=>d.exists(g=>g.format===i),o=()=>{const{matchOpt:i}=t();return i},s=i=>()=>h.some({tag:"div",styles:i.indexOf("dings")===-1?{"font-family":i}:{}}),r=i=>()=>{e.undoManager.transact(()=>{e.focus(),e.execCommand("FontName",!1,i.format)})},a=i=>{const{matchOpt:d,font:g}=t(),f=d.fold(A(g),y=>y.title);Ct(i,tc,{text:f}),MN(e,{value:f})},c=dv(e,"font_family_formats",tm.SemiColon);return{tooltip:Qd(e,a6(),gv),text:h.some(gv),icon:h.none(),isSelectedFor:n,getCurrentValue:o,getPreviewFor:s,onAction:r,updateText:a,dataset:c,shouldHide:!1,isInvalid:ue}},jW=(e,t)=>Mh(e,t,l6(e),a6,"FontFamilyTextUpdate","fontfamily"),GW=(e,t)=>{const n=em(t,l6(e));e.ui.registry.addNestedMenuItem("fontfamily",{text:t.shared.providers.translate(ZW),onSetup:Tr(e),getSubmenuItems:()=>n.items.validateItems(n.getStyleItems())})};var lp=tinymce.util.Tools.resolve("tinymce.util.VK");const qW=(e,t,n,o)=>{let s=h.none();const r=G=>G.map(oe=>Ye.getValue(oe)).getOr(""),a=Wu(e,"NodeChange SwitchMode DisabledStateChange",G=>{const oe=G.getComponent();s=h.some(oe),n.updateInputValue(oe),gt.set(oe,!e.selection.isEditable()||k1(e))}),c=G=>({getComponent:A(G)}),i=ot(ce),d=O("custom-number-input-events"),g=(G,oe,ae)=>{const ze=r(s),Ke=n.getNewValue(ze,G),Y=ze.length-`${Ke}`.length,qe=s.map(ct=>ct.element.dom.selectionStart-Y),vt=s.map(ct=>ct.element.dom.selectionEnd-Y);n.onAction(Ke,ae),s.each(ct=>{Ye.setValue(ct,Ke),oe&&(qe.each(nn=>ct.element.dom.selectionStart=nn),vt.each(nn=>ct.element.dom.selectionEnd=nn))})},f=(G,oe)=>g((ae,ze)=>ae-ze,G,oe),y=(G,oe)=>g((ae,ze)=>ae+ze,G,oe),T=G=>vr(G.element).fold(h.none,oe=>(jo(oe),h.some(!0))),_=G=>rc(G.element)?(ui(G.element).each(oe=>jo(oe)),h.some(!0)):h.none(),L=(G,oe,ae,ze)=>{const Ke=ot(ce),Y=t.shared.providers.translate(ae),qe=O("altExecuting"),vt=Wu(e,"NodeChange SwitchMode DisabledStateChange",nn=>{gt.set(nn.getComponent(),!e.selection.isEditable()||k1(e))}),ct=nn=>{gt.isDisabled(nn)||G(!0)};return Bs.sketch({dom:{tag:"button",attributes:{"aria-label":Y,"data-mce-name":oe},classes:ze.concat(oe)},components:[U2(oe,t.shared.providers.icons)],buttonBehaviours:Fe([gt.config({}),ko.config(t.shared.providers.tooltips.getConfig({tooltipText:Y})),Pt(qe,[Xc({onSetup:vt,getApi:c},Ke),Pl({getApi:c},Ke),le(Nc(),(nn,$t)=>{($t.event.raw.keyCode===lp.SPACEBAR||$t.event.raw.keyCode===lp.ENTER)&&(gt.isDisabled(nn)||G(!1))}),le(pu(),ct),le(gu(),ct)])]),eventOrder:{[Nc()]:[qe,"keying"],[pu()]:[qe,"alloy.base.behaviour"],[gu()]:[qe,"alloy.base.behaviour"],[Vc()]:["alloy.base.behaviour",qe,"tooltipping"],[vi()]:[qe,"tooltipping"]}})},z=Vn(L(G=>f(!1,G),"minus","Decrease font size",[])),R=Vn(L(G=>y(!1,G),"plus","Increase font size",[])),W=Vn({dom:{tag:"div",classes:["tox-input-wrapper"]},components:[Yi.sketch({inputBehaviours:Fe([gt.config({}),Pt(d,[Xc({onSetup:a,getApi:c},i),Pl({getApi:c},i)]),Pt("input-update-display-text",[le(tc,(G,oe)=>{Ye.setValue(G,oe.event.text)}),le(vy(),G=>{n.onAction(Ye.getValue(G))}),le(kd(),G=>{n.onAction(Ye.getValue(G))})]),pt.config({mode:"special",onEnter:G=>(g(Ve,!0,!0),h.some(!0)),onEscape:T,onUp:G=>(y(!0,!1),h.some(!0)),onDown:G=>(f(!0,!1),h.some(!0)),onLeft:(G,oe)=>(oe.cut(),h.none()),onRight:(G,oe)=>(oe.cut(),h.none())})])})],behaviours:Fe([It.config({}),pt.config({mode:"special",onEnter:_,onSpace:_,onEscape:T}),Pt("input-wrapper-events",[le(bi(),G=>{_e([z,R],oe=>{const ae=Be.fromDom(oe.get(G).element.dom);rc(ae)&&ul(ae)})})])])});return{dom:{tag:"div",classes:["tox-number-input"],attributes:{...Xe(o)?{"data-mce-name":o}:{}}},components:[z.asSpec(),W.asSpec(),R.asSpec()],behaviours:Fe([It.config({}),pt.config({mode:"flow",focusInside:Sl.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:G=>rc(G.element)?h.none():(jo(G.element),h.some(!0))})])}},KW="Font sizes",u6=A("Font size {0}"),d6="12pt",YW={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},XW={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},JW=(e,t)=>{const n=Math.pow(10,t);return Math.round(e*n)/n},QW=(e,t)=>/[0-9.]+px$/.test(e)?JW(parseInt(e,10)*72/96,t||0)+"pt":lt(XW,e).getOr(e),ej=e=>lt(YW,e).getOr(""),m6=e=>{const t=()=>{let i=h.none();const d=c.data,g=e.queryCommandValue("FontSize");if(g)for(let f=3;i.isNone()&&f>=0;f--){const y=QW(g,f),T=ej(y);i=ve(d,_=>_.format===g||_.format===y||_.format===T)}return{matchOpt:i,size:g}},n=i=>d=>d.exists(g=>g.format===i),o=()=>{const{matchOpt:i}=t();return i},s=A(h.none),r=i=>()=>{e.undoManager.transact(()=>{e.focus(),e.execCommand("FontSize",!1,i.format)})},a=i=>{const{matchOpt:d,size:g}=t(),f=d.fold(A(g),y=>y.title);Ct(i,tc,{text:f}),ON(e,{value:f})},c=dv(e,"font_size_formats",tm.Space);return{tooltip:Qd(e,u6(),d6),text:h.some(d6),icon:h.none(),isSelectedFor:n,getPreviewFor:s,getCurrentValue:o,onAction:r,updateText:a,dataset:c,shouldHide:!1,isInvalid:ue}},tj=(e,t)=>Mh(e,t,m6(e),u6,"FontSizeTextUpdate","fontsize"),nj=e=>{var t;const n={step:1};return(t={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[e])!==null&&t!==void 0?t:n},oj=16,sj=e=>e>=0,rj=e=>{const t=()=>e.queryCommandValue("FontSize");return{updateInputValue:o=>Ct(o,tc,{text:t()}),onAction:(o,s)=>e.execCommand("FontSize",!1,o,{skip_focus:!s}),getNewValue:(o,s)=>{Pn(o,["unsupportedLength","empty"]);const r=t(),a=Pn(o,["unsupportedLength","empty"]).or(Pn(r,["unsupportedLength","empty"])),c=a.map(y=>y.value).getOr(oj),i=rS(e),d=a.map(y=>y.unit).filter(y=>y!=="").getOr(i),g=s(c,nj(d).step),f=`${sj(g)?g:c}${d}`;return f!==r&&AN(e,{value:f}),f}}},aj=(e,t)=>qW(e,t,rj(e),"fontsizeinput"),cj=(e,t)=>{const n=em(t,m6(e));e.ui.registry.addNestedMenuItem("fontsize",{text:KW,onSetup:Tr(e),getSubmenuItems:()=>n.items.validateItems(n.getStyleItems())})},ij="Formats",h6=e=>fr(e)?"Formats":"Format {0}",g6=(e,t)=>{const n="Formats",o=a=>()=>e.formatter.match(a),s=a=>()=>{const c=e.formatter.get(a);return c!==void 0?h.some({tag:c.length>0&&(c[0].inline||c[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(a))}):h.none()},r=a=>{const c=f=>dT(f)?Tt(f.items,c):mT(f)?[{title:f.title,format:f.format}]:[],i=Tt(pT(e),c),g=o6(e,A(i)).fold(A({title:n,tooltipLabel:""}),f=>({title:f.title,tooltipLabel:f.title}));Ct(a,tc,{text:g.title}),TN(e,{value:g.tooltipLabel})};return{tooltip:Qd(e,h6(""),""),text:h.some(n),icon:h.none(),isSelectedFor:o,getCurrentValue:h.none,getPreviewFor:s,onAction:qC(e),updateText:r,shouldHide:Yw(e),isInvalid:a=>!e.formatter.canApply(a.format),dataset:t}},lj=(e,t)=>{const n={type:"advanced",...t.styles};return Mh(e,t,g6(e,n),h6,"StylesTextUpdate","styles")},uj=(e,t)=>{const n={type:"advanced",...t.styles},o=em(t,g6(e,n));e.ui.registry.addNestedMenuItem("styles",{text:ij,onSetup:Tr(e,()=>o.getStyleItems().length>0),getSubmenuItems:()=>o.items.validateItems(o.getStyleItems())})},dj=[{name:"history",items:["undo","redo"]},{name:"ai",items:["aidialog","aishortcuts"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],_h=(e,t)=>(n,o,s,r)=>{const a=e(n).mapError(c=>Cd(c)).getOrDie();return t(a,o,s,r)},mj={button:_h(u2,(e,t,n,o)=>kW(e,t.shared.providers,o)),togglebutton:_h(yC,(e,t,n,o)=>OW(e,t.shared.providers,o)),menubutton:_h(mC,(e,t,n,o)=>Ah(e,"tox-tbtn",t,h.none(),!1,o)),splitbutton:_h(BB,(e,t,n,o)=>EW(e,t.shared,o)),grouptoolbarbutton:_h(LB,(e,t,n,o)=>{const s=n.ui.registry.getAll().buttons,r=c=>up(n,{buttons:s,toolbar:c,allowToolbarGroups:!1},t,h.none()),a={[o0]:t.shared.header.isPositionedAtTop()?Vi.TopToBottom:Vi.BottomToTop};switch(Vd(n)){case Xa.floating:return TW(e,t,r,a,o);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}})},hj=(e,t,n,o)=>lt(mj,e.type).fold(()=>(console.error("skipping button defined by",e),h.none()),s=>h.some(s(e,t,n,o))),p6={styles:lj,fontsize:tj,fontsizeinput:aj,fontfamily:jW,blocks:VW,align:PW,navigateback:FW},gj=e=>{const t=re(dj,n=>{const o=jt(n.items,s=>Nt(e,s)||Nt(p6,s));return{name:n.name,items:o}});return jt(t,n=>n.items.length>0)},pj=e=>{const t=e.split("|");return re(t,n=>({items:n.trim().split(" ")}))},fj=e=>Oe(e,t=>(Nt(t,"name")||Nt(t,"label"))&&Nt(t,"items")),bj=e=>{const t=e.toolbar,n=e.buttons;return t===!1?[]:t===void 0||t===!0?gj(n):X(t)?pj(t):fj(t)?t:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},vj=(e,t,n,o,s,r)=>lt(t,n.toLowerCase()).orThunk(()=>r.bind(a=>kt(a,c=>lt(t,c+n.toLowerCase())))).fold(()=>lt(p6,n.toLowerCase()).map(a=>a(e,s)),a=>a.type==="grouptoolbarbutton"&&!o?(console.warn(`Ignoring the '${n}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),h.none()):hj(a,s,e,n.toLowerCase())),up=(e,t,n,o)=>{const s=bj(t),r=re(s,a=>{const c=Tt(a.items,i=>i.trim().length===0?[]:vj(e,t.buttons,i,t.allowToolbarGroups,n,o).toArray());return{title:h.from(e.translate(a.name)),label:Ao(a.label!==void 0,e.translate(a.label)),items:c}});return jt(r,a=>a.items.length>0)},f6=(e,t,n,o)=>{const s=t.mainUi.outerContainer,r=n.toolbar,a=n.buttons;if(Oe(r,X)){const c=r.map(i=>{const d={toolbar:i,buttons:a,allowToolbarGroups:n.allowToolbarGroups};return up(e,d,o,h.none())});uo.setToolbars(s,c)}else uo.setToolbar(s,up(e,n,o,h.none()))},b6=fs(),yj=b6.os.isiOS()&&b6.os.version.major<=12,xj=(e,t)=>{const{uiMotherships:n}=t,o=e.dom;let s=e.getWin();const r=e.getDoc().documentElement,a=ot(Mo(s.innerWidth,s.innerHeight)),c=ot(Mo(r.offsetWidth,r.offsetHeight)),i=()=>{const y=a.get();(y.left!==s.innerWidth||y.top!==s.innerHeight)&&(a.set(Mo(s.innerWidth,s.innerHeight)),T2(e))},d=()=>{const y=e.getDoc().documentElement,T=c.get();(T.left!==y.offsetWidth||T.top!==y.offsetHeight)&&(c.set(Mo(y.offsetWidth,y.offsetHeight)),T2(e))},g=y=>{xN(e,y)};o.bind(s,"resize",i),o.bind(s,"scroll",g);const f=Xl(Be.fromDom(e.getBody()),"load",d);e.on("hide",()=>{_e(n,y=>{Vt(y.element,"display","none")})}),e.on("show",()=>{_e(n,y=>{Ne(y.element,"display")})}),e.on("NodeChange",d),e.on("remove",()=>{f.unbind(),o.unbind(s,"resize",i),o.unbind(s,"scroll",g),s=null})},wj=(e,t,n)=>{Il(e)&&zg(n.mainUi.mothership.element,n.popupUi.mothership),b0(t,n.dialogUi.mothership)};var Sj=Object.freeze({__proto__:null,render:(e,t,n,o,s)=>{const{mainUi:r,uiMotherships:a}=t,c=ot(0),i=r.outerContainer;wW(e);const d=Be.fromDom(s.targetNode),g=di(Is(d));zg(d,r.mothership),wj(e,g,t),e.on("PostRender",()=>{uo.setSidebar(i,n.sidebar,pS(e))}),e.on("SkinLoaded",()=>{f6(e,t,n,o),c.set(e.getWin().innerWidth),uo.setMenubar(i,UT(e,n)),uo.setViews(i,n.views),xj(e,t)});const f=uo.getSocket(i).getOrDie("Could not find expected socket element");if(yj){Lc(f.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const L=zs(()=>{e.dispatch("ScrollContent")},20),z=Xo(f.element,"scroll",L.throttle);e.on("remove",z.unbind)}OC(e,t),e.addCommand("ToggleSidebar",(L,z)=>{uo.toggleSidebar(i,z),_N(e)}),e.addQueryValueHandler("ToggleSidebar",()=>{var L;return(L=uo.whichSidebar(i))!==null&&L!==void 0?L:""}),e.addCommand("ToggleView",(L,z)=>{if(uo.toggleView(i,z)){const R=i.element;r.mothership.broadcastOn([qi()],{target:R}),_e(a,W=>{W.broadcastOn([qi()],{target:R})}),Ue(uo.whichView(i))&&(e.focus(),e.nodeChanged(),uo.refreshToolbar(i)),DN(e)}}),e.addQueryValueHandler("ToggleView",()=>{var L;return(L=uo.whichView(i))!==null&&L!==void 0?L:""});const y=Vd(e),T=()=>{uo.refreshToolbar(t.mainUi.outerContainer)};(y===Xa.sliding||y===Xa.floating)&&e.on("ResizeWindow ResizeEditor ResizeContent",()=>{const L=e.getWin().innerWidth;L!==c.get()&&(T(),c.set(L))});const _={setEnabled:L=>{bh(t,L?"setEnabled":"setDisabled")},isEnabled:()=>!gt.isDisabled(i)};return{iframeContainer:f.element.dom,editorContainer:i.element.dom,api:_}}});const Cj=e=>/^[0-9\.]+(|px)$/i.test(""+e)?h.some(parseInt(""+e,10)):h.none(),pv=e=>Rt(e)?e+"px":e,dp=(e,t,n)=>{const o=t.filter(r=>e<r),s=n.filter(r=>e>r);return o.or(s).getOr(e)},Tj=(e,t)=>{if(typeof t=="number")return h.from(t);const n=/^([0-9.]+)(pt|em|px)$/.exec(t.trim());if(n){const o=n[2],s=Number.parseFloat(n[1]);if(Number.isNaN(s)||s<0)return h.none();if(o==="em")return h.from(s*Number.parseFloat(window.getComputedStyle(e.dom).fontSize));if(o==="pt")return h.from(s*(72/96));if(o==="px")return h.from(s)}return h.none()},kj=e=>{const t=Tj(Be.fromDom(e.targetElm),Cb(e)),n=Ob(e),o=Ab(e);return t.map(s=>dp(s,n,o))},Oj=e=>kj(e).getOr(Cb(e)),v6=e=>{const t=Tb(e),n=kb(e),o=O1(e);return Cj(t).map(s=>dp(s,n,o))},Aj=e=>v6(e).getOr(Tb(e)),{ToolbarLocation:fv,ToolbarMode:y6}=oR,Ej=40,Mj=(e,t,n,o,s)=>{const{mainUi:r,uiMotherships:a}=n,c=oh.DOM,i=zd(e),d=Zd(e),g=O1(e).or(v6(e)),f=o.shared.header,y=f.isPositionedAtTop,T=150,_=Vd(e),L=_===y6.sliding||_===y6.floating,z=ot(!1),R=()=>z.get()&&!e.removed,W=at=>L?at.fold(A(0),be=>be.components().length>1?pn(be.components()[1].element):0):0,G=at=>{switch(Eb(e)){case fv.auto:const be=uo.getToolbar(r.outerContainer),Pe=W(be),Et=pn(at.element)-Pe,Wt=Rs(t);if(Wt.y>Et)return"top";{const Zt=jl(t),Yn=Math.max(Zt.dom.scrollHeight,pn(Zt));return Wt.bottom<Yn-Et||Sr().bottom<Wt.bottom-Et?"bottom":"top"}case fv.bottom:return"bottom";case fv.top:default:return"top"}},oe=at=>{s.on(be=>{Do.setModes(be,[at]),f.setDockingMode(at);const Pe=y()?Vi.TopToBottom:Vi.BottomToTop;Lt(be.element,o0,Pe)})},ae=()=>{s.on(at=>{const be=g.getOrThunk(()=>Om().width-fl(t).left-10);Vt(at.element,"max-width",be+"px")})},ze=(at,be)=>{s.on(Pe=>{const Et=uo.getToolbar(r.outerContainer),Wt=W(Et),ft=Rs(t),Zt=Ke(e,r.outerContainer.element),Yn=()=>Zt.fold(()=>ft.x,Os=>{const Xr=Rs(Os);return dn(Os,ac())?ft.x:ft.x-Xr.x}),jn=()=>Zt.fold(()=>y()?Math.max(ft.y-pn(Pe.element)+Wt,0):ft.bottom,Os=>{var Xr;const Jr=Rs(Os),Ha=(Xr=Os.dom.scrollTop)!==null&&Xr!==void 0?Xr:0,Ec=dn(Os,ac())?Math.max(ft.y-pn(Pe.element)+Wt,0):ft.y-Jr.y+Ha-pn(Pe.element)+Wt;return y()?Ec:ft.bottom}),kr=Yn(),Oo=Ao(at,Math.ceil(r.outerContainer.element.dom.getBoundingClientRect().width)).filter(Os=>Os>T).map(Os=>{const Xr=be.getOr(Rr()),Jr=window.innerWidth-(kr-Xr.left),Ha=Math.max(Math.min(Os,Jr),T);return Jr<Os&&Vt(r.outerContainer.element,"width",Ha+"px"),{width:Ha+"px"}}).getOr({width:"max-content"}),Yr={position:"absolute",left:Math.round(kr)+"px",top:jn()+"px"};Lc(r.outerContainer.element,{...Yr,...Oo})})},Ke=(at,be)=>Il(at)?cf(be):h.none(),Y=()=>{_e(a,at=>{at.broadcastOn([Ml()],{})})},qe=()=>!i&&(Hr(r.outerContainer.element).left+gl(r.outerContainer.element)>=window.innerWidth-Ej||H(r.outerContainer.element,"width").isSome())?(Vt(r.outerContainer.element,"position","absolute"),Vt(r.outerContainer.element,"left","0px"),Ne(r.outerContainer.element,"width"),!0):!1,vt=at=>{if(!R())return;i||ae();const be=Rr(),Pe=i?!1:qe();if(L&&uo.refreshToolbar(r.outerContainer),!i){const Et=Rr(),Wt=Ao(be.left!==Et.left,be);ze(Pe,Wt),Wt.each(ft=>{gd(ft.left,Et.top)})}d&&s.on(at),Y()},ct=()=>i||!d||!R()?!1:s.get().exists(at=>{const be=f.getDockingMode(),Pe=G(at);return Pe!==be?(oe(Pe),!0):!1});return{isVisible:R,isPositionedAtTop:y,show:()=>{z.set(!0),Vt(r.outerContainer.element,"display","flex"),c.addClass(e.getBody(),"mce-edit-focus"),_e(a,at=>{Ne(at.element,"display")}),ct(),Il(e)?vt(at=>Do.isDocked(at)?Do.reset(at):Do.refresh(at)):vt(Do.refresh)},hide:()=>{z.set(!1),Vt(r.outerContainer.element,"display","none"),c.removeClass(e.getBody(),"mce-edit-focus"),_e(a,at=>{Vt(at.element,"display","none")})},update:vt,updateMode:()=>{ct()&&vt(Do.reset)},repositionPopups:Y}},x6=(e,t)=>{const n=Rs(e);return{pos:t?n.y:n.bottom,bounds:n}},_j=(e,t,n,o)=>{const s=ot(x6(t,n.isPositionedAtTop())),r=d=>{const{pos:g,bounds:f}=x6(t,n.isPositionedAtTop()),{pos:y,bounds:T}=s.get(),_=f.height!==T.height||f.width!==T.width;s.set({pos:g,bounds:f}),_&&T2(e,d),n.isVisible()&&(y!==g?n.update(Do.reset):_&&(n.updateMode(),n.repositionPopups()))};o||(e.on("activate",n.show),e.on("deactivate",n.hide)),e.on("SkinLoaded ResizeWindow",()=>n.update(Do.reset)),e.on("NodeChange keydown",d=>{requestAnimationFrame(()=>r(d))});let a=0;const c=_r(()=>n.update(Do.refresh),33);e.on("ScrollWindow",()=>{const d=Rr().left;d!==a&&(a=d,c.throttle()),n.updateMode()}),Il(e)&&e.on("ElementScroll",d=>{n.update(Do.refresh)});const i=Vs();i.set(Xl(Be.fromDom(e.getBody()),"load",d=>r(d.raw))),e.on("remove",()=>{i.clear()})};var Dj=Object.freeze({__proto__:null,render:(e,t,n,o,s)=>{const{mainUi:r}=t,a=kn(),c=Be.fromDom(s.targetNode),i=Mj(e,c,t,o,a),d=eS(e);SW(e);const g=()=>{if(a.isSet()){i.show();return}a.set(uo.getHeader(r.outerContainer).getOrDie());const y=Ib(e);Il(e)?(zg(c,r.mothership),zg(c,t.popupUi.mothership)):b0(y,r.mothership),b0(y,t.dialogUi.mothership);const T=()=>{f6(e,t,n,o),uo.setMenubar(r.outerContainer,UT(e,n)),i.show(),_j(e,c,i,d),e.nodeChanged()};d?e.once("SkinLoaded",T):T()};e.on("show",g),e.on("hide",i.hide),d||(e.on("focus",g),e.on("blur",i.hide)),e.on("init",()=>{(e.hasFocus()||d)&&g()}),OC(e,t);const f={show:g,hide:i.hide,setEnabled:y=>{bh(t,y?"setEnabled":"setDisabled")},isEnabled:()=>!gt.isDisabled(r.outerContainer)};return{editorContainer:r.outerContainer.element.dom,api:f}}});const Fj=()=>{const e=kn(),t=kn(),n=kn();return{dialogUi:e,popupUi:t,mainUi:n,getUiMotherships:()=>{const r=e.get().map(c=>c.mothership),a=t.get().map(c=>c.mothership);return r.fold(()=>a.toArray(),c=>a.fold(()=>[c],i=>dn(c.element,i.element)?[c]:[c,i]))},lazyGetInOuterOrDie:(r,a)=>()=>n.get().bind(c=>a(c.outerContainer)).getOrDie(`Could not find ${r} element in OuterContainer`)}},Ij="contexttoolbar-show",w6="contexttoolbar-hide",nm=(e,t,n)=>({setInputEnabled:o=>{!o&&n&&jo(n),gt.set(e,!o)},isInputEnabled:()=>!gt.isDisabled(e),hide:()=>{Cn(e,gg())},back:()=>{Cn(e,ip)},getValue:()=>t.get().getOrThunk(()=>Ye.getValue(e)),setValue:o=>{e.getSystem().isConnected()?Ye.setValue(e,o):t.set(o)}}),S6=(e,t,n)=>le(z2,(o,s)=>{const r=e.get(o),a=nm(r,n,o.element);t.onAction(a,s.event.buttonApi)}),$j=(e,t,n,o)=>{const{primary:s,...r}=t.original,a=dc(u2({...r,type:"button",onAction:ce}));return iv(a,n,[S6(e,t,o)])},Hj=(e,t,n,o)=>{const{primary:s,...r}=t.original,a=dc(yC({...r,type:"togglebutton",onAction:ce}));return XT(a,n,[S6(e,t,o)])},Rj=e=>e.type==="contextformtogglebutton",Lj=(e,t,n,o)=>Rj(t)?Hj(e,t,n,o):$j(e,t,n,o),C6=(e,t,n,o)=>{const s=re(t,c=>Vn(Lj(e,c,n,o)));return{asSpecs:()=>re(s,c=>c.asSpec()),findPrimary:c=>kt(t,(i,d)=>i.primary?h.from(s[d]).bind(g=>g.getOpt(c)).filter(Xt(gt.isDisabled)):h.none())}},Pj=(e,t,n,o)=>{const{width:s,height:r}=e.initValue();let a=J1;const c=!0,i=O("ratio-event"),d=Y=>nm(Y,o),g=Y=>$a(Y,{tag:"span",classes:["tox-icon","tox-lock-icon__"+Y]},t.icons),f=()=>!c,y=e.label.getOr("Constrain proportions"),T=t.translate(y),_=Go.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-lock-context-form-size-input","tox-button","tox-button--naked","tox-button--icon"],attributes:{"aria-label":T,"data-mce-name":y}},components:[g("lock"),g("unlock")],buttonBehaviours:Fe([gt.config({disabled:f}),co.config({}),ko.config(t.tooltips.getConfig({tooltipText:T}))])}),L=Y=>({dom:{tag:"div",classes:["tox-context-form__group"]},components:Y}),z=Y=>ja(Y.element,"div.tox-focusable-wrapper").fold(h.none,vt=>(jo(vt),h.some(!0))),R=Y=>mn.parts.field({factory:Yi,inputClasses:["tox-textfield","tox-toolbar-textfield","tox-textfield-size"],data:Y?s:r,inputBehaviours:Fe([gt.config({disabled:f}),co.config({}),Pt("size-input-toolbar-events",[le(gc(),(qe,vt)=>{Ct(qe,i,{isField1:Y})})]),pt.config({mode:"special",onEnter:n,onEscape:z})]),selectOnFocus:!1}),W=Y=>({dom:{tag:"label",classes:["tox-label"]},components:[To(t.translate(Y))]}),G=Y=>({dom:{tag:"div",classes:["tox-focusable-wrapper","tox-toolbar-nav-item"]},components:[Y],behaviours:Fe([co.config({}),It.config({}),pt.config({mode:"special",onEnter:qe=>Qn(qe.element,"input").fold(h.none,ct=>(jo(ct),h.some(!0)))})])}),oe=G(Go.parts.field1(L([mn.parts.label(W("Width:")),R(!0)]))),ae=G(Go.parts.field2(L([mn.parts.label(W("Height:")),R(!1)]))),ze=ot(ce),Ke=[Xc({onBeforeSetup:Y=>Qn(Y.element,"input").each(jo),onSetup:e.onSetup,getApi:d},ze),p2({getApi:d},ze,o)];return Go.sketch({dom:{tag:"div",classes:["tox-context-form__group"]},components:[oe,L([_]),ae],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(Y,qe,vt)=>{X1(Ye.getValue(Y)).each(ct=>{a(ct).each(nn=>{Ye.setValue(qe,q5(nn))})})},onInput:Y=>Cn(Y,b5),coupledFieldBehaviours:Fe([It.config({}),pt.config({mode:"flow",focusInside:Sl.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-focusable-wrapper"}),gt.config({disabled:f,onDisabled:Y=>{Go.getField1(Y).bind(mn.getField).each(gt.disable),Go.getField2(Y).bind(mn.getField).each(gt.disable),Go.getLock(Y).each(gt.disable)},onEnabled:Y=>{Go.getField1(Y).bind(mn.getField).each(gt.enable),Go.getField2(Y).bind(mn.getField).each(gt.enable),Go.getLock(Y).each(gt.enable)}}),qo(()=>t.checkUiComponentContext("mode:design")),Pt("size-input-toolbar-events2",[le(i,(Y,qe)=>{const vt=qe.event.isField1,ct=vt?Go.getField1(Y):Go.getField2(Y),nn=vt?Go.getField2(Y):Go.getField1(Y),$t=ct.map(Ye.getValue).getOr(""),Bt=nn.map(Ye.getValue).getOr("");a=Y5($t,Bt)}),le(b5,Y=>e.onInput(d(Y))),...Ke])])})},T6=(e,t,n)=>mn.sketch({dom:{tag:"div",classes:["tox-context-form__group"]},components:[...e.toArray(),t],fieldBehaviours:Fe([gt.config({disabled:()=>n.checkUiComponentContext("mode:design").shouldDisable,onDisabled:o=>{_W(o),mn.getField(o).each(gt.disable)},onEnabled:o=>{mn.getField(o).each(gt.enable)}})])}),Bj=(e,t,n,o)=>{const s=ot(ce),r=i=>nm(i,o),a=e.label.map(i=>mn.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[To(t.translate(i))]})),c=mn.parts.field({factory:Yi,type:"range",inputClasses:["tox-toolbar-slider__input","tox-toolbar-nav-item"],inputAttributes:{min:String(e.min()),max:String(e.max())},data:e.initValue().toString(),fromInputValue:i=>rr(i).getOr(e.min()),toInputValue:i=>String(i),inputBehaviours:Fe([gt.config({disabled:()=>t.checkUiComponentContext("mode:design").shouldDisable}),qo(()=>t.checkUiComponentContext("mode:design")),pt.config({mode:"special",onEnter:n,onLeft:(i,d)=>(d.cut(),h.none()),onRight:(i,d)=>(d.cut(),h.none())}),Pt("slider-events",[Xc({onSetup:e.onSetup,getApi:r,onBeforeSetup:pt.focusIn},s),p2({getApi:r},s,o),le(Ni(),i=>{e.onInput(r(i))})])])});return T6(a,c,t)},Nj=(e,t,n,o)=>{const s=ot(ce),r=g=>nm(g,o),a=e.label.map(g=>mn.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[To(t.translate(g))]})),i={...e.placeholder.map(g=>({placeholder:t.translate(g)})).getOr({})},d=mn.parts.field({factory:Yi,inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-item"],inputAttributes:i,data:e.initValue(),selectOnFocus:!0,inputBehaviours:Fe([gt.config({disabled:()=>t.checkUiComponentContext("mode:design").shouldDisable}),qo(()=>t.checkUiComponentContext("mode:design")),pt.config({mode:"special",onEnter:n,onLeft:(g,f)=>(f.cut(),h.none()),onRight:(g,f)=>(f.cut(),h.none())}),Pt("input-events",[Xc({onSetup:e.onSetup,getApi:g=>ja(g.element,".tox-toolbar").bind(y=>Qn(y,"button:enabled")).fold(()=>nm(g,o),y=>nm(g,o,y)),onBeforeSetup:pt.focusIn},s),p2({getApi:r},s,o),le(Ni(),g=>{e.onInput(r(g))})])])});return T6(a,d,t)},bv=(e,t,n)=>{const o=kn(),r=Vn(e(n,d=>c.findPrimary(d).orThunk(()=>i.findPrimary(d)).map(g=>(xu(g),!0)),o)),a=Rn(t.commands,d=>d.align==="start"),c=C6(r,a.pass,n,o),i=C6(r,a.fail,n,o);return jt([{title:h.none(),label:h.none(),items:c.asSpecs()},{title:h.none(),label:h.none(),items:[r.asSpec()]},{title:h.none(),label:h.none(),items:i.asSpecs()}],d=>d.items.length>0)},k6=(e,t)=>{switch(e.type){case"contextform":return bv(cn(Nj,e),e,t);case"contextsliderform":return bv(cn(Bj,e),e,t);case"contextsizeinputform":return bv(cn(Pj,e),e,t)}},Vj={renderContextForm:(e,t,n)=>rp({type:e,uid:O("context-toolbar"),initGroups:k6(t,n),onEscape:h.none,cyclicKeying:!0,providers:n}),buildInitGroups:k6},O6=(e,t,n)=>t.bottom-e.y>=n&&e.bottom-t.y>=n,zj=e=>{const t=e.getBoundingClientRect();if(t.height<=0&&t.width<=0){const n=_i(Be.fromDom(e.startContainer),e.startOffset).element;return(Ic(n)?ir(n):h.some(n)).filter(br).map(s=>s.dom.getBoundingClientRect()).getOr(t)}else return t},vv=e=>{const t=e.selection.getRng(),n=zj(t);if(e.inline){const o=Rr();return Hs(o.left+n.left,o.top+n.top,n.width,n.height)}else{const o=mu(Be.fromDom(e.getBody()));return Hs(o.x+n.left,o.y+n.top,n.width,n.height)}},Zj=(e,t)=>t.filter(n=>ur(n)&&td(n)).map(mu).getOrThunk(()=>vv(e)),Uj=(e,t,n)=>{const o=Math.max(e.x+n,t.x),s=Math.min(e.right-n,t.right);return{x:o,width:s-o}},Wj=(e,t,n,o,s,r)=>{const a=Be.fromDom(e.getContainer()),c=Qn(a,".tox-editor-header").getOr(a),i=Rs(c),d=i.y>=t.bottom,g=o&&!d;if(e.inline&&g)return{y:Math.max(i.bottom+r,n.y),bottom:n.bottom};if(e.inline&&!g)return{y:n.y,bottom:Math.min(i.y-r,n.bottom)};const f=s==="line"?Rs(a):t;return g?{y:Math.max(i.bottom+r,n.y),bottom:Math.min(f.bottom-r,n.bottom)}:{y:Math.max(f.y+r,n.y),bottom:Math.min(i.y-r,n.bottom)}},A6=(e,t,n,o=0)=>{const s=Om(window),r=Rs(Be.fromDom(e.getContentAreaContainer())),a=E1(e)||M1(e)||ah(e),{x:c,width:i}=Uj(r,s,o);if(e.inline&&!a)return Hs(c,s.y,i,s.height);{const d=t.header.isPositionedAtTop(),{y:g,bottom:f}=Wj(e,r,s,d,n,o);return Hs(c,g,i,f-g)}},mp=12,E6={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},M6={maxHeightFunction:Ad(),maxWidthFunction:n0()},jj=(e,t)=>{const n=e.selection.getRng(),o=_i(Be.fromDom(n.startContainer),n.startOffset);return n.startContainer===n.endContainer&&n.startOffset===n.endOffset-1&&dn(o.element,t)},Gj=(e,t,n)=>{const o=H(e,"position");Vt(e,"position",t);const s=n(e);return o.each(r=>Vt(e,"position",r)),s},_6=e=>e==="node",qj=(e,t,n,o,s)=>{const r=vv(e),a=o.lastElement().exists(c=>dn(n,c));if(jj(e,n))return a?r4:bc;if(a)return Gj(t,o.getMode(),()=>O6(r,Rs(t),-20)&&!o.isReposition()?dA:r4);{const c=o.getMode()==="fixed"?s.y+Rr().top:s.y,i=pn(t)+mp;return c+i<=r.y?bc:Bm}},Kj=(e,t,n,o)=>{const s=i=>(d,g,f,y,T)=>{const _=qj(e,y,i,n,T),L={...d,y:T.y,height:T.height};return{..._(L,g,f,y,T),alwaysFit:!0}},r=i=>_6(o)?[s(i)]:[];return t?{onLtr:i=>[us,is,ls,Xs,Js,Ts].concat(r(i)),onRtl:i=>[us,ls,is,Js,Xs,Ts].concat(r(i))}:{onLtr:i=>[Ts,us,Xs,is,Js,ls].concat(r(i)),onRtl:i=>[Ts,us,Js,ls,Xs,is].concat(r(i))}},Yj=(e,t,n,o)=>t==="line"?{bubble:fc(mp,0,E6),layouts:{onLtr:()=>[Gf],onRtl:()=>[qf]},overrides:M6}:{bubble:fc(0,mp,E6,1/mp),layouts:Kj(e,n,o,t),overrides:M6},yv=(e,t)=>{const n=jt(t,r=>r.predicate(e.dom)),{pass:o,fail:s}=Rn(n,r=>r.type==="contexttoolbar");return{contextToolbars:o,contextForms:s}},Xj=e=>{if(e.length<=1)return e;{const t=r=>Dt(e,a=>a.position===r),n=r=>jt(e,a=>a.position===r),o=t("selection"),s=t("node");if(o||s)if(s&&o){const r=n("node"),a=re(n("selection"),c=>({...c,position:"node"}));return r.concat(a)}else return n(o?"selection":"node");else return n("line")}},Jj=e=>{if(e.length<=1)return e;{const t=o=>ve(e,s=>s.position===o);return t("selection").orThunk(()=>t("node")).orThunk(()=>t("line")).map(o=>o.position).fold(()=>[],o=>jt(e,s=>s.position===o))}},Qj=(e,t,n)=>{const o=yv(e,t);if(o.contextForms.length>0)return h.some({elem:e,toolbars:[o.contextForms[0]]});{const s=yv(e,n);if(s.contextForms.length>0)return h.some({elem:e,toolbars:[s.contextForms[0]]});if(o.contextToolbars.length>0||s.contextToolbars.length>0){const r=Xj(o.contextToolbars.concat(s.contextToolbars));return h.some({elem:e,toolbars:r})}else return h.none()}},eG=(e,t,n)=>e(t)?h.none():og(t,o=>{if(br(o)){const{contextToolbars:s,contextForms:r}=yv(o,n.inNodeScope),a=r.length>0?r:Jj(s);return a.length>0?h.some({elem:o,toolbars:a}):h.none()}else return h.none()},e),tG=(e,t)=>{const n=Be.fromDom(t.getBody()),o=a=>dn(a,n),s=a=>!o(a)&&!zr(n,a),r=Be.fromDom(t.selection.getNode());return s(r)?h.none():Qj(r,e.inNodeScope,e.inEditorScope).orThunk(()=>eG(o,r,e))},nG=(e,t)=>{const n={},o=[],s=[],r={},a={},c=(g,f)=>{const y=dc(sB(f));n[g]=y,y.launch.map(T=>{r["form:"+g]={...f.launch,type:T.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{t(y)}}}),y.scope==="editor"?s.push(y):o.push(y),a[g]=y},i=(g,f)=>{lB(f).each(y=>{y.launch.isSome()&&(r["toolbar:"+g]={...f.launch,type:"button",onAction:()=>{t(y)}}),f.scope==="editor"?s.push(y):o.push(y),a[g]=y})},d=en(e);return _e(d,g=>{const f=e[g];f.type==="contextform"||f.type==="contextsliderform"||f.type==="contextsizeinputform"?c(g,f):f.type==="contexttoolbar"&&i(g,f)}),{forms:n,inNodeScope:o,inEditorScope:s,lookupTable:a,formNavigators:r}},xv="tox-pop--transition",oG=e=>e===lp.ENTER||e===lp.SPACEBAR,sG=(e,t,n,o)=>{const s=o.backstage,r=s.shared,a=fs().deviceType.isTouch,c=kn(),i=kn(),d=kn(),g=DW({sink:n,onEscape:()=>(e.focus(),GC(e),h.some(!0)),onHide:()=>{GC(e)},onBack:()=>{FN(e)}}),f=hr(g.sketch),y=()=>{const $t=d.get().getOr("node"),Bt=_6($t)?1:0;return A6(e,r,$t,Bt)},T=()=>!e.removed&&!(a()&&s.isContextMenuOpen()),_=$t=>dt(Dn($t,c.get(),dn),!0),L=()=>{if(T()){const $t=y(),Bt=dt(d.get(),"node")?Zj(e,c.get()):vv(e);return $t.height<=0||!O6(Bt,$t,.01)}else return!0},z=()=>{c.clear(),i.clear(),d.clear(),Io.hide(f)},R=()=>{if(Io.isOpen(f)){const $t=f.element;Ne($t,"display"),L()?Vt($t,"display","none"):(i.set(0),Io.reposition(f))}},W=$t=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[$t],behaviours:Fe([pt.config({mode:"acyclic"}),Pt("pop-dialog-wrap-events",[vo(Bt=>{e.shortcuts.add("ctrl+F9","focus statusbar",()=>pt.focusIn(Bt))}),Zc(Bt=>{e.shortcuts.remove("ctrl+F9")})])])}),G=$t=>{const Bt=Ke([$t]);Ct(f,QT,{forwardContents:W(Bt)})},oe=_s(()=>nG(t,G)),ae=($t,Bt)=>up(e,{buttons:$t,toolbar:Bt.items,allowToolbarGroups:!1},o.backstage,h.some(["form:","toolbar:"])),ze=($t,Bt)=>Vj.buildInitGroups($t,Bt),Ke=$t=>{const{buttons:Bt}=e.ui.registry.getAll(),at=oe(),be={...Bt,...at.formNavigators},Pe=Vd(e)===Xa.scrolling?Xa.scrolling:Xa.default,Et=je(re($t,Wt=>Wt.type==="contexttoolbar"?ae(be,iB(Wt)):ze(Wt,r.providers)));return rp({type:Pe,uid:O("context-toolbar"),initGroups:Et,onEscape:h.none,cyclicKeying:!0,providers:r.providers})},Y=($t,Bt)=>{const at=$t==="node"?r.anchors.node(Bt):r.anchors.cursor(),be=Yj(e,$t,a(),{lastElement:c.get,isReposition:()=>dt(i.get(),0),getMode:()=>gr.getMode(n)});return ke(at,be)},qe=($t,Bt)=>{if(nn.cancel(),!T())return;const at=Ke($t),be=$t[0].position,Pe=Y(be,Bt);d.set(be),i.set(1);const Et=f.element;Ne(Et,"display"),_(Bt)||(Lo(Et,xv),gr.reset(n,f)),Io.showWithinBounds(f,W(at),{anchor:Pe,transition:{classes:[xv],mode:"placement"}},()=>h.some(y())),Bt.fold(c.clear,c.set),L()&&Vt(Et,"display","none")},vt=()=>{Vt(f.element,"transition","none"),R(),Ne(f.element,"transition")};let ct=!1;const nn=_r(()=>{if(!(!e.hasFocus()||e.removed||ct))if(xr(f.element,xv))nn.throttle();else{const $t=oe();tG($t,e).fold(z,Bt=>{qe(Bt.toolbars,h.some(Bt.elem))})}},17);e.on("init",()=>{e.on("remove",z),e.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",R),e.on("click focus SetContent",nn.throttle),e.on("keyup",$t=>{(!oG($t.keyCode)||!g.inSubtoolbar())&&nn.throttle()}),e.on(w6,z),e.on(Ij,$t=>{const Bt=oe();lt(Bt.lookupTable,$t.toolbarKey).each(at=>{qe([at],Ao($t.target!==e,$t.target)),JT(f)})}),e.on("focusout",$t=>{T1.setEditorTimeout(e,()=>{bs(n.element).isNone()&&bs(f.element).isNone()&&!e.hasFocus()&&z()},0)}),e.on("SwitchMode",()=>{e.mode.isReadOnly()&&z()}),e.on("DisabledStateChange",$t=>{$t.state&&z()}),e.on("ExecCommand",({command:$t})=>{$t.toLowerCase()==="toggleview"&&z()}),e.on("AfterProgressState",$t=>{$t.state?z():e.hasFocus()&&nn.throttle()}),e.on("dragstart",()=>{ct=!0}),e.on("dragend drop",()=>{ct=!1}),e.on("NodeChange",$t=>{g.inSubtoolbar()?vt():bs(f.element).fold(nn.throttle,ce)})})},rG=e=>{_e([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],n=>{e.ui.registry.addToggleButton(n.name,{tooltip:n.text,icon:n.icon,onAction:pa(e,n.cmd),onSetup:Z1(e,n.name)})}),e.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:Tr(e),onAction:pa(e,"JustifyNone")})},D6=(e,t)=>{const n=()=>{const o=t.getOptions(e),s=t.getCurrent(e).map(t.hash),r=kn();return re(o,a=>({type:"togglemenuitem",text:t.display(a),onSetup:c=>{const i=g=>{g&&(r.on(f=>f.setActive(!1)),r.set(c)),c.setActive(g)};i(dt(s,t.hash(a)));const d=t.watcher(e,a,i);return()=>{r.clear(),d()}},onAction:()=>t.setCurrent(e,a)}))};e.ui.registry.addMenuButton(t.name,{tooltip:t.text,icon:t.icon,fetch:o=>o(n()),onSetup:t.onToolbarSetup}),e.ui.registry.addNestedMenuItem(t.name,{type:"nestedmenuitem",text:t.text,getSubmenuItems:n,onSetup:t.onMenuSetup})},aG=e=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:wS,hash:t=>No(t,["fixed","relative","empty"]).getOr(t),display:Ve,watcher:(t,n,o)=>t.formatter.formatChanged("lineheight",o,!1,{value:n}).unbind,getCurrent:t=>h.from(t.queryCommandValue("LineHeight")),setCurrent:(t,n)=>t.execCommand("LineHeight",!1,n),onToolbarSetup:Tr(e),onMenuSetup:Tr(e)}),cG=e=>h.from(Xw(e)).map(n=>({name:"language",text:"Language",icon:"language",getOptions:A(n),hash:o=>Qe(o.customCode)?o.code:`${o.code}/${o.customCode}`,display:o=>o.title,watcher:(o,s,r)=>{var a;return o.formatter.formatChanged("lang",r,!1,{value:s.code,customValue:(a=s.customCode)!==null&&a!==void 0?a:null}).unbind},getCurrent:o=>{const s=Be.fromDom(o.selection.getNode());return fd(s,r=>h.some(r).filter(br).bind(a=>es(a,"lang").map(i=>{const d=es(a,"data-mce-lang").getOrUndefined();return{code:i,customCode:d,title:""}})))},setCurrent:(o,s)=>o.execCommand("Lang",!1,s),onToolbarSetup:o=>{const s=Vs();return o.setActive(e.formatter.match("lang",{},void 0,!0)),s.set(e.formatter.formatChanged("lang",o.setActive,!0)),z1(s.clear,Tr(e)(o))},onMenuSetup:Tr(e)})),iG=e=>{D6(e,aG(e)),cG(e).each(t=>D6(e,t))},lG=(e,t)=>{BW(e,t),GW(e,t),uj(e,t),zW(e,t),cj(e,t)},uG=e=>{e.ui.registry.addContext("editable",()=>e.selection.isEditable()),e.ui.registry.addContext("mode",t=>e.mode.get()===t),e.ui.registry.addContext("any",st),e.ui.registry.addContext("formatting",t=>e.formatter.canApply(t)),e.ui.registry.addContext("insert",t=>e.schema.isValidChild(e.selection.getNode().tagName,t))},dG=e=>Wu(e,"NodeChange",t=>{t.setEnabled(e.queryCommandState("outdent")&&e.selection.isEditable())}),mG=e=>{e.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:dG(e),onAction:pa(e,"outdent")}),e.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:Tr(e),onAction:pa(e,"indent")})},hG=e=>{mG(e)},F6=(e,t)=>n=>{n.setActive(t.get());const o=s=>{t.set(s.state),n.setActive(s.state)};return e.on("PastePlainTextToggle",o),z1(()=>e.off("PastePlainTextToggle",o),Tr(e)(n))},gG=e=>{const t=ot(gS(e)),n=()=>e.execCommand("mceTogglePlainTextPaste");e.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:n,onSetup:F6(e,t)}),e.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:n,onSetup:F6(e,t)})},wv=(e,t)=>()=>{e.execCommand("mceToggleFormat",!1,t)},pG=e=>{Qi.each([{name:"bold",text:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(t,n)=>{e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onSetup:Z1(e,t.name),onAction:wv(e,t.name),shortcut:t.shortcut})});for(let t=1;t<=6;t++){const n="h"+t,o=`Access+${t}`;e.ui.registry.addToggleButton(n,{text:n.toUpperCase(),tooltip:"Heading "+t,onSetup:Z1(e,n),onAction:wv(e,n),shortcut:o})}},fG=e=>{Qi.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy",context:"any"},{name:"help",text:"Help",action:"mceHelp",icon:"help",shortcut:"Alt+0",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],t=>{e.ui.registry.addButton(t.name,{tooltip:t.text,icon:t.icon,onAction:pa(e,t.action),shortcut:t.shortcut,context:t.context})}),Qi.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],t=>{e.ui.registry.addButton(t.name,{tooltip:t.text,icon:t.icon,onSetup:Tr(e),onAction:pa(e,t.action)})})},bG=e=>{Qi.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],t=>{e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onAction:pa(e,t.action),onSetup:Z1(e,t.name)})})},vG=e=>{pG(e),fG(e),bG(e)},yG=e=>{Qi.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C",context:"any"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A",context:"any"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P",context:"any"}],t=>{e.ui.registry.addMenuItem(t.name,{text:t.text,icon:t.icon,shortcut:t.shortcut,onAction:pa(e,t.action),context:t.context})}),Qi.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],t=>{e.ui.registry.addMenuItem(t.name,{text:t.text,icon:t.icon,shortcut:t.shortcut,onSetup:Tr(e),onAction:pa(e,t.action)})}),e.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:Tr(e),onAction:wv(e,"code")})},xG=e=>{vG(e),yG(e)},hp=(e,t)=>Wu(e,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",n=>{n.setEnabled(!e.mode.isReadOnly()&&e.undoManager[t]())}),wG=e=>{e.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:hp(e,"hasUndo"),onAction:pa(e,"undo")}),e.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:hp(e,"hasRedo"),onAction:pa(e,"redo")})},SG=e=>{e.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:hp(e,"hasUndo"),onAction:pa(e,"undo"),shortcut:"Meta+Z"}),e.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:hp(e,"hasRedo"),onAction:pa(e,"redo"),shortcut:"Meta+Y"})},CG=e=>{wG(e),SG(e)},TG=e=>Wu(e,"VisualAid",t=>{t.setActive(e.hasVisual)}),kG=e=>{e.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:TG(e),onAction:pa(e,"mceToggleVisualAid"),context:"any"})},OG=e=>{e.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:pa(e,"mceToggleVisualAid"),context:"any"})},AG=e=>{OG(e),kG(e)},EG=(e,t)=>{rG(e),xG(e),lG(e,t),CG(e),GN(e),AG(e),hG(e),iG(e),gG(e),uG(e)},MG=e=>X(e)?e.split(/[ ,]/):e,I6=e=>t=>t.options.get(e),_G=e=>{const t=e.options.register;t("contextmenu_avoid_overlap",{processor:"string",default:""}),t("contextmenu_never_use_native",{processor:"boolean",default:!1}),t("contextmenu",{processor:n=>n===!1?{value:[],valid:!0}:X(n)||Oe(n,X)?{value:MG(n),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})},$6=I6("contextmenu_never_use_native"),DG=I6("contextmenu_avoid_overlap"),FG=e=>H6(e).length===0,H6=e=>{const t=e.ui.registry.getAll().contextMenus,n=e.options.get("contextmenu");return e.options.isSet("contextmenu")?n:jt(n,o=>Nt(t,o))},Dh=(e,t)=>({type:"makeshift",x:e,y:t}),IG=(e,t,n)=>Dh(e.x+t,e.y+n),R6=e=>e.type==="longpress"||e.type.indexOf("touch")===0,$G=e=>{if(R6(e)){const t=e.touches[0];return Dh(t.pageX,t.pageY)}else return Dh(e.pageX,e.pageY)},HG=e=>{if(R6(e)){const t=e.touches[0];return Dh(t.clientX,t.clientY)}else return Dh(e.clientX,e.clientY)},RG=(e,t)=>{const n=oh.DOM.getPos(e);return IG(t,n.x,n.y)},LG=(e,t)=>t.type==="contextmenu"||t.type==="longpress"?e.inline?$G(t):RG(e.getContentAreaContainer(),HG(t)):L6(e),L6=e=>({type:"selection",root:Be.fromDom(e.selection.getNode())}),PG=e=>({type:"node",node:h.some(Be.fromDom(e.selection.getNode())),root:Be.fromDom(e.getBody())}),P6=(e,t,n)=>{switch(n){case"node":return PG(e);case"point":return LG(e,t);case"selection":return L6(e)}},BG=(e,t,n,o,s,r)=>{const a=n(),c=P6(e,t,r);Xd(a,kc.CLOSE_ON_EXECUTE,o,{isHorizontalMenu:!1,search:h.none()}).map(i=>{t.preventDefault(),Io.showMenuAt(s,{anchor:c},{menu:{markers:Hl("normal")},data:i})})},NG={onLtr:()=>[us,is,ls,Xs,Js,Ts,bc,Bm,Pm,_g,Lm,Mg],onRtl:()=>[us,ls,is,Js,Xs,Ts,bc,Bm,Lm,Mg,Pm,_g]},VG=12,zG={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},ZG=(e,t)=>{const n=e.selection;if(n.isCollapsed()||t.touches.length<1)return!1;{const o=t.touches[0],s=n.getRng();return bd(e.getWin(),Ga.domRange(s)).exists(a=>a.left<=o.clientX&&a.right>=o.clientX&&a.top<=o.clientY&&a.bottom>=o.clientY)}},UG=e=>{const t=e.selection.getRng(),n=()=>{T1.setEditorTimeout(e,()=>{e.selection.setRng(t)},10),r()};e.once("touchend",n);const o=a=>{a.preventDefault(),a.stopImmediatePropagation()};e.on("mousedown",o,!0);const s=()=>r();e.once("longpresscancel",s);const r=()=>{e.off("touchend",n),e.off("longpresscancel",s),e.off("mousedown",o)}},WG=(e,t,n)=>{const o=P6(e,t,n);return{bubble:fc(0,n==="point"?VG:0,zG),layouts:NG,overrides:{maxWidthFunction:n0(),maxHeightFunction:Ad()},...o}},jG=(e,t,n,o,s,r,a)=>{const c=WG(e,t,r);Xd(n,kc.CLOSE_ON_EXECUTE,o,{isHorizontalMenu:!0,search:h.none()}).map(i=>{t.preventDefault();const d=a?Pr.HighlightMenuAndItem:Pr.HighlightNone;Io.showMenuWithinBounds(s,{anchor:c},{menu:{markers:Hl("normal"),highlightOnOpen:d},data:i,type:"horizontal"},()=>h.some(A6(e,o.shared,r==="node"?"node":"selection"))),e.dispatch(w6)})},GG=(e,t,n,o,s,r)=>{const a=fs(),c=a.os.isiOS(),i=a.os.isMacOS(),d=a.os.isAndroid(),g=a.deviceType.isTouch(),f=()=>!(d||c||i&&g),y=()=>{const T=n();jG(e,t,T,o,s,r,f())};if((i||c)&&r!=="node"){const T=()=>{UG(e),y()};ZG(e,t)?T():(e.once("selectionchange",T),e.once("touchend",()=>e.off("selectionchange",T)))}else y()},B6=e=>X(e)?e==="|":e.type==="separator",Sv={type:"separator"},N6=e=>{const t=n=>({text:n.text,icon:n.icon,enabled:n.enabled,shortcut:n.shortcut});if(X(e))return e;switch(e.type){case"separator":return Sv;case"submenu":return{type:"nestedmenuitem",...t(e),getSubmenuItems:()=>{const o=e.getSubmenuItems();return X(o)?o:re(o,N6)}};default:const n=e;return{type:"menuitem",...t(n),onAction:nt(n.onAction)}}},V6=(e,t)=>{if(t.length===0)return e;const o=Jt(e).filter(s=>!B6(s)).fold(()=>[],s=>[Sv]);return e.concat(o).concat(t).concat([Sv])},qG=(e,t,n)=>{const o=On(t,(s,r)=>lt(e,r.toLowerCase()).map(a=>{const c=a.update(n);if(X(c)&&sr(va(c)))return V6(s,c.split(" "));if($e(c)&&c.length>0){const i=re(c,N6);return V6(s,i)}else return s}).getOrThunk(()=>s.concat([r])),[]);return o.length>0&&B6(o[o.length-1])&&o.pop(),o},KG=(e,t)=>t.ctrlKey&&!$6(e),YG=e=>e.type==="longpress"||Nt(e,"touches"),z6=(e,t)=>!YG(t)&&(t.button!==2||t.target===e.getBody()&&t.pointerType===""),Z6=(e,t)=>z6(e,t)?e.selection.getStart(!0):t.target,XG=(e,t)=>{const n=DG(e),o=z6(e,t)?"selection":"point";if(sr(n)){const s=Z6(e,t);return iu(Be.fromDom(s),n)?"node":o}else return o},JG=(e,t,n)=>{const s=fs().deviceType.isTouch,r=hr(Io.sketch({dom:{tag:"div"},lazySink:t,onEscape:()=>e.focus(),onShow:()=>n.setContextMenuState(!0),onHide:()=>n.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:Fe([Pt("dismissContextMenu",[le(bu(),(i,d)=>{Hn.close(i),e.focus()})])])})),a=()=>Io.hide(r),c=i=>{if($6(e)&&i.preventDefault(),KG(e,i)||FG(e))return;const d=XG(e,i),g=()=>{const y=Z6(e,i),T=e.ui.registry.getAll(),_=H6(e);return qG(T.contextMenus,_,y)};(s()?GG:BG)(e,i,g,n,r,d)};e.on("init",()=>{const i="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(s()?"":" ResizeWindow");e.on(i,a),e.on("longpress contextmenu",c)})},Cv=40,gp=Cv/2,U6=(e,t,n,o,s,r)=>e.fold(()=>Au.snap({sensor:Al(n-gp,o-gp),range:Mo(s,r),output:Al(h.some(n),h.some(o)),extra:{td:t}}),a=>{const c=n-gp,i=o-gp,d=Cv,g=Cv,f=a.element.dom.getBoundingClientRect();return Au.snap({sensor:Al(c,i),range:Mo(d,g),output:Al(h.some(n-f.width/2),h.some(o-f.height/2)),extra:{td:t}})}),W6=(e,t,n)=>{const o=(s,r)=>s.exists(a=>dn(a,r));return{getSnapPoints:e,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(s,r)=>{const a=r.td;o(t.get(),a)||(t.set(a),n(a))},mustSnap:!0}},j6=e=>Vn(Bs.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Fe([Au.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:e}),Qm.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),QG=(e,t)=>{const n=ot([]),o=ot([]),s=ot(!1),r=kn(),a=kn(),c=Ke=>{const Y=mu(Ke);return U6(T.getOpt(t),Ke,Y.x,Y.y,Y.width,Y.height)},i=()=>re(n.get(),Ke=>c(Ke)),d=Ke=>{const Y=mu(Ke);return U6(_.getOpt(t),Ke,Y.right,Y.bottom,Y.width,Y.height)},g=()=>re(o.get(),Ke=>d(Ke)),f=W6(i,r,Ke=>{a.get().each(Y=>{e.dispatch("TableSelectorChange",{start:Ke,finish:Y})})}),y=W6(g,a,Ke=>{r.get().each(Y=>{e.dispatch("TableSelectorChange",{start:Y,finish:Ke})})}),T=j6(f),_=j6(y),L=hr(T.asSpec()),z=hr(_.asSpec()),R=(Ke,Y,qe,vt)=>{const ct=Y.dom.getBoundingClientRect();Ne(Ke.element,"display");const nn=wa(Be.fromDom(e.getBody())).dom.innerHeight,$t=qe(ct),Bt=vt(ct,nn);($t||Bt)&&Vt(Ke.element,"display","none")},W=(Ke,Y,qe,vt)=>{const ct=qe(Y);Au.snapTo(Ke,ct),R(Ke,Y,Bt=>Bt[vt]<0,(Bt,at)=>Bt[vt]>at)},G=Ke=>W(L,Ke,c,"top"),oe=()=>r.get().each(G),ae=Ke=>W(z,Ke,d,"bottom"),ze=()=>a.get().each(ae);if(fs().deviceType.isTouch()){const Ke=Y=>re(Y,Be.fromDom);e.on("TableSelectionChange",Y=>{s.get()||(Tu(t,L),Tu(t,z),s.set(!0));const qe=Be.fromDom(Y.start),vt=Be.fromDom(Y.finish);r.set(qe),a.set(vt),h.from(Y.otherCells).each(ct=>{n.set(Ke(ct.upOrLeftCells)),o.set(Ke(ct.downOrRightCells)),G(qe),ae(vt)})}),e.on("ResizeEditor ResizeWindow ScrollContent",()=>{oe(),ze()}),e.on("TableSelectionClear",()=>{s.get()&&(Ui(L),Ui(z),s.set(!1)),r.clear(),a.clear()})}};var eq=`<svg height="16" viewBox="0 0 80 16" width="80" xmlns="http://www.w3.org/2000/svg"><g opacity=".8"><path d="m80 3.537v-2.202h-7.976v11.585h7.976v-2.25h-5.474v-2.621h4.812v-2.069h-4.812v-2.443zm-10.647 6.929c-.493.217-1.13.337-1.864.337s-1.276-.156-1.805-.47a3.732 3.732 0 0 1 -1.3-1.298c-.324-.554-.48-1.191-.48-1.877s.156-1.335.48-1.877a3.635 3.635 0 0 1 1.3-1.299 3.466 3.466 0 0 1 1.805-.481c.65 0 .914.06 1.263.18.36.12.698.277.986.47.289.192.578.384.842.6l.12.085v-2.586l-.023-.024c-.385-.35-.855-.614-1.384-.818-.53-.205-1.155-.313-1.877-.313-.721 0-1.6.144-2.333.445a5.773 5.773 0 0 0 -1.937 1.251 5.929 5.929 0 0 0 -1.324 1.9c-.324.735-.48 1.565-.48 2.455s.156 1.72.48 2.454c.325.734.758 1.383 1.324 1.913.553.53 1.215.938 1.937 1.25a6.286 6.286 0 0 0 2.333.434c.819 0 1.384-.108 1.961-.313.59-.216 1.083-.505 1.468-.866l.024-.024v-2.49l-.12.096c-.41.337-.878.626-1.396.866zm-14.869-4.15-4.8-5.04-.024-.025h-.902v11.67h2.502v-6.847l2.827 3.08.385.409.397-.41 2.791-3.067v6.845h2.502v-11.679h-.902l-4.788 5.052z"/><path clip-rule="evenodd" d="m15.543 5.137c0-3.032-2.466-5.113-4.957-5.137-.36 0-.745.024-1.094.096-.157.024-3.85.758-3.85.758-3.032.602-4.62 2.466-4.704 4.788-.024.89-.024 4.27-.024 4.27.036 3.165 2.406 5.138 5.017 5.126.337 0 1.119-.109 1.287-.145.144-.024.385-.084.746-.144.661-.12 1.684-.325 3.067-.602 2.37-.409 4.103-2.009 4.44-4.33.156-1.023.084-4.692.084-4.692zm-3.213 3.308-2.346.457v2.31l-5.859 1.143v-5.75l2.346-.458v3.441l3.513-.686v-3.44l-3.513.685v-2.297l5.859-1.143v5.75zm20.09-3.296-.083-1.023h-2.13v8.794h2.346v-4.884c0-1.107.95-1.985 2.057-1.997 1.095 0 1.901.89 1.901 1.997v4.884h2.346v-5.245c-.012-2.105-1.588-3.777-3.67-3.765a3.764 3.764 0 0 0 -2.778 1.25l.012-.011zm-6.014-4.102 2.346-.458v2.298l-2.346.457z" fill-rule="evenodd"/><path d="m28.752 4.126h-2.346v8.794h2.346z"/><path clip-rule="evenodd" d="m43.777 15.483 4.043-11.357h-2.418l-1.54 4.355-.445 1.324-.36-1.324-1.54-4.355h-2.418l3.151 8.794-1.083 3.08zm-21.028-5.51c0 .722.541 1.034.878 1.034s.638-.048.95-.144l.518 1.708c-.217.145-.879.518-2.13.518a2.565 2.565 0 0 1 -2.562-2.587c-.024-1.082-.024-2.49 0-4.21h-1.54v-2.142h1.54v-1.912l2.346-.458v2.37h2.201v2.142h-2.2v3.693-.012z" fill-rule="evenodd"/></g></svg>
`;const tq=e=>e.nodeName==="BR"||!!e.getAttribute("data-mce-bogus")||e.getAttribute("data-mce-type")==="bookmark",nq=(e,t,n)=>{var o;const s=(o=t.delimiter)!==null&&o!==void 0?o:"›",r=(d,g,f)=>Bs.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":f}},components:[To(d)],action:y=>{e.focus(),e.selection.select(g),e.nodeChanged()},buttonBehaviours:Fe([ko.config({...n.tooltips.getConfig({tooltipText:n.translate(["Select the {0} element",g.nodeName.toLowerCase()]),onShow:(y,T)=>{Dk(y.element,T.element)},onHide:y=>{Fk(y.element)}})}),ec.button(n.isDisabled),qo(()=>n.checkUiComponentContext("any"))])}),a=()=>({dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[To(` ${s} `)]}),c=d=>On(d,(g,f,y)=>{const T=r(f.name,f.element,y);return y===0?g.concat([T]):g.concat([a(),T])},[]),i=d=>{const g=[];let f=d.length;for(;f-- >0;){const y=d[f];if(y.nodeType===1&&!tq(y)){const T=SN(e,y);if(T.isDefaultPrevented()||g.push({name:T.name,element:y}),T.isPropagationStopped())break}}return g};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Fe([pt.config({mode:"flow",selector:"div[role=button]"}),gt.config({disabled:n.isDisabled}),qo(()=>n.checkUiComponentContext("any")),co.config({}),zt.config({}),Pt("elementPathEvents",[vo((d,g)=>{e.shortcuts.add("alt+F11","focus statusbar elementpath",()=>pt.focusIn(d)),e.on("NodeChange",f=>{const y=i(f.parents),T=y.length>0?c(y):[];zt.set(d,T)})})])]),components:[]}};var el;(function(e){e[e.None=0]="None",e[e.Both=1]="Both",e[e.Vertical=2]="Vertical"})(el||(el={}));const oq=(e,t,n,o,s)=>{const r={height:dp(o+t.top,Ob(e),Ab(e))};return n===el.Both&&(r.width=dp(s+t.left,kb(e),O1(e))),r},G6=(e,t,n)=>{const o=Be.fromDom(e.getContainer()),s=oq(e,t,n,pn(o),yr(o));sn(s,(r,a)=>{Rt(r)&&Vt(o,a,pv(r))}),yN(e)},sq=e=>{const t=hS(e);return t===!1?el.None:t==="both"?el.Both:el.Vertical},pp=(e,t,n,o)=>{const r=Mo(n*20,o*20);return G6(e,r,t),h.some(!0)},rq=(e,t)=>{const n=sq(e);if(n===el.None)return h.none();const o=n===el.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.",s=n===el.Both?"tox-statusbar__resize-cursor-both":"tox-statusbar__resize-cursor-default";return h.some($a("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle",s],attributes:{"aria-label":t.translate(o),"data-mce-name":"resize-handle"},behaviours:[Au.config({mode:"mouse",repositionTarget:!1,onDrag:(r,a,c)=>G6(e,c,n),blockerClass:"tox-blocker"}),pt.config({mode:"special",onLeft:()=>pp(e,n,-1,0),onRight:()=>pp(e,n,1,0),onUp:()=>pp(e,n,0,-1),onDown:()=>pp(e,n,0,1)}),co.config({}),It.config({}),ko.config(t.tooltips.getConfig({tooltipText:t.translate("Resize")}))]},t.icons))},aq=(e,t)=>{const n=(o,s,r)=>zt.set(o,[To(t.translate(["{0} "+r,s[r]]))]);return Bs.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Fe([ec.button(t.isDisabled),qo(()=>t.checkUiComponentContext("any")),co.config({}),zt.config({}),Ye.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Pt("wordcount-events",[zi(o=>{const s=Ye.getValue(o),r=s.mode==="words"?"characters":"words";Ye.setValue(o,{mode:r,count:s.count}),n(o,s.count,r)}),vo(o=>{e.on("wordCountUpdate",s=>{const{mode:r}=Ye.getValue(o);Ye.setValue(o,{mode:r,count:s.wordCount}),n(o,s.wordCount,r)})})])]),eventOrder:{[Ma()]:["disabling","alloy.base.behaviour","wordcount-events"]}})},cq=(e,t)=>{const n=()=>({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=poweredby&utm_source=tiny&utm_medium=referral&utm_content=v7",rel:"noopener",target:"_blank","aria-label":e.translate(["Build with {0}","TinyMCE"])},innerHtml:e.translate(["Build with {0}",eq.trim()])},behaviours:Fe([It.config({})])}]}),o=()=>{const c=f2("Alt+0"),i="Press {0} for help";return{dom:{tag:"div",classes:["tox-statusbar__help-text"]},components:[To(Ja.translate([i,c]))]}},s=()=>{const c=[];return e.hasPlugin("wordcount")&&c.push(aq(e,t)),Mb(e)&&c.push(n()),{dom:{tag:"div",classes:["tox-statusbar__right-container"]},components:c}},r=()=>{const c=[],i=bS(e),d=mS(e),g=Mb(e)||e.hasPlugin("wordcount"),f=()=>{const y="tox-statusbar__text-container--flex-start",T="tox-statusbar__text-container--flex-end",_="tox-statusbar__text-container--space-around";if(i){const L="tox-statusbar__text-container-3-cols";return!g&&!d?[L,_]:g&&!d?[L,T]:[L,y]}return[g&&!d?T:y]};return d&&c.push(nq(e,{},t)),i&&c.push(o()),g&&c.push(s()),c.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container",...f()]},components:c}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const c=r(),i=rq(e,t);return c.concat(i.toArray())})()}},q6=(e,t)=>t.get().getOrDie(`UI for ${e} has not been rendered`),iq=(e,t)=>{const n=e.inline,o=n?Dj:Sj,s=Zd(e)?pU:iU,r=Fj(),a=kn(),c=kn(),i=kn(),y=fs().deviceType.isTouch()?["tox-platform-touch"]:[],T=Fb(e),_=Vd(e),L=Vn({dom:{tag:"div",classes:["tox-anchorbar"]}}),z=Vn({dom:{tag:"div",classes:["tox-bottom-anchorbar"]}}),R=()=>r.mainUi.get().map(ft=>ft.outerContainer).bind(uo.getHeader),W=()=>Ot.fromOption(r.dialogUi.get().map(ft=>ft.sink),"UI has not been rendered"),G=()=>Ot.fromOption(r.popupUi.get().map(ft=>ft.sink),"(popup) UI has not been rendered"),oe=r.lazyGetInOuterOrDie("anchor bar",L.getOpt),ae=r.lazyGetInOuterOrDie("bottom anchor bar",z.getOpt),ze=r.lazyGetInOuterOrDie("toolbar",uo.getToolbar),Ke=r.lazyGetInOuterOrDie("throbber",uo.getThrobber),Y=sU({popup:G,dialog:W},e,oe,ae),qe=()=>{const ft={attributes:{[o0]:T?Vi.BottomToTop:Vi.TopToBottom}},Zt=uo.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:Y.popup,onEscape:()=>{e.focus()}}),Yn=uo.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:Y.popup.shared.getSink,providers:Y.popup.shared.providers,onEscape:()=>{e.focus()},onToolbarToggled:Ec=>{CN(e,Ec)},type:_,lazyToolbar:ze,lazyHeader:()=>R().getOrDie("Could not find header element"),...ft}),jn=uo.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:Y.popup.shared.providers,onEscape:()=>{e.focus()},type:_}),kr=ah(e),Oo=M1(e),Yr=E1(e),Os=fS(e),Xr=vt(Os),Jr=kr||Oo||Yr,Ha=()=>kr?[jn]:Oo?[Yn]:[],Ku=[Xr,Zt];return uo.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(Jr?[]:["tox-editor-header--empty"]),...ft},components:je([Yr?Ku:[],Ha(),zd(e)?[]:[L.asSpec()]]),sticky:Zd(e),editor:e,sharedBackstage:Y.popup.shared})},vt=ft=>uo.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]},promotionLink:ft}),ct=()=>{const ft=uo.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),Zt=uo.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}});return{dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[ft,Zt]}},nn=()=>{const ft=Ib(e),Zt=dn(ac(),ft)&&p(ft,"display")==="grid",Yn={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(y),attributes:{...Ja.isRtl()?{dir:"rtl"}:{}}},behaviours:Fe([gr.config({useFixed:()=>s.isDocked(R)})])},jn={dom:{styles:{width:document.body.clientWidth+"px"}},events:Co([le(Rm(),Yr=>{Vt(Yr.element,"width",document.body.clientWidth+"px")})])},kr=hr(ke(Yn,Zt?jn:{})),Oo=K0(kr);return c.set(Oo),{sink:kr,mothership:Oo}},$t=()=>{const ft={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(y),attributes:{...Ja.isRtl()?{dir:"rtl"}:{}}},behaviours:Fe([gr.config({useFixed:()=>s.isDocked(R),getBounds:()=>t.getPopupSinkBounds()})])},Zt=hr(ft),Yn=K0(Zt);return i.set(Yn),{sink:Zt,mothership:Yn}},Bt=()=>{const ft=qe(),Zt=ct(),Yn=uo.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:Y.popup}),jn=uo.parts.viewWrapper({backstage:Y.popup}),kr=dS(e)&&!n?h.some(cq(e,Y.popup.shared.providers)):h.none(),Oo=je([T?[]:[ft],n?[]:[Zt],T?[ft]:[]]),Yr=uo.parts.editorContainer({components:je([Oo,n?[]:[z.asSpec()]])}),Os=$b(e),Xr={role:"application",...Ja.isRtl()?{dir:"rtl"}:{},...Os?{"aria-hidden":"true"}:{}},Jr=hr(uo.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(n?["tox-tinymce-inline"]:[]).concat(T?["tox-tinymce--toolbar-bottom"]:[]).concat(y),styles:{visibility:"hidden",...Os?{opacity:"0",border:"0"}:{}},attributes:Xr},components:[Yr,...n?[]:[jn,...kr.toArray()],Yn],behaviours:Fe([qo(()=>Y.popup.shared.providers.checkUiComponentContext("any")),gt.config({disableClass:"tox-tinymce--disabled"}),pt.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),Ha=K0(Jr);return a.set(Ha),{mothership:Ha,outerContainer:Jr}},at=ft=>{const Zt=pv(Oj(e)),Yn=pv(Aj(e));return e.inline||(Te("div","width",Yn)&&Vt(ft.element,"width",Yn),Te("div","height",Zt)?Vt(ft.element,"height",Zt):Vt(ft.element,"height","400px")),Zt},be=ft=>{e.addShortcut("alt+F9","focus menubar",()=>{uo.focusMenubar(ft)}),e.addShortcut("alt+F10","focus toolbar",()=>{uo.focusToolbar(ft)}),e.addCommand("ToggleToolbarDrawer",(Zt,Yn)=>{Yn!=null&&Yn.skipFocus?uo.toggleToolbarDrawerWithoutFocusing(ft):uo.toggleToolbarDrawer(ft)}),e.addQueryStateHandler("ToggleToolbarDrawer",()=>uo.isToolbarDrawerToggled(ft))},Pe=ft=>{const{mainUi:Zt,popupUi:Yn,uiMotherships:jn}=ft;ge(Qw(e),(tl,Ih)=>{e.ui.registry.addGroupToolbarButton(Ih,tl)});const{buttons:kr,menuItems:Oo,contextToolbars:Yr,sidebars:Os,views:Xr}=e.ui.registry.getAll(),Jr=Db(e),Ha={menuItems:Oo,menus:CS(e),menubar:nS(e),toolbar:Jr.getOrThunk(()=>A1(e)),allowToolbarGroups:_===Xa.floating,buttons:kr,sidebar:Os,views:Xr};be(Zt.outerContainer),rU(e,Zt.mothership,jn),s.setup(e,Y.popup.shared,R),EG(e,Y.popup),JG(e,Y.popup.shared.getSink,Y.popup),xU(e),$U(e,Ke,Y.popup.shared),sG(e,Yr,Yn.sink,{backstage:Y.popup}),QG(e,Yn.sink);const Ku=e.getElement(),Ec=at(Zt.outerContainer),Fh={targetNode:Ku,height:Ec};return o.render(e,ft,Ha,Y.popup,Fh)},Et=ft=>(i.set(ft.mothership),ft),Wt=()=>{const ft=Bt(),Zt=nn(),Yn=Il(e)?$t():Et(Zt);r.dialogUi.set(Zt),r.popupUi.set(Yn),r.mainUi.set(ft);const jn={popupUi:Yn,dialogUi:Zt,mainUi:ft,uiMotherships:r.getUiMotherships()};return Pe(jn)};return{popups:{backstage:Y.popup,getMothership:()=>q6("popups",i)},dialogs:{backstage:Y.dialog,getMothership:()=>q6("dialogs",c)},renderUI:Wt}},K6=e=>{const t=[],n={};return sn(e,(o,s)=>{o.fold(()=>{t.push(s)},r=>{n[s]=r})}),t.length>0?Ot.error(t):Ot.value(n)},lq=(e,t,n,o)=>{const s=Vn(Rd.sketch(r=>({dom:{tag:"div",classes:["tox-form"].concat(e.classes)},components:re(e.items,a=>lT(r,a,t,n,o))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[s.asSpec()]}],behaviours:Fe([pt.config({mode:"acyclic",useTabstopAt:Xt(kh)}),Ac.memento(s),BV(s,{postprocess:r=>K6(r).fold(a=>(console.error(a),{}),Ve)}),Pt("dialog-body-panel",[le(gc(),(r,a)=>{r.getSystem().broadcastOn([K1],{newFocus:h.some(a.event.target)})})])])}},uq=(e,t,n)=>re(e,(o,s)=>{zt.set(n,e[s].view());const r=t.dom.getBoundingClientRect();return zt.set(n,[]),r.height}),dq=e=>Mt(Me(e,(t,n)=>t>n?-1:t<n?1:0)),mq=(e,t,n)=>{const o=jl(e).dom,s=ja(e,".tox-dialog-wrap").getOr(e),r=p(s,"position")==="fixed";let a;r?a=Math.max(o.clientHeight,window.innerHeight):a=Math.max(o.offsetHeight,o.scrollHeight);const c=pn(t),d=t.dom.offsetLeft>=n.dom.offsetLeft+yr(n)?Math.max(pn(n),c):c,g=parseInt(p(e,"margin-top"),10)||0,f=parseInt(p(e,"margin-bottom"),10)||0,T=pn(e)+g+f-d;return a-T},hq=(e,t)=>{Mt(e).each(n=>Bd.showTab(t,n.value))},Y6=(e,t)=>{Vt(e,"height",t+"px"),Vt(e,"flex-basis",t+"px")},fp=(e,t,n)=>{ja(e,'[role="dialog"]').each(o=>{Qn(o,'[role="tablist"]').each(s=>{n.get().map(r=>(Vt(t,"height","0"),Vt(t,"flex-basis","0"),Math.min(r,mq(o,t,s)))).each(r=>{Y6(t,r)})})})},Tv=e=>Qn(e,'[role="tabpanel"]'),gq=e=>{const t=kn();return{extraEvents:[vo(s=>{const r=s.element;Tv(r).each(a=>{Vt(a,"visibility","hidden"),s.getSystem().getByDom(a).toOptional().each(c=>{const i=uq(e,a,c);dq(i).fold(t.clear,t.set)}),fp(r,a,t),Ne(a,"visibility"),hq(e,s),requestAnimationFrame(()=>{fp(r,a,t)})})}),le(Rm(),s=>{const r=s.element;Tv(r).each(a=>{fp(r,a,t)})}),le(y5,(s,r)=>{const a=s.element;Tv(a).each(c=>{const i=Ca(Is(c));Vt(c,"visibility","hidden");const d=H(c,"height").map(y=>parseInt(y,10));Ne(c,"height"),Ne(c,"flex-basis");const g=c.dom.getBoundingClientRect().height;d.forall(y=>g>y)?(t.set(g),fp(a,c,t)):d.each(y=>{Y6(c,y)}),Ne(c,"visibility"),i.each(jo)})})],selectFirst:!1}},X6="send-data-to-section",J6="send-data-to-view",pq=(e,t,n,o)=>{const s=ot({}),r=g=>{const f=Ye.getValue(g),y=K6(f).getOr({}),T=s.get(),_=ke(T,y);s.set(_)},a=g=>{const f=s.get();Ye.setValue(g,f)},c=ot(null),i=re(e.tabs,g=>({value:g.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[To(n.shared.providers.translate(g.title))],view:()=>[Rd.sketch(f=>({dom:{tag:"div",classes:["tox-form"]},components:re(g.items,y=>lT(f,y,t,n,o)),formBehaviours:Fe([pt.config({mode:"acyclic",useTabstopAt:Xt(kh)}),Pt("TabView.form.events",[vo(a),Zc(r)]),ua.config({channels:Td([{key:X6,value:{onReceive:r}},{key:J6,value:{onReceive:a}}])})])}))]})),d=gq(i);return Bd.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(g,f,y)=>{const T=Ye.getValue(f);Ct(g,v5,{name:T,oldName:c.get()}),c.set(T)},tabs:i,components:[Bd.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[Zw.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Fe([co.config({})])}),Bd.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:d.selectFirst,tabSectionBehaviours:Fe([Pt("tabpanel",d.extraEvents),pt.config({mode:"acyclic"}),En.config({find:g=>Mt(Bd.getViewItems(g))}),Gu(h.none(),g=>(g.getSystem().broadcastOn([X6],{}),s.get()),(g,f)=>{s.set(f),g.getSystem().broadcastOn([J6],{})})])})},Q6=(e,t,n,o,s,r)=>{const a=d=>{const g=d.body;switch(g.type){case"tabpanel":return[pq(g,d.initialData,o,r)];default:return[lq(g,d.initialData,o,r)]}},c=(d,g)=>h.some({isTabPanel:()=>g.body.type==="tabpanel"}),i={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...n.map(d=>({id:d})).getOr({}),...s?i:{}}},components:[],behaviours:Fe([Ac.childAt(0),da.config({channel:`${$5}-${t}`,updateState:c,renderComponents:a,initialData:e})])}},fq=(e,t,n,o,s,r)=>Q6(e,t,h.some(n),o,s,r),bq=(e,t,n,o)=>{const s=Q6(e,t,h.none(),n,!1,o);return ds.parts.body(s)},vq=e=>{const t={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[D5(h.none(),{dom:{tag:"iframe",attributes:{src:e.url}},behaviours:Fe([co.config({}),It.config({})])})]}],behaviours:Fe([pt.config({mode:"acyclic",useTabstopAt:Xt(kh)})])};return ds.parts.body(t)},yq=Nd.deviceType.isTouch(),e8=(e,t)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[e,t]}),t8=(e,t)=>ds.parts.close(Bs.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close")}},action:e,buttonBehaviours:Fe([co.config({})])})),n8=()=>ds.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),o8=(e,t)=>ds.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:Gi(`<p>${VS(t.translate(e))}</p>`)}]}]}),s8=e=>ds.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:e}),r8=(e,t)=>[jc.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:e}),jc.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:t})],kv=e=>{const t="tox-dialog",n=t+"-wrap",o=n+"__backdrop",s=t+"__disable-scroll";return ds.sketch({lazySink:e.lazySink,onEscape:r=>(e.onEscape(r),h.some(!0)),useTabstopAt:r=>!kh(r),firstTabstop:e.firstTabstop,dom:{tag:"div",classes:[t].concat(e.extraClasses),styles:{position:"relative",...e.extraStyles}},components:[e.header,e.body,...e.footer.toArray()],parts:{blocker:{dom:Gi(`<div class="${n}"></div>`),components:[{dom:{tag:"div",classes:yq?[o,o+"--opaque"]:[o]}}]}},dragBlockClass:n,modalBehaviours:Fe([It.config({}),Pt("dialog-events",e.dialogEvents.concat([_d(gc(),(r,a)=>{Wc.isBlocked(r)?ce():pt.focusIn(r)}),le(fg(),(r,a)=>{r.getSystem().broadcastOn([K1],{newFocus:a.event.newFocus})})])),Pt("scroll-lock",[vo(()=>{Ro(ac(),s)}),Zc(()=>{Lo(ac(),s)})]),...e.extraBehaviours]),eventOrder:{[Ma()]:["dialog-events"],[Vc()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[vi()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...e.eventOrder}})},a8=e=>Bs.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":e.translate("Close"),"data-mce-name":"close"}},buttonBehaviours:Fe([co.config({}),ko.config(e.tooltips.getConfig({tooltipText:e.translate("Close")}))]),components:[$a("close",{tag:"span",classes:["tox-icon"]},e.icons)],action:t=>{Cn(t,Nl)}}),c8=(e,t,n,o)=>{const s=r=>[To(o.translate(r.title))];return{dom:{tag:"h1",classes:["tox-dialog__title"],attributes:{...n.map(r=>({id:r})).getOr({})}},components:[],behaviours:Fe([da.config({channel:`${I5}-${t}`,initialData:e,renderComponents:s})])}},i8=()=>({dom:Gi('<div class="tox-dialog__draghandle"></div>')}),xq=(e,t,n,o)=>jc.sketch({dom:Gi('<div class="tox-dialog__header"></div>'),components:[c8(e,t,h.some(n),o),i8(),a8(o)],containerBehaviours:Fe([Au.config({mode:"mouse",blockerClass:"blocker",getTarget:s=>cc(s,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"},onDrag:(s,r)=>{s.getSystem().broadcastOn([Ml()],{target:r})}})])}),wq=(e,t,n)=>{const o=ds.parts.title(c8(e,t,h.none(),n)),s=ds.parts.draghandle(i8()),r=ds.parts.close(a8(n)),a=[o].concat(e.draggable?[s]:[]).concat([r]);return jc.sketch({dom:Gi('<div class="tox-dialog__header"></div>'),components:a})},l8=(e,t,n)=>wq({title:n.shared.providers.translate(e),draggable:n.dialog.isDraggableModal()},t,n.shared.providers),u8=(e,t,n,o)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":n.translate(e)},styles:{left:"0px",right:"0px",bottom:"0px",top:`${o.getOr(0)}px`,position:"absolute"}},behaviours:t,components:[{dom:Gi('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),d8=(e,t,n)=>({onClose:()=>n.closeWindow(),onBlock:o=>{const s=Qn(e().element,".tox-dialog__header").map(r=>pn(r));ds.setBusy(e(),(r,a)=>u8(o.message,a,t,s))},onUnblock:()=>{ds.setIdle(e())}}),m8="tox-dialog--fullscreen",Ov="tox-dialog--width-lg",Av="tox-dialog--width-md",bp=e=>{switch(e){case"large":return h.some(Ov);case"medium":return h.some(Av);default:return h.none()}},h8=(e,t)=>{const n=Be.fromDom(t.element.dom);xr(n,m8)||(ka(n,[Ov,Av]),bp(e).each(o=>Ro(n,o)))},g8=(e,t)=>{const n=Be.fromDom(e.element.dom),o=tg(n),s=ve(o,r=>r===Ov||r===Av).or(bp(t));ef(n,[m8,...s.toArray()])},p8=(e,t,n)=>hr(kv({...e,firstTabstop:1,lazySink:n.shared.getSink,extraBehaviours:[G1({}),...e.extraBehaviours],onEscape:o=>{Cn(o,Nl)},dialogEvents:t,eventOrder:{[fu()]:[da.name(),ua.name()],[Vc()]:["scroll-lock",da.name(),"messages","dialog-events","alloy.base.behaviour"],[vi()]:["alloy.base.behaviour","dialog-events","messages",da.name(),"scroll-lock"]}})),Ev=(e,t={})=>{const n=o=>{const s=re(o.items,r=>{const a=lt(t,r.name).getOr(ot(!1));return{...r,storage:a}});return{...o,items:s}};return re(e,o=>o.type==="menu"?n(o):o)},f8=e=>On(e,(t,n)=>n.type==="menu"?On(n.items,(s,r)=>(s[r.name]=r.storage,s),t):t,{}),b8=(e,t)=>[c0(gc(),ez),e(Ch,(n,o,s,r)=>{rc(r.element)&&Ca(Is(r.element)).each(ul),t.onClose(),o.onClose()}),e(Nl,(n,o,s,r)=>{o.onCancel(n),Cn(r,Ch)}),le(H2,(n,o)=>t.onUnblock()),le($2,(n,o)=>t.onBlock(o.event))],Sq=(e,t)=>{const n=(s,r)=>le(s,(a,c)=>{o(a,(i,d)=>{r(e(),i,c.event,a)})}),o=(s,r)=>{da.getState(s).get().each(a=>{r(a,s)})};return[...b8(n,t),n(Ci,(s,r,a)=>{r.onAction(s,{name:a.name})})]},v8=(e,t,n)=>{const o=(r,a)=>le(r,(c,i)=>{s(c,(d,g)=>{a(e(),d,i.event,c)})}),s=(r,a)=>{da.getState(r).get().each(c=>{a(c.internalDialog,r)})};return[...b8(o,t),o(Th,(r,a)=>a.onSubmit(r)),o(Kr,(r,a,c)=>{a.onChange(r,{name:c.name})}),o(Ci,(r,a,c,i)=>{const d=()=>i.getSystem().isConnected()?pt.focusIn(i):void 0,g=T=>ld(T,"disabled")||es(T,"aria-disabled").exists(_=>_==="true"),f=Is(i.element),y=Ca(f);a.onAction(r,{name:c.name,value:c.value}),Ca(f).fold(d,T=>{g(T)||y.exists(_=>zr(T,_)&&g(_))?d():n().toOptional().filter(_=>!zr(_.element,T)).each(d)})}),o(v5,(r,a,c)=>{a.onTabChange(r,{newTabName:c.name,oldTabName:c.oldName})}),Zc(r=>{const a=e();Ye.setValue(r,a.getData())})]},Cq=(e,t)=>ep(e,e.type,t),Tq=(e,t,n)=>ve(t,o=>o.name===n).bind(o=>o.memento.getOpt(e)),kq=(e,t)=>{const n=t.map(c=>c.footerButtons).getOr([]),o=Rn(n,c=>c.align==="start"),s=(c,i)=>jc.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${c}`]},components:re(i,d=>d.memento.asSpec())}),r=s("start",o.pass),a=s("end",o.fail);return[r,a]},y8=(e,t,n)=>{const o=(s,r)=>{const a=re(r.buttons,i=>{const d=Vn(Cq(i,n));return{name:i.name,align:i.align,memento:d}}),c=i=>Tq(s,a,i);return h.some({lookupByName:c,footerButtons:a})};return{dom:Gi('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Fe([da.config({channel:`${H5}-${t}`,initialData:e,updateState:o,renderComponents:kq})])}},Oq=(e,t,n)=>y8(e,t,n),x8=(e,t,n)=>ds.parts.footer(y8(e,t,n)),vp=(e,t)=>{if(e.getRoot().getSystem().isConnected()){const o=En.getCurrent(e.getFormWrapper()).getOr(e.getFormWrapper());return Rd.getField(o,t).orThunk(()=>e.getFooter().bind(a=>da.getState(a).get()).bind(a=>a.lookupByName(t)))}else return h.none()},Aq=(e,t)=>{const n=e.getRoot();return da.getState(n).get().map(o=>dc(Vo("data",o.dataValidator,t))).getOr(t)},w8=(e,t,n)=>{const o=_=>{const L=e.getRoot();L.getSystem().isConnected()&&_(L)},T={getData:()=>{const _=e.getRoot(),L=_.getSystem().isConnected()?e.getFormWrapper():_,z=Ye.getValue(L),R=ge(n,W=>W.get());return{...z,...R}},setData:_=>{o(L=>{const z=T.getData(),R=ke(z,_),W=Aq(e,R),G=e.getFormWrapper();Ye.setValue(G,W),sn(n,(oe,ae)=>{Nt(R,ae)&&oe.set(R[ae])})})},setEnabled:(_,L)=>{vp(e,_).each(L?gt.enable:gt.disable)},focus:_=>{vp(e,_).each(It.focus)},block:_=>{if(!X(_))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");o(L=>{Ct(L,$2,{message:_})})},unblock:()=>{o(_=>{Cn(_,H2)})},showTab:_=>{o(L=>{const z=e.getBody();da.getState(z).get().exists(W=>W.isTabPanel())&&En.getCurrent(z).each(W=>{Bd.showTab(W,_)})})},redial:_=>{o(L=>{const z=e.getId(),R=t(_),W=Ev(R.internalDialog.buttons,n);L.getSystem().broadcastOn([`${q1}-${z}`],R),L.getSystem().broadcastOn([`${I5}-${z}`],R.internalDialog),L.getSystem().broadcastOn([`${$5}-${z}`],R.internalDialog),L.getSystem().broadcastOn([`${H5}-${z}`],{...R.internalDialog,buttons:W}),T.setData(R.initialData)})},close:()=>{o(_=>{Cn(_,Ch)})},toggleFullscreen:e.toggleFullscreen};return T},Eq=(e,t,n)=>{const o=O("dialog"),s=e.internalDialog,r=l8(s.title,o,n),a=ot(s.size),c=G=>vp(R,G),i=bp(a.get()).toArray(),d=(G,oe)=>(a.set(oe.internalDialog.size),h8(oe.internalDialog.size,G),h.some(oe)),g=bq({body:s.body,initialData:s.initialData},o,n,c),f=Ev(s.buttons),y=f8(f),T=Ao(f.length!==0,x8({buttons:f},o,n)),_=v8(()=>W,d8(()=>z,n.shared.providers,t),n.shared.getSink),L={id:o,header:r,body:g,footer:T,extraClasses:i,extraBehaviours:[da.config({channel:`${q1}-${o}`,updateState:d,initialData:e})],extraStyles:{}},z=p8(L,_,n),R=(()=>{const G=()=>{const ae=ds.getBody(z);return En.getCurrent(ae).getOr(ae)},oe=()=>{g8(z,a.get())};return{getId:A(o),getRoot:A(z),getBody:()=>ds.getBody(z),getFooter:()=>ds.getFooter(z),getFormWrapper:G,toggleFullscreen:oe}})(),W=w8(R,t.redial,y);return{dialog:z,instanceApi:W}},S8=(e,t,n,o=!1,s)=>{const r=O("dialog"),a=O("dialog-label"),c=O("dialog-content"),i=e.internalDialog,d=qe=>vp(Ke,qe),g=ot(i.size),f=bp(g.get()).toArray(),y=(qe,vt)=>(g.set(vt.internalDialog.size),h8(vt.internalDialog.size,qe),s(),h.some(vt)),T=Vn(xq({title:i.title,draggable:!0},r,a,n.shared.providers)),_=Vn(fq({body:i.body,initialData:i.initialData},r,c,n,o,d)),L=Ev(i.buttons),z=f8(L),R=Ao(L.length!==0,Vn(Oq({buttons:L},r,n))),W=v8(()=>Y,{onBlock:qe=>{Wc.block(ae,(vt,ct)=>{const nn=T.getOpt(ae).map($t=>pn($t.element));return u8(qe.message,ct,n.shared.providers,nn)})},onUnblock:()=>{Wc.unblock(ae)},onClose:()=>t.closeWindow()},n.shared.getSink),G="tox-dialog-inline",oe=fs().os,ae=hr({dom:{tag:"div",classes:["tox-dialog",G,...f],attributes:{role:"dialog",...oe.isMacOS()?{"aria-label":i.title}:{"aria-labelledby":a}}},eventOrder:{[fu()]:[da.name(),ua.name()],[Ma()]:["execute-on-form"],[Vc()]:["reflecting","execute-on-form"]},behaviours:Fe([pt.config({mode:"cyclic",onEscape:qe=>(Cn(qe,Ch),h.some(!0)),useTabstopAt:qe=>!kh(qe)&&(Wa(qe)!=="button"||Qo(qe,"disabled")!=="disabled"),firstTabstop:1}),da.config({channel:`${q1}-${r}`,updateState:y,initialData:e}),It.config({}),Pt("execute-on-form",W.concat([_d(gc(),(qe,vt)=>{pt.focusIn(qe)}),le(fg(),(qe,vt)=>{qe.getSystem().broadcastOn([K1],{newFocus:vt.event.newFocus})})])),Wc.config({getRoot:()=>h.some(ae)}),zt.config({}),G1({})]),components:[T.asSpec(),_.asSpec(),...R.map(qe=>qe.asSpec()).toArray()]}),ze=()=>{g8(ae,g.get())},Ke={getId:A(r),getRoot:A(ae),getFooter:()=>R.map(qe=>qe.get(ae)),getBody:()=>_.get(ae),getFormWrapper:()=>{const qe=_.get(ae);return En.getCurrent(qe).getOr(qe)},toggleFullscreen:ze},Y=w8(Ke,t.redial,z);return{dialog:ae,instanceApi:Y}};var Mv=tinymce.util.Tools.resolve("tinymce.util.URI");const Mq=e=>{const t=a=>{e.getSystem().isConnected()&&a(e)};return{block:a=>{if(!X(a))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");t(c=>{Ct(c,$2,{message:a})})},unblock:()=>{t(a=>{Cn(a,H2)})},close:()=>{t(a=>{Cn(a,Ch)})},sendMessage:a=>{t(c=>{c.getSystem().broadcastOn([R5],a)})}}},_q=["insertContent","setContent","execCommand","close","block","unblock"],C8=e=>De(e)&&_q.indexOf(e.mceAction)!==-1,Dq=e=>!C8(e)&&De(e)&&Nt(e,"mceAction"),Fq=(e,t,n)=>{switch(n.mceAction){case"insertContent":e.insertContent(n.content);break;case"setContent":e.setContent(n.content);break;case"execCommand":const o=Re(n.ui)?n.ui:!1;e.execCommand(n.cmd,o,n.value);break;case"close":t.close();break;case"block":t.block(n.message);break;case"unblock":t.unblock();break}},Iq=(e,t,n,o)=>{const s=O("dialog"),r=l8(e.title,s,o),a=vq(e),c=e.buttons.bind(G=>G.length===0?h.none():h.some(x8({buttons:G},s,o))),i=Sq(()=>W,d8(()=>R,o.shared.providers,t)),d={...e.height.fold(()=>({}),G=>({height:G+"px","max-height":G+"px"})),...e.width.fold(()=>({}),G=>({width:G+"px","max-width":G+"px"}))},g=e.width.isNone()&&e.height.isNone()?["tox-dialog--width-lg"]:[],f=new Mv(e.url,{base_uri:new Mv(window.location.href)}),y=`${f.protocol}://${f.host}${f.port?":"+f.port:""}`,T=Vs(),_=(G,oe)=>h.some(oe),L=[da.config({channel:`${q1}-${s}`,updateState:_,initialData:e}),Pt("messages",[vo(()=>{const G=Xo(Be.fromDom(window),"message",oe=>{if(f.isSameOrigin(new Mv(oe.raw.origin))){const ae=oe.raw.data;C8(ae)?Fq(n,W,ae):Dq(ae)&&e.onMessage(W,ae)}});T.set(G)}),Zc(T.clear)]),ua.config({channels:{[R5]:{onReceive:(G,oe)=>{Qn(G.element,"iframe").each(ae=>{const ze=ae.dom.contentWindow;Xe(ze)&&ze.postMessage(oe,y)})}}}})],R=p8({id:s,header:r,body:a,footer:c,extraClasses:g,extraBehaviours:L,extraStyles:d},i,o),W=Mq(R);return{dialog:R,instanceApi:W}},$q=e=>{const t=e.shared;return{open:(o,s)=>{const r=()=>{ds.hide(d),s()},a=Vn(ep({context:"any",name:"close-alert",text:"OK",primary:!0,buttonType:h.some("primary"),align:"end",enabled:!0,icon:h.none()},"cancel",e)),c=n8(),i=t8(r,t.providers),d=hr(kv({lazySink:()=>t.getSink(),header:e8(c,i),body:o8(o,t.providers),footer:h.some(s8(r8([],[a.asSpec()]))),onEscape:r,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[le(Nl,r)],eventOrder:{}}));ds.show(d);const g=a.get(d);It.focus(g)}}},Hq=e=>{const t=e.shared;return{open:(o,s)=>{const r=y=>{ds.hide(g),s(y)},a=Vn(ep({context:"any",name:"yes",text:"Yes",primary:!0,buttonType:h.some("primary"),align:"end",enabled:!0,icon:h.none()},"submit",e)),c=ep({context:"any",name:"no",text:"No",primary:!1,buttonType:h.some("secondary"),align:"end",enabled:!0,icon:h.none()},"cancel",e),i=n8(),d=t8(()=>r(!1),t.providers),g=hr(kv({lazySink:()=>t.getSink(),header:e8(i,d),body:o8(o,t.providers),footer:h.some(s8(r8([],[c,a.asSpec()]))),onEscape:()=>r(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[le(Nl,()=>r(!1)),le(Th,()=>r(!0))],eventOrder:{}}));ds.show(g);const f=a.get(g);It.focus(f)}}},T8=(e,t)=>dc(Vo("data",t,e)),k8=e=>iu(e,".tox-alert-dialog")||iu(e,".tox-confirm-dialog"),Rq=(e,t,n,o)=>t&&n?[]:[Do.config({contextual:{lazyContext:()=>h.some(Rs(Be.fromDom(e.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition",onHide:o},modes:["top"],lazyViewport:s=>$l(e,s.element).map(a=>({bounds:Hu(a),optScrollEnv:h.some({currentScrollTop:a.element.dom.scrollTop,scrollElmTop:Hr(a.element).top})})).getOrThunk(()=>({bounds:Sr(),optScrollEnv:h.none()}))})],Lq=e=>{const t=e.editor,n=Zd(t),o=$q(e.backstages.dialog),s=Hq(e.backstages.dialog),r=(_,L,z)=>{if(!Qe(L)){if(L.inline==="toolbar")return d(_,e.backstages.popup.shared.anchors.inlineDialog(),z,L);if(L.inline==="bottom")return g(_,e.backstages.popup.shared.anchors.inlineBottomDialog(),z,L);if(L.inline==="cursor")return d(_,e.backstages.popup.shared.anchors.cursor(),z,L)}return i(_,z)},a=(_,L)=>c(_,L),c=(_,L)=>{const z=R=>{const W=Iq(R,{closeWindow:()=>{ds.hide(W.dialog),L(W.instanceApi)}},t,e.backstages.dialog);return ds.show(W.dialog),W.instanceApi};return Vu.openUrl(z,_)},i=(_,L)=>{const z=(R,W,G)=>{const oe=W,ze=Eq({dataValidator:G,initialData:oe,internalDialog:R},{redial:Vu.redial,closeWindow:()=>{ds.hide(ze.dialog),L(ze.instanceApi)}},e.backstages.dialog);return ds.show(ze.dialog),ze.instanceApi.setData(oe),ze.instanceApi};return Vu.open(z,_)},d=(_,L,z,R)=>{const W=(G,oe,ae)=>{const ze=T8(oe,ae),Ke=kn(),Y=e.backstages.popup.shared.header.isPositionedAtTop(),qe={dataValidator:ae,initialData:ze,internalDialog:G},vt=()=>Ke.on(be=>{Io.reposition(be),(!n||!Y)&&Do.refresh(be)}),ct=S8(qe,{redial:Vu.redial,closeWindow:()=>{Ke.on(Io.hide),t.off("ResizeEditor",vt),t.off("ScrollWindow",nn),Ke.clear(),z(ct.instanceApi)}},e.backstages.popup,R.ariaAttrs,vt),nn=()=>ct.dialog.getSystem().broadcastOn([Ml()],{target:ct.dialog.element}),$t=()=>ct.dialog.getSystem().broadcastOn([qi()],{target:ct.dialog.element}),Bt=hr(Io.sketch({lazySink:e.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:R.persistent?{event:"doNotDismissYet"}:{},...Y?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Fe([Pt("window-manager-inline-events",[le(bu(),(be,Pe)=>{Cn(ct.dialog,Nl)})]),...Rq(t,n,Y,$t)]),isExtraPart:(be,Pe)=>k8(Pe)}));Ke.set(Bt);const at=()=>{const be=t.inline?ac():Be.fromDom(t.getContainer()),Pe=Rs(be);return h.some(Pe)};return Io.showWithinBounds(Bt,Da(ct.dialog),{anchor:L},at),(!n||!Y)&&(Do.refresh(Bt),t.on("ResizeEditor",vt)),t.on("ScrollWindow",nn),ct.instanceApi.setData(ze),pt.focusIn(ct.dialog),ct.instanceApi};return Vu.open(W,_)},g=(_,L,z,R)=>{const W=(G,oe,ae)=>{const ze=T8(oe,ae),Ke=kn(),Y=e.backstages.popup.shared.header.isPositionedAtTop(),qe={dataValidator:ae,initialData:ze,internalDialog:G},vt=()=>Ke.on(Bt=>{Io.reposition(Bt),Do.refresh(Bt)}),ct=S8(qe,{redial:Vu.redial,closeWindow:()=>{Ke.on(Io.hide),t.off("ResizeEditor ScrollWindow ElementScroll",vt),Ke.clear(),z(ct.instanceApi)}},e.backstages.popup,R.ariaAttrs,vt),nn=hr(Io.sketch({lazySink:e.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:R.persistent?{event:"doNotDismissYet"}:{},...Y?{}:{fireRepositionEventInstead:{}},inlineBehaviours:Fe([Pt("window-manager-inline-events",[le(bu(),(Bt,at)=>{Cn(ct.dialog,Nl)})]),Do.config({contextual:{lazyContext:()=>h.some(Rs(Be.fromDom(t.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top","bottom"],lazyViewport:Bt=>$l(t,Bt.element).map(be=>({bounds:Hu(be),optScrollEnv:h.some({currentScrollTop:be.element.dom.scrollTop,scrollElmTop:Hr(be.element).top})})).getOrThunk(()=>({bounds:Sr(),optScrollEnv:h.none()}))})]),isExtraPart:(Bt,at)=>k8(at)}));Ke.set(nn);const $t=()=>e.backstages.popup.shared.getSink().toOptional().bind(Bt=>{const at=$l(t,Bt.element),be=15,Pe=at.map(ft=>Hu(ft)).getOr(Sr()),Et=Rs(Be.fromDom(t.getContentAreaContainer())),Wt=af(Et,Pe);return h.some(Hs(Wt.x,Wt.y,Wt.width,Wt.height-be))});return Io.showWithinBounds(nn,Da(ct.dialog),{anchor:L},$t),Do.refresh(nn),t.on("ResizeEditor ScrollWindow ElementScroll ResizeWindow",vt),ct.instanceApi.setData(ze),pt.focusIn(ct.dialog),ct.instanceApi};return Vu.open(W,_)};return{open:r,openUrl:a,alert:(_,L)=>{o.open(_,L)},close:_=>{_.close()},confirm:(_,L)=>{s.open(_,L)}}},Pq=e=>{jw(e),PN(e),_G(e)};var Bq=()=>{JH.add("silver",e=>{Pq(e);let t=()=>Sr();const{dialogs:n,popups:o,renderUI:s}=iq(e,{getPopupSinkBounds:()=>t()}),r=()=>{const g=s();return $l(e,o.getMothership().element).each(y=>{t=()=>Hu(y)}),g};MV.register(e,o.backstage.shared);const a=Lq({editor:e,backstages:{popup:o.backstage,dialog:n.backstage}}),c=kn(),i=()=>IR(e,{backstage:o.backstage},o.getMothership(),c),d=()=>Qn(Be.fromDom(e.getContainer()),".tox-promotion").map(g=>g.dom).getOrNull();return{renderUI:r,getWindowManagerImpl:A(a),getNotificationManagerImpl:i,getPromotionElement:d}})};Bq()})();tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12.7 18.3a1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v1a1 1 0 0 0 .3.7 1 1 0 0 0 .7.3 1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7v-1a1 1 0 0 0-.3-.7ZM11.3 5.7a1 1 0 0 0 .7.3 1 1 0 0 0 .7-.3A1 1 0 0 0 13 5V4a1 1 0 0 0-.3-.7A1 1 0 0 0 12 3a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v1a1 1 0 0 0 .3.7Zm9.4 5.6a1 1 0 0 0-.7-.3h-1a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.7 1 1 0 0 0 .7.3h1a1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7Zm-15 1.4A1 1 0 0 0 6 12a1 1 0 0 0-.3-.7A1 1 0 0 0 5 11H4a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.7 1 1 0 0 0 .7.3h1a1 1 0 0 0 .7-.3Zm13 4.6-.7-.8a1 1 0 0 0-.8-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.8l.7.7a1 1 0 0 0 .7.3 1 1 0 0 0 .8-.3 1 1 0 0 0 .3-.8 1 1 0 0 0-.3-.7ZM5.3 6.7l.7.8a1 1 0 0 0 .8.3 1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.8l-.7-.7A1 1 0 0 0 6 5a1 1 0 0 0-.8.3 1 1 0 0 0-.3.8 1 1 0 0 0 .3.6Zm12 1a1 1 0 0 0 .7-.2l.7-.7A1 1 0 0 0 19 6a1 1 0 0 0-.3-.8 1 1 0 0 0-.8-.3 1 1 0 0 0-.7.3l-.7.7a1 1 0 0 0-.3.8 1 1 0 0 0 .3.7 1 1 0 0 0 .7.2ZM6.7 16.4a1 1 0 0 0-.8.2l-.7.7a1 1 0 0 0-.3.7 1 1 0 0 0 .3.8 1 1 0 0 0 .8.3 1 1 0 0 0 .7-.3l.7-.7a1 1 0 0 0 .3-.8 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3Z"/><path fill-rule="evenodd" d="M13.6 8.3A4 4 0 0 0 12 8a4 4 0 0 0-1.6.3A4 4 0 0 0 9 9.5a4 4 0 0 0-.6 1A4 4 0 0 0 8 12c0 .6.1 1 .3 1.6a4 4 0 0 0 2.1 2 4 4 0 0 0 1.6.4 4 4 0 0 0 1.6-.3 4 4 0 0 0 2-2.1A4 4 0 0 0 16 12a4 4 0 0 0-.3-1.6 4 4 0 0 0-2.1-2ZM14 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24" class="color-swatch-remove-color"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 0 1 19.4 9c.4 1 .6 2 .6 3.1s-.2 2.1-.6 3.1a8 8 0 0 1-1.7 2.6 8 8 0 0 1-2.6 1.7 7.8 7.8 0 0 1-3.1.6 7.8 7.8 0 0 1-3.1-.6 8 8 0 0 1-2.6-1.7A8 8 0 0 1 4.6 15 7.8 7.8 0 0 1 4 12c0-1.1.2-2.1.6-3.1a8 8 0 0 1 1.7-2.6A8 8 0 0 1 9 4.6 7.8 7.8 0 0 1 12 4Zm-6 8a6 6 0 0 0 1.8 4.2 6 6 0 0 0 1.9 1.3 5.8 5.8 0 0 0 2.3.5V6c-.8 0-1.6.2-2.3.5a6 6 0 0 0-2 1.3 6 6 0 0 0-1.2 1.9A5.8 5.8 0 0 0 6 12Z"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-code":'<svg width="24" height="24"><path d="m10 22 2-7H6l9-13h2l-2 8h7L12 22h-2ZM6 2h7l-1.4 2H6V2Zm4.2 4H4v2h4.8l1.4-2Zm-2.7 4H2v2h4l1.5-2Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg height="24" width="24"><path d="M11.5 16.3a.7.7 0 1 0 1.4 0V14l2.7-6a.7.7 0 1 0-1.2-.6l-2.2 5-2.3-4.9C9.6 7 8.7 7 8 7.2v1.1c.8-.2.9 0 1.2 1l2.3 4.7z"/><path d="M4 3h16a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zm1 2h14v14H5z" fill-rule="evenodd"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg height="24" width="24"><path d="M5 4 3.6 5.4l3.9 4C6.6 10.7 6 12.3 6 14a6 6 0 0 0 10.3 4.2l1.9 1.8 1.4-1.4z" fill-rule="evenodd"/><path d="M13.4 8.4c.9 1 1.6 2.1 2 3.2l2.6 2.6V14c0-5-6-10-6-10s-1 .8-2.1 2l1.4 1.5.7-.7 1.4 1.6z"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg height="48" width="48"><path d="M8 14a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 24a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0zM8 34a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" fill-rule="evenodd"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-bull-default":'<svg height="48" width="48"><path d="M14 14a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/><path d="M12 24a3 3 0 1 0 6 0 3 3 0 0 0-6 0zm5 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0z" fill-rule="evenodd"/><path d="M16 31h6v6h-6z"/><path d="M16 31h6v6h-6z"/><path d="M18 12h22v4H18zm4 10h18v4H22zm4 10h14v4H26z" opacity=".2"/></svg>',"list-bull-disc":'<svg height="48" width="48"><path d="M14 14a3 3 0 1 1-6 0 3 3 0 0 1 6 0zm0 10a3 3 0 1 1-6 0 3 3 0 0 1 6 0zm0 10a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-bull-square":'<svg height="48" width="48"><path d="M8 21h6v6H8zm0 10h6v6H8zm0-20h6v6H8z"/><path d="M18 12h22v4H18zm0 10h22v4H18zm0 10h22v4H18z" opacity=".2"/></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"math-equation":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z"/></svg>',mentions:'<svg height="24" width="24"><path d="M12 21a8.8 8.8 0 0 1-3.5-.7 9 9 0 0 1-2.9-2 9 9 0 0 1-1.9-2.8A8.8 8.8 0 0 1 3 12c0-1.3.2-2.4.7-3.5a9 9 0 0 1 4.8-4.8A8.8 8.8 0 0 1 12 3c1.3 0 2.4.2 3.5.7a9.1 9.1 0 0 1 4.8 4.8A8.7 8.7 0 0 1 21 12v1.4a3 3 0 0 1-.9 2.2 3 3 0 0 1-2.2.9c-.5 0-1-.1-1.5-.4a3.8 3.8 0 0 1-1.1-1 4.8 4.8 0 0 1-1.5 1 4.3 4.3 0 0 1-1.8.4c-1.2 0-2.3-.4-3.2-1.3-.9-.9-1.3-2-1.3-3.2s.4-2.3 1.3-3.2c.9-.9 2-1.3 3.2-1.3s2.3.4 3.2 1.3c.9.9 1.3 2 1.3 3.2v1.4c0 .4.1.7.4 1 .3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1V12c0-2-.7-3.8-2.1-5.2S14 4.7 12 4.7s-3.8.7-5.2 2.1S4.7 10 4.7 12s.7 3.8 2.1 5.2 3.2 2.1 5.2 2.1h4.5V21zm0-6.2c.8 0 1.4-.3 2-.8a2.7 2.7 0 0 0 .8-2c0-.8-.3-1.4-.8-2a2.7 2.7 0 0 0-2-.8c-.8 0-1.4.3-2 .8a2.7 2.7 0 0 0-.8 2c0 .8.3 1.4.8 2a2.7 2.7 0 0 0 2 .8z"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"export-pdf":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"export-word":'<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"import-word":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"revision-history":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path fill-rule="evenodd" d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',"add-file":'<svg height="24" width="24"><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/></svg>',adjustments:'<svg width="24" height="24"><path d="M16 11a3 3 0 1 1 2.8-4H21v2h-2.2a3 3 0 0 1-2.8 2Zm0-2a1 1 0 1 1 0-2 1 1 0 0 1 0 2ZM3 9h8V7H3v2Zm5 10a3 3 0 1 0-2.8-4H3v2h2.2A3 3 0 0 0 8 19Zm0-2a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm13 0h-8v-2h8v2Z"/></svg>',"alt-text":'<svg width="24" height="24"><path d="M3 20a2 2 0 0 1-1.4-.6A2 2 0 0 1 1 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 3 4h18c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H3Zm0-2h18V6H3v12Zm1.5-3H6v-1.5h1.5V15H9v-5a1 1 0 0 0-.3-.7A1 1 0 0 0 8 9H5.5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v5ZM6 12v-1.5h1.5V12H6Z"/><path d="M11 15V9h1.3v4.5h2V15H11Zm5.8-4.5V15h1.4v-4.5h1.3V9h-4v1.5h1.3Z"/></svg>',"auto-image-enhancement":'<svg width="24" height="24"><path d="M7.7 10.6a5.8 5.8 0 0 0 5.7 5.7A5.8 5.8 0 0 0 7.7 22 5.8 5.8 0 0 0 2 16.3a5.8 5.8 0 0 0 5.7-5.7ZM15.5 2c.3 3 3.3 6 6.5 6.4-3.2.5-6.2 3.4-6.5 6.5-.3-3.4-3-6-6.4-6.5 3.3-.5 6.1-3 6.4-6.4Z"/></svg>',blur:'<svg width="24" height="24"><path d="M19.3 9.3a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 20 9a1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 10a1 1 0 0 0-.3-.7A1 1 0 0 0 4 9a1 1 0 0 0-.7.3Zm16 6a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 16a1 1 0 0 0-.3-.7A1 1 0 0 0 4 15a1 1 0 0 0-.7.3Zm5-11A1 1 0 0 0 8 5a1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 10 5a1 1 0 0 0-.3-.7A1 1 0 0 0 9 4a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7 1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 16 5a1 1 0 0 0-.3-.7A1 1 0 0 0 15 4a1 1 0 0 0-.7.3Zm-6 16a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 9 20a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3ZM7.6 8.6A2 2 0 0 0 7 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 7 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 14a2 2 0 0 0-1.4.6Zm6-6A2 2 0 0 0 13 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 13 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 14a2 2 0 0 0-1.4.6Z"/></svg>',box:'<svg width="24" height="24"><path d="M3.8 7a1 1 0 0 0-.7.6l-.1 3V13.8a3.5 3.5 0 0 0 4 2.7c.8-.2 1.4-.5 2-1l.3-.3.3.2c.7.7 1.4 1 2.4 1.1 1.2 0 2.4-.6 3-1.6.9-1.2.8-2.8 0-4a3.7 3.7 0 0 0-2-1.2c-.4-.1-1.2-.1-1.6 0a3.4 3.4 0 0 0-1.7 1l-.3.2-.2-.1c-.4-.5-1.2-1-2-1.1-.6-.2-1.5 0-2 .2H5V9c0-1.3 0-1.3-.3-1.6a1 1 0 0 0-1-.3Zm12 2.6c-.3.2-.5.4-.6.8v.6l.9 1 .7 1v.1l-.8 1-.7 1a1 1 0 0 0 0 .7 1 1 0 0 0 1.3.6c.2 0 .3-.2 1-1l.5-.7.6.8.7.8c.4.3 1 .3 1.3 0l.2-.3a1 1 0 0 0 0-.8l-.8-1.2-.7-1a26 26 0 0 0 1.5-2 .8.8 0 0 0 .1-.4c0-.4-.1-.7-.5-.9H20c-.4 0-.5 0-1.2.8l-.7.8-.6-.7-.7-.9a1 1 0 0 0-1 0Zm-9 2 .4.1c.3.1.6.5.7.8l.1.6v.6c-.6 1-2 1.2-2.7.3-.3-.3-.3-.5-.3-1v-.5c.3-.5.7-.8 1.1-1a1.5 1.5 0 0 1 .7 0Zm5.7 0c.4 0 .8.4 1 .8l.2.6-.1.7c-.5.9-1.6 1.1-2.4.6a1.4 1.4 0 0 1-.6-1.1 1.4 1.4 0 0 1 .5-1.2 1.5 1.5 0 0 1 1.4-.4Z"/></svg>',camera:'<svg height="24" width="24"><g clip-rule="evenodd" fill-rule="evenodd"><path d="M10 5.4a1 1 0 0 1 .8-.4h4.4a1 1 0 0 1 .8.4l1.2 1.8h2.3A2.5 2.5 0 0 1 22 9.6v8a2.5 2.5 0 0 1-2.5 2.5h-13A2.5 2.5 0 0 1 4 17.6v-8a2.5 2.5 0 0 1 2.5-2.4h2.3zM11.4 7l-1.2 1.7a1 1 0 0 1-.8.5h-3a.5.5 0 0 0-.4.4v8a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-8a.5.5 0 0 0-.5-.4h-2.9a1 1 0 0 1-.8-.5L14.6 7z"/><path d="M13 11.4a2 2 0 1 0 0 3.8 2 2 0 0 0 0-3.8zm-4 1.9a4 4 0 1 1 8 0 4 4 0 0 1-8 0z"/></g></svg>',caption:'<svg height="24" width="24"><path d="M6 16h8v-2H6zm10 0h2v-2h-2zM4 20a2 2 0 0 1-1.5-.6A2 2 0 0 1 2 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 4 4h16c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm0-2h16V6H4z"/></svg>',dropbox:'<svg height="24" width="24"><path clip-rule="evenodd" d="m6.4 9.3-3-2a1 1 0 0 1 0-1.6l4-2.5a1 1 0 0 1 1 0L12 5.5l3.6-2.3a1 1 0 0 1 1 0l4 2.5a1 1 0 0 1 0 1.7l-3 1.9 3 1.9a1 1 0 0 1 0 1.6l-2.9 1.9V16c0 .3-.1.6-.4.8l-4.5 3a1 1 0 0 1-1.2 0l-4.4-3a1 1 0 0 1-.5-.9v-1l-3.2-2.2a1 1 0 0 1 0-1.6zm3 0L12 7.5l2.6 1.8L12 11zM8.9 15v.4l3.3 2.3 3.4-2.3v-.2L12 13l-3.1 2zm-1-10-2 1.4 2 1.3 2-1.3zm8.2 0-2 1.4 2 1.3 2-1.3zm-2 6.9 2-1.3 2 1.3-2 1.3-2-1.3zm-8.3 0 2-1.3L10 12l-2 1.3-2-1.3z" fill-rule="evenodd"/></svg>',evernote:'<svg width="24" height="24"><path fill-rule="evenodd" d="m9.5 3-.3.1-2.6 2.6C3.8 8.5 4 8.2 4 8.7c0 1.3.3 3 .6 4.3.5 2 1.1 3.2 2 3.7l1.2.3c1 .2 1.5.2 2.2.2 1.3 0 1.7 0 2.2-.4.3-.2.3-.4.4-1a38.4 38.4 0 0 1 .3-.4l.3.1 1.8.1h1.6v-1.8H14l-.1-.2a6.8 6.8 0 0 1-.5-1c-.2-.4-.3-.6-.5-.7a.8.8 0 0 0-.5-.1.9.9 0 0 0-.8.5l-.4 1.6-.3 1.5H9.4l-2-.3a1 1 0 0 1-.1-.2A10.1 10.1 0 0 1 6 9.7v-.2h4l.5-.5V5H12c.4.2.7.7.8 1.1a1 1 0 0 0 .2.6c.2.2.3.2 1 .3 1.2 0 2 .2 2.5.6.4.2.8.7 1 1.2.3 1.2.5 4 .3 6.4 0 1.8-.4 3.4-.8 4h-.7a8 8 0 0 1-.8 0c-.2 0-.3-.3-.2-.5a.5.5 0 0 1 .4-.3h.9v-1.8H16c-.7 0-.9 0-1.2.2-.9.4-1.4 1.2-1.4 2.1l.1.4.1.2a1 1 0 0 1 .1.2c.3.7.8 1.2 1.4 1.3l1.2.1h1.2a2 2 0 0 0 1-.8 9 9 0 0 0 1.1-4.3c.2-3 0-6.3-.4-7.7A4.3 4.3 0 0 0 16 5.3a7 7 0 0 0-1.3-.2 7.2 7.2 0 0 1-.4 0 5.5 5.5 0 0 1 0-.3c-.2-.5-.6-1-1.2-1.4a3 3 0 0 0-.5-.2c-.4-.2-.5-.2-1.8-.2a26.5 26.5 0 0 0-1.3 0Zm-.8 4v.7H7.2l.7-.8.8-.7v.7Zm7 3.5c-.4 0-.7.5-.9 1v.7h.3c.7 0 1.1.2 1.5.6l.3.2.3-.6V11a1 1 0 0 0-.6-.4 2 2 0 0 0-.8 0Z" clip-rule="evenodd"/></svg>',exposure:'<svg width="24" height="24"><path d="M5 21a2 2 0 0 1-1.4-.6A2 2 0 0 1 3 19V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h14c.6 0 1 .2 1.4.6.4.4.6.8.6 1.4v14c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H5Zm0-2h14V5L5 19Zm9.5-1v-2h-2v-1.5h2v-2H16v2h2V16h-2v2h-1.5ZM6 8.5h5V7H6v1.5Z"/></svg>',fb:'<svg width="24" height="24"><path fill-rule="evenodd" d="M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-11 6.7V14H8.1v-2.5h2v-1C10 8.2 11.5 7 12.8 7H16v2.5h-2.4c-.8 0-1 .7-1 1.3v.7h3.2l-1 2.5h-2v5a7 7 0 1 0-2.8-.2Z" clip-rule="evenodd"/></svg>',flickr:'<svg width="24" height="24"><path d="M8.2 15.3c1.7 0 3.1-1.4 3.1-3.1A3.2 3.2 0 0 0 8.1 9 3.2 3.2 0 0 0 5 12.2c0 1.7 1.4 3 3.2 3Zm7.6 0c1.7 0 3.2-1.4 3.2-3.1a3.2 3.2 0 0 0-6.3 0c0 1.7 1.4 3 3.1 3Z"/></svg>',folder:'<svg width="24" height="24"><path fill-rule="evenodd" d="M5.6 6a.6.6 0 0 0-.6.6v11.2a.6.6 0 0 0 .6.6h12.8a.6.6 0 0 0 .6-.6V9a.6.6 0 0 0-.6-.6h-7.2a1 1 0 0 1-.8-.4L9 6H5.6ZM3.8 4.8A2.6 2.6 0 0 1 5.6 4h4a1 1 0 0 1 .8.4l1.3 2h6.7A2.6 2.6 0 0 1 21 9v8.8a2.6 2.6 0 0 1-2.6 2.6H5.6A2.6 2.6 0 0 1 3 17.8V6.6c0-.7.3-1.4.8-1.8Z" clip-rule="evenodd"/></svg>',"google-drive":'<svg height="24" width="24"><path clip-rule="evenodd" d="M8.7 4.5a1 1 0 0 1 .9-.5h4.8a1 1 0 0 1 .9.5l5.6 9.7a1 1 0 0 1 0 1l-2.4 4.2a1 1 0 0 1-.9.5H6.4a1 1 0 0 1-.9-.5l-2.4-4.2a1 1 0 0 1 0-1zM10.2 6l-4.5 7.7h2.5L12.7 6h-2.5zm4.2 1 4.4 7.7-1.2 2.2-4.4-7.7zM12 11.2l-1.5 2.5h3zm2.6 4.5H5.7L7 17.9h8.9l-1.3-2.2z" fill-rule="evenodd"/></svg>',"google-photos":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12.4 3c-.8 0-1.4.7-1.4 1.4v3.2a5 5 0 0 0-8 4c0 .8.6 1.4 1.4 1.4h3.2a5 5 0 0 0-1 3 5 5 0 0 0 5 5c.8 0 1.4-.6 1.4-1.4v-3.2a5 5 0 0 0 8-4c0-.8-.7-1.4-1.4-1.4h-3.2a5 5 0 0 0-4-8Zm.6 8V5a3 3 0 0 1 2.4 3 3 3 0 0 1-2.4 3Zm-2 0H5a3 3 0 0 1 3-2.4 3 3 0 0 1 3 2.4Zm2 2a3 3 0 0 0 3 2.4 3 3 0 0 0 3-2.4h-6Zm-4.4 3a3 3 0 0 1 2.4-3v6a3 3 0 0 1-2.4-3Z" clip-rule="evenodd"/></svg>',grayscale:'<svg height="24" width="24"><path d="M3 5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2zm12.4 0H19v3.6zm-2.8 0h-2.2l8.6 8.6v-2.2zm-5 0H5l14 14v-2.6z" fill-rule="evenodd"/></svg>',huddle:'<svg height="24" width="24"><path d="M10.3 5.6V8h.8v-2l3.5 2 4.3-2.5L14.6 3l-4.3 2.6zM14.6 8v5.2l4.3-2.6V5.6L14.6 8zM6 13.3v2.5h.9v-2l3.4 2 4.3-2.5-4.3-2.6zm4.3 2.6V21l4.3-2.6v-5.1l-4.3 2.6z"/></svg>',"image-decorative":'<svg width="24" height="24"><path d="M12 10c.3 0 .5-.1.7-.3A1 1 0 0 0 13 9a1 1 0 0 0-.3-.7A1 1 0 0 0 12 8a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 1 1Zm0 6a3 3 0 0 1-1.8-.5A3 3 0 0 1 9.1 14a2 2 0 0 0-.2 0 3 3 0 0 1-2.5-1 3 3 0 0 1-.9-2.2A3 3 0 0 1 6.2 9a3.4 3.4 0 0 1-.5-1 3 3 0 0 1-.2-1 3 3 0 0 1 1-2.2A3 3 0 0 1 8.8 4H9a3 3 0 0 1 1.1-1.4A3 3 0 0 1 12 2a3 3 0 0 1 1.8.5c.5.4.9.9 1.1 1.5h.2a3 3 0 0 1 2.5.8 3 3 0 0 1 .9 2.3c0 .3 0 .7-.2 1a2.8 2.8 0 0 1-.5.9l.5 1 .2 1a3 3 0 0 1-1 2.2 3 3 0 0 1-2.4.9 1.8 1.8 0 0 0-.2 0 3 3 0 0 1-1.1 1.4 3 3 0 0 1-1.8.5Zm0 7a8.7 8.7 0 0 1 .7-3.5 9.2 9.2 0 0 1 2-2.8 9.2 9.2 0 0 1 2.8-2A8.6 8.6 0 0 1 21 14a8.6 8.6 0 0 1-.7 3.5 9.2 9.2 0 0 1-2 2.8 9.2 9.2 0 0 1-2.8 2 8.6 8.6 0 0 1-3.5.7Zm2.5-2.5a6.8 6.8 0 0 0 2.4-1.5 6.8 6.8 0 0 0 1.7-2.6c-1 .4-1.8 1-2.6 1.7a6.8 6.8 0 0 0-1.5 2.4ZM12 23a8.6 8.6 0 0 0-.7-3.5 9.2 9.2 0 0 0-2-2.9 9.2 9.2 0 0 0-2.8-1.9A8.6 8.6 0 0 0 3 14a8.7 8.7 0 0 0 .7 3.5 9.2 9.2 0 0 0 2 2.9 9.2 9.2 0 0 0 2.8 1.9 8.6 8.6 0 0 0 3.5.7Zm-2.5-2.5A6.8 6.8 0 0 1 7.2 19a6.8 6.8 0 0 1-1.6-2.6c.9.4 1.7 1 2.5 1.7a6.8 6.8 0 0 1 1.6 2.4Zm5.9-8.4c.3 0 .5-.1.8-.4.2-.2.3-.5.3-.8 0-.2 0-.4-.2-.6a1.3 1.3 0 0 0-.5-.4l-.8-.4a3 3 0 0 1-.2.5 3.8 3.8 0 0 1-.2.5 2.5 2.5 0 0 1-.3.4 4 4 0 0 1-.4.4l.8.6a.8.8 0 0 0 .3.1h.4ZM15 8.5l.8-.4.5-.4.2-.6a1.1 1.1 0 0 0-.3-.8 1 1 0 0 0-.8-.4 1.1 1.1 0 0 0-.7.2l-.8.6.4.4.3.4a3.9 3.9 0 0 1 .4 1Zm-4-2.3a2.7 2.7 0 0 1 1-.2 2.7 2.7 0 0 1 1 .2l.2-1.1c0-.3-.1-.6-.4-.8A1.2 1.2 0 0 0 12 4c-.3 0-.6.1-.8.3-.3.2-.4.5-.3.8v1.1Zm1 7.8c.3 0 .6-.1.8-.3.3-.2.4-.5.3-.8v-1.1a2.7 2.7 0 0 1-1.1.2 2.7 2.7 0 0 1-1-.2l-.2 1.1c0 .3.1.6.4.8.2.2.5.3.8.3ZM9 8.5a3 3 0 0 1 .4-1l.3-.4.4-.4-.8-.6A.9.9 0 0 0 9 6a1.2 1.2 0 0 0-.3 0c-.4 0-.6 0-.9.3a1.1 1.1 0 0 0-.3.8c0 .2 0 .4.2.6l.5.4.9.4Zm-.3 3.6H9l.3-.2.8-.6a5.5 5.5 0 0 1-.4-.4 2.1 2.1 0 0 1-.3-.4 3.8 3.8 0 0 1-.2-.5 3 3 0 0 1-.1-.5l-1 .4-.4.4a1.1 1.1 0 0 0-.2.6c0 .3.2.6.4.8.2.2.4.4.7.4Z"/></svg>',"image-enhancements":'<svg height="24" width="24"><path d="M5.3 21a2 2 0 0 1-1.5-.6 2 2 0 0 1-.6-1.4V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5.2 3H13v2H5.2v14h14v-8h2v8c0 .6-.1 1-.5 1.4a2 2 0 0 1-1.4.6z"/><path d="M11 9a4 4 0 0 0 4 4 4 4 0 0 0-4 4 4 4 0 0 0-4-4 4 4 0 0 0 4-4zm5.5-6c.2 2.1 2.2 4.1 4.5 4.5-2.3.4-4.3 2.4-4.5 4.5A5.2 5.2 0 0 0 12 7.5 5.2 5.2 0 0 0 16.5 3z"/></svg>',instagram:'<svg height="24" width="24"><path clip-rule="evenodd" d="M10.1 9a4 4 0 1 1 4.4 6.6A4 4 0 0 1 10.1 9zm2.2 1.3a2 2 0 1 0 0 4 2 2 0 0 0 0-4z" fill-rule="evenodd"/><path d="M16 9.3a1.3 1.3 0 1 0 0-2.6 1.3 1.3 0 0 0 0 2.6z"/><path clip-rule="evenodd" d="M3 6a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3zm3-1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1z" fill-rule="evenodd"/></svg>',onedrive:'<svg height="24" width="24"><path d="M4 13.7h1zm16 .7h-1zm-11.7-4A4.4 4.4 0 0 1 12.1 8V6a6.4 6.4 0 0 0-5.6 3.4l1.8 1zM12.1 8c2 0 3.6 1.4 4 2.8l2-.5A6.3 6.3 0 0 0 12 6v2zm8.1 6.8-9.8-5.5-1 1.8 9.8 5.5 1-1.8zm-9.8-5.5A5 5 0 0 0 3 13.7h2A3 3 0 0 1 9.5 11l1-1.8zM3 13.7a5 5 0 0 0 1 2.8l1.5-1.1a3 3 0 0 1-.5-1.7zm15.8 1.6a2.3 2.3 0 0 1-2 1.4v2a4.3 4.3 0 0 0 3.9-2.6zm-2 1.4H8v2h8.7zm-8.8 0a3 3 0 0 1-2.5-1.3L4 16.5a5 5 0 0 0 4 2.2v-2zm12.7-.6c.2-.6.3-1.1.3-1.7h-2c0 .3 0 .6-.2.9zm.3-1.7c0-3-3.1-5.1-6-4l.8 1.9a2.3 2.3 0 0 1 3.2 2h2zm-6-4L4.4 15l.8 1.9 10.7-4.6-.7-1.8z"/></svg>',"photo-filter":'<svg height="24" width="24"><path d="M4.4 21c-.3 0-.6-.2-.9-.5-.3-.3-.4-.6-.5-.9L19.6 3c.3 0 .6.3.9.5l.5.9zM3 14.7v-2.8L11.9 3h2.8zM3 7V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h2zm14 14 4-4v2c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm-7.7 0L21 9.3v2.8L12 21z"/></svg>',"revert-changes":'<svg height="24" width="24"><path d="m8.9 18.8.4 3.2H13v-2h-2v-2.6a4.6 4.6 0 0 1-1.6-.6 5.9 5.9 0 0 1-1.3-1l-2.5 1-1-1.7 2.2-1.6a4 4 0 0 1-.2-.7 5.9 5.9 0 0 1 0-.8v-.8l.2-.8-2.2-1.6 1-1.7 2.5 1a6 6 0 0 1 1.2-.9l1.4-.6.4-2.6h2l.3 2.6A5.6 5.6 0 0 1 16 8.2l2.5-1 1 1.6-2.2 1.7.2.7v.8a5 5 0 0 1 0 1h2a2.6 2.6 0 0 0 0-.5V11.3l2.6-2-2.8-4.7-3 1.3a8.2 8.2 0 0 0-.5-.4 3.8 3.8 0 0 0-.6-.3L14.8 2H9.3l-.4 3.2a5 5 0 0 0-1.2.7l-3-1.3L2 9.4l2.6 2V12.6l-2.6 2 2.7 4.7 3-1.3a8 8 0 0 0 1.2.7z"/><path d="m14.5 20.3 2.1-2-2.1-2.2 1.4-1.4 2.1 2.1 2.1-2 1.4 1.3-2 2.1 2 2.1-1.4 1.4-2.1-2-2.1 2zM12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/></svg>',saturation:'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 20.5a6 6 0 1 1-5.9-10.2 6 6 0 1 1 11.8 0A6 6 0 1 1 12 20.5Zm-1.1-7.7a6 6 0 0 0-.2.3 4.3 4.3 0 0 1-2-1.3c.9.1 1.6.5 2.2 1Zm2.4.3a6 6 0 0 0-.2-.3 4.3 4.3 0 0 1 2.2-1 4.3 4.3 0 0 1-2 1.3ZM12.2 15a6.3 6.3 0 0 1-.4 0 4.3 4.3 0 0 0 .2 2.5 4.3 4.3 0 0 0 .2-2.5Zm.9 4.2a6 6 0 0 0 .8-4.5 6 6 0 0 0 3.4-2.8 4.3 4.3 0 0 1-1.3 8.4 4.3 4.3 0 0 1-2.9-1.1Zm-2.2 0a4.3 4.3 0 1 1-4.2-7.3 6 6 0 0 0 3.4 2.8 6 6 0 0 0 .8 4.5Zm-3-9.2a4.3 4.3 0 1 1 8.3 0 6 6 0 0 0-4.2 1.5A6 6 0 0 0 7.8 10Z"/></svg>',"transform-image":'<svg height="24" width="24"><path d="M3 21v-6h2V9H3V3h6v2h6V3h6v6h-2v6h2v6h-6v-2H9v2zm6-4h6v-2h2V9h-2V7H9v2H7v6h2zM5 7h2V5H5zm12 0h2V5h-2zm0 12h2v-2h-2zM5 19h2v-2H5z"/></svg>',vibrance:'<svg height="24" width="24"><path d="M12 20 22 4H2zm2.6-8 1.3-2H8l1.3 2h5.2zm-1.2 2h-2.8l1.4 2.2zm5-8L17 8H7L5.6 6h12.8z" fill-rule="evenodd"/></svg>',vk:'<svg width="24" height="24"><path fill-rule="evenodd" d="M14.8 17.4a2 2 0 0 1-1.3.7 8 8 0 0 1-7.7-3.6c-1.4-2-2.2-4.4-2.6-5.7L3 8.6A2 2 0 0 1 5 6h2.5c.4 0 .8.1 1.2.4A2 2 0 0 1 9.8 6h3.5a2 2 0 0 1 1.4.6 2 2 0 0 1 1.5-.6h2.4a2 2 0 0 1 2 2.5c-.5 1.5-1.2 2.6-1.8 3.6a12.5 12.5 0 0 1 2 3.2A2 2 0 0 1 19 18h-2.6a2 2 0 0 1-1.3-.5 6.9 6.9 0 0 1-.3-.2Zm.5-2.5-1.2-1a3 3 0 0 0-.8-.2v2.4h-1.7a5.6 5.6 0 0 1-.3 0c-3-.7-4.7-3.7-5.6-6.1A38.1 38.1 0 0 1 5 8.1V8h2.5a80.5 80.5 0 0 1 1.2 2.5c.6 1.2 1.2 2 2 2.1V9l-.9-1h3.5v4.1a5 5 0 0 0 .4-.3c.7-.7 1.2-1.4 1.6-2.2l.2-.3.7-1.3h2.4a8.5 8.5 0 0 1-.8 2l-1.3 2-.3.3a10.5 10.5 0 0 1 2.8 3.8h-2.6l-.8-.9a20.6 20.6 0 0 0-.3-.3Z" clip-rule="evenodd"/></svg>',warmth:'<svg height="24" width="24"><path d="M12 21.1c-1.4 0-2.6-.5-3.6-1.5s-1.5-2.1-1.5-3.5c0-.8.2-1.6.6-2.2A5 5 0 0 1 8.9 12v-6c0-.8.3-1.5 1-2.1a2.9 2.9 0 0 1 2-.9c.9 0 1.6.3 2.2.9.5.6.8 1.3.8 2.1v6a5 5 0 0 1 1.5 1.8A4.9 4.9 0 0 1 17 16c0 1.4-.5 2.6-1.4 3.5s-2.2 1.5-3.6 1.5zm-3-5h6c0-.5-.2-1-.4-1.4a3 3 0 0 0-.9-1l-.8-.6v-7a1 1 0 0 0-.3-.7A1 1 0 0 0 12 5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v7l-.8.6a2.9 2.9 0 0 0-.9 1 3 3 0 0 0-.3 1.4z"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){var x=tinymce.util.Tools.resolve("tinymce.PluginManager");const S=(Ge,Ee,Dt)=>{const de=Ee==="UL"?"InsertUnorderedList":"InsertOrderedList";Ge.execCommand(de,!1,Dt===!1?null:{"list-style-type":Dt})},D=Ge=>{Ge.addCommand("ApplyUnorderedListStyle",(Ee,Dt)=>{S(Ge,"UL",Dt["list-style-type"])}),Ge.addCommand("ApplyOrderedListStyle",(Ee,Dt)=>{S(Ge,"OL",Dt["list-style-type"])})},F=Ge=>Ee=>Ee.options.get(Ge),U=Ge=>{const Ee=Ge.options.register;Ee("advlist_number_styles",{processor:"string[]",default:"default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman".split(",")}),Ee("advlist_bullet_styles",{processor:"string[]",default:"default,disc,circle,square".split(",")})},K=F("advlist_number_styles"),J=F("advlist_bullet_styles"),X=Ge=>Ge==null,De=Ge=>!X(Ge);class xe{constructor(Ee,Dt){this.tag=Ee,this.value=Dt}static some(Ee){return new xe(!0,Ee)}static none(){return xe.singletonNone}fold(Ee,Dt){return this.tag?Dt(this.value):Ee()}isSome(){return this.tag}isNone(){return!this.tag}map(Ee){return this.tag?xe.some(Ee(this.value)):xe.none()}bind(Ee){return this.tag?Ee(this.value):xe.none()}exists(Ee){return this.tag&&Ee(this.value)}forall(Ee){return!this.tag||Ee(this.value)}filter(Ee){return!this.tag||Ee(this.value)?this:xe.none()}getOr(Ee){return this.tag?this.value:Ee}or(Ee){return this.tag?this:Ee}getOrThunk(Ee){return this.tag?this.value:Ee()}orThunk(Ee){return this.tag?this:Ee()}getOrDie(Ee){if(this.tag)return this.value;throw new Error(Ee??"Called getOrDie on None")}static from(Ee){return De(Ee)?xe.some(Ee):xe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ee){this.tag&&Ee(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}xe.singletonNone=new xe(!1);const $e=Array.prototype.indexOf,Ue=(Ge,Ee)=>$e.call(Ge,Ee),Re=(Ge,Ee)=>Ue(Ge,Ee)>-1,Qe=(Ge,Ee,Dt)=>{for(let de=0,et=Ge.length;de<et;de++){const re=Ge[de];if(Ee(re,de))return xe.some(re);if(Dt(re,de))break}return xe.none()},Je=Object.keys,Xe=(Ge,Ee)=>{const Dt=Je(Ge);for(let de=0,et=Dt.length;de<et;de++){const re=Dt[de],_e=Ge[re];Ee(_e,re)}},Se=(Ge,Ee)=>Rt(Ge,(Dt,de)=>({k:de,v:Ee(Dt,de)})),Rt=(Ge,Ee)=>{const Dt={};return Xe(Ge,(de,et)=>{const re=Ee(de,et);Dt[re.k]=re.v}),Dt};var Oe=tinymce.util.Tools.resolve("tinymce.util.Tools");const ce=Ge=>/\btox\-/.test(Ge.className),nt=(Ge,Ee)=>Ge.dom.isChildOf(Ee,Ge.getBody()),on=Ge=>Ee=>De(Ee)&&Ge.test(Ee.nodeName),Ae=on(/^(OL|UL|DL)$/),A=on(/^(TH|TD)$/),Ve=(Ge,Ee,Dt)=>Qe(Ee,de=>Ae(de)&&!ce(de),A).exists(de=>de.nodeName===Dt&&nt(Ge,de)),rn=Ge=>{const Ee=Ge.dom.getParent(Ge.selection.getNode(),"ol,ul"),Dt=Ge.dom.getStyle(Ee,"listStyleType");return xe.from(Dt)},cn=(Ge,Ee)=>Ee!==null&&!Ge.dom.isEditable(Ee),Xt=(Ge,Ee)=>{const Dt=Ge.dom.getParent(Ee,"ol,ul,dl");return cn(Ge,Dt)||!Ge.selection.isEditable()},hn=(Ge,Ee)=>{const Dt=Ge.selection.getNode();return Ee({parents:Ge.dom.getParents(Dt),element:Dt}),Ge.on("NodeChange",Ee),()=>Ge.off("NodeChange",Ee)},to=Ge=>Ge.replace(/\-/g," ").replace(/\b\w/g,Ee=>Ee.toUpperCase()),ue=Ge=>X(Ge)||Ge==="default"?"":Ge,st=(Ge,Ee)=>Dt=>{const de=(re,_e)=>{const Mn=re.selection.getStart(!0);Dt.setActive(Ve(re,_e,Ee)),Dt.setEnabled(!Xt(re,Mn))};return hn(Ge,re=>de(Ge,re.parents))},h=(Ge,Ee,Dt,de,et,re)=>{const _e={"lower-latin":"lower-alpha","upper-latin":"upper-alpha","lower-alpha":"lower-latin","upper-alpha":"upper-latin"},Mn=Se(_e,Rn=>Re(re,Rn));Ge.ui.registry.addSplitButton(Ee,{tooltip:Dt,icon:et==="OL"?"ordered-list":"unordered-list",presets:"listpreview",columns:et==="OL"?3:4,fetch:Rn=>{const jt=Oe.map(re,ln=>{const On=et==="OL"?"num":"bull",Kn=ln==="decimal"?"default":ln,ve=ue(ln),we=to(ln);return{type:"choiceitem",value:ve,icon:"list-"+On+"-"+Kn,text:we}});Rn(jt)},onAction:()=>Ge.execCommand(de),onItemAction:(Rn,jt)=>{S(Ge,et,jt)},select:Rn=>rn(Ge).exists(ln=>Rn===ln||_e[ln]===Rn&&!Mn[Rn]),onSetup:st(Ge,et)})},Nn=(Ge,Ee,Dt,de,et,re)=>{Ge.ui.registry.addToggleButton(Ee,{active:!1,tooltip:Dt,icon:et==="OL"?"ordered-list":"unordered-list",onSetup:st(Ge,et),onAction:()=>Ge.queryCommandState(de)||re===""?Ge.execCommand(de):S(Ge,et,re)})},Gn=(Ge,Ee,Dt,de,et,re)=>{re.length>1?h(Ge,Ee,Dt,de,et,re):Nn(Ge,Ee,Dt,de,et,ue(re[0]))},Wo=Ge=>{Gn(Ge,"numlist","Numbered list","InsertOrderedList","OL",K(Ge)),Gn(Ge,"bullist","Bullet list","InsertUnorderedList","UL",J(Ge))};var yo=()=>{x.add("advlist",Ge=>{Ge.hasPlugin("lists")?(U(Ge),Wo(Ge),D(Ge)):console.error("Please use the Lists plugin together with the List Styles plugin.")})};yo()})();(function(){var x=tinymce.util.Tools.resolve("tinymce.PluginManager");const S=(de,et,re)=>{var _e;return re(de,et.prototype)?!0:((_e=de.constructor)===null||_e===void 0?void 0:_e.name)===et.name},D=de=>{const et=typeof de;return de===null?"null":et==="object"&&Array.isArray(de)?"array":et==="object"&&S(de,String,(re,_e)=>_e.isPrototypeOf(re))?"string":et},F=de=>et=>D(et)===de,U=de=>et=>de===et,K=F("string"),J=U(void 0),X=de=>de==null,De=de=>!X(de),xe=de=>et=>!de(et),$e=Object.hasOwnProperty,Ue=(de,et)=>$e.call(de,et),Re=(de,et,re)=>et===""||de.length>=et.length&&de.substr(re,re+et.length)===et,Qe=(de,et,re=0,_e)=>{const Mn=de.indexOf(et,re);return Mn!==-1?J(_e)?!0:Mn+et.length<=_e:!1},Je=(de,et)=>Re(de,et,0),Xe="\uFEFF",Se=de=>de===Xe,Rt=de=>de.replace(/\uFEFF/g,""),Oe=()=>/(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)[A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?/g,ce=de=>et=>et.options.get(de),nt=de=>{const et=de.options.register;et("autolink_pattern",{processor:"regexp",default:new RegExp("^"+Oe().source+"$","i")}),et("link_default_target",{processor:"string"}),et("link_default_protocol",{processor:"string",default:"https"})},on=ce("autolink_pattern"),Ae=ce("link_default_target"),A=ce("link_default_protocol"),Ve=ce("allow_unsafe_link_target");var rn=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker");const cn=de=>de.nodeType===3,Xt=de=>de.nodeType===1,hn=de=>/^[(\[{ \u00a0]$/.test(de),to=de=>/^([A-Za-z][A-Za-z\d.+-]*:\/\/)|mailto:/.test(de),ue=de=>/[?!,.;:]/.test(de),st=(de,et,re)=>{for(let _e=et-1;_e>=0;_e--){const Mn=de.charAt(_e);if(!Se(Mn)&&re(Mn))return _e}return-1},h=(de,et)=>{let re=de,_e=et;for(;Xt(re)&&re.childNodes[_e];)re=re.childNodes[_e],_e=cn(re)?re.data.length:re.childNodes.length;return{container:re,offset:_e}},Nn=(de,et)=>{var re;const _e=de.schema.getVoidElements(),Mn=on(de),{dom:Rn,selection:jt}=de;if(Rn.getParent(jt.getNode(),"a[href]")!==null||de.mode.isReadOnly())return null;const ln=jt.getRng(),On=rn(Rn,Ce=>Rn.isBlock(Ce)||Ue(_e,Ce.nodeName.toLowerCase())||Rn.getContentEditable(Ce)==="false"||Rn.getParent(Ce,"a[href]")!==null),{container:Kn,offset:ve}=h(ln.endContainer,ln.endOffset),we=(re=Rn.getParent(Kn,Rn.isBlock))!==null&&re!==void 0?re:Rn.getRoot(),je=On.backwards(Kn,ve+et,(Ce,Me)=>{const _t=Ce.data,Mt=st(_t,Me,xe(hn));return Mt===-1||ue(_t[Mt])?Mt:Mt+1},we);if(!je)return null;let Tt=je.container;const Ft=On.backwards(je.container,je.offset,(Ce,Me)=>{Tt=Ce;const _t=st(Ce.data,Me,hn);return _t===-1?_t:_t+1},we),In=Rn.createRng();Ft?In.setStart(Ft.container,Ft.offset):In.setStart(Tt,0),In.setEnd(je.container,je.offset);const ro=Rt(In.toString()).match(Mn);if(ro){let Ce=ro[0];return Je(Ce,"www.")?Ce=A(de)+"://"+Ce:Qe(Ce,"@")&&!to(Ce)&&(Ce="mailto:"+Ce),{rng:In,url:Ce}}else return null},Gn=(de,et)=>{const{dom:re,selection:_e}=de,{rng:Mn,url:Rn}=et,jt=_e.getBookmark();_e.setRng(Mn);const ln="createlink",On={command:ln,ui:!1,value:Rn};if(!de.dispatch("BeforeExecCommand",On).isDefaultPrevented()){de.getDoc().execCommand(ln,!1,Rn),de.dispatch("ExecCommand",On);const ve=Ae(de);if(K(ve)){const we=_e.getNode();re.setAttrib(we,"target",ve),ve==="_blank"&&!Ve(de)&&re.setAttrib(we,"rel","noopener")}}_e.moveToBookmark(jt),de.nodeChanged()},Wo=de=>{const et=Nn(de,-1);De(et)&&Gn(de,et)},yo=Wo,Ge=de=>{const et=Nn(de,0);De(et)&&Gn(de,et)},Ee=de=>{de.on("keydown",et=>{et.keyCode===13&&!et.isDefaultPrevented()&&Ge(de)}),de.on("keyup",et=>{et.keyCode===32?Wo(de):(et.keyCode===48&&et.shiftKey||et.keyCode===221)&&yo(de)})};var Dt=()=>{x.add("autolink",de=>{nt(de),Ee(de)})};Dt()})();(function(){var x=tinymce.util.Tools.resolve("tinymce.PluginManager");const S=(u,p,w)=>{var H;return w(u,p.prototype)?!0:((H=u.constructor)===null||H===void 0?void 0:H.name)===p.name},D=u=>{const p=typeof u;return u===null?"null":p==="object"&&Array.isArray(u)?"array":p==="object"&&S(u,String,(w,H)=>H.isPrototypeOf(w))?"string":p},F=u=>p=>D(p)===u,U=u=>p=>typeof p===u,K=F("string"),J=F("object"),X=F("array"),De=U("boolean"),xe=u=>u==null,$e=u=>!xe(u),Ue=U("function"),Re=U("number"),Qe=()=>{},Je=(u,p)=>w=>u(p(w)),Xe=u=>()=>u,Se=(u,p)=>u===p;function Rt(u,...p){return(...w)=>{const H=p.concat(w);return u.apply(null,H)}}const Oe=u=>p=>!u(p),ce=Xe(!1);class nt{constructor(p,w){this.tag=p,this.value=w}static some(p){return new nt(!0,p)}static none(){return nt.singletonNone}fold(p,w){return this.tag?w(this.value):p()}isSome(){return this.tag}isNone(){return!this.tag}map(p){return this.tag?nt.some(p(this.value)):nt.none()}bind(p){return this.tag?p(this.value):nt.none()}exists(p){return this.tag&&p(this.value)}forall(p){return!this.tag||p(this.value)}filter(p){return!this.tag||p(this.value)?this:nt.none()}getOr(p){return this.tag?this.value:p}or(p){return this.tag?this:p}getOrThunk(p){return this.tag?this.value:p()}orThunk(p){return this.tag?this:p()}getOrDie(p){if(this.tag)return this.value;throw new Error(p??"Called getOrDie on None")}static from(p){return $e(p)?nt.some(p):nt.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(p){this.tag&&p(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}nt.singletonNone=new nt(!1);const on=Array.prototype.slice,Ae=Array.prototype.indexOf,A=Array.prototype.push,Ve=(u,p)=>Ae.call(u,p),rn=(u,p)=>Ve(u,p)>-1,cn=(u,p)=>{for(let w=0,H=u.length;w<H;w++){const Z=u[w];if(p(Z,w))return!0}return!1},Xt=(u,p)=>{const w=u.length,H=new Array(w);for(let Z=0;Z<w;Z++){const Te=u[Z];H[Z]=p(Te,Z)}return H},hn=(u,p)=>{for(let w=0,H=u.length;w<H;w++){const Z=u[w];p(Z,w)}},to=(u,p)=>{const w=[];for(let H=0,Z=u.length;H<Z;H++){const Te=u[H];p(Te,H)&&w.push(Te)}return w},ue=(u,p)=>{if(u.length===0)return[];{let w=p(u[0]);const H=[];let Z=[];for(let Te=0,Ne=u.length;Te<Ne;Te++){const Kt=u[Te],Yt=p(Kt);Yt!==w&&(H.push(Z),Z=[]),w=Yt,Z.push(Kt)}return Z.length!==0&&H.push(Z),H}},st=(u,p,w)=>(hn(u,(H,Z)=>{w=p(w,H,Z)}),w),h=(u,p,w)=>{for(let H=0,Z=u.length;H<Z;H++){const Te=u[H];if(p(Te,H))return nt.some(Te);if(w(Te,H))break}return nt.none()},Nn=(u,p)=>h(u,p,ce),Gn=u=>{const p=[];for(let w=0,H=u.length;w<H;++w){if(!X(u[w]))throw new Error("Arr.flatten item "+w+" was not an array, input: "+u);A.apply(p,u[w])}return p},Wo=(u,p)=>Gn(Xt(u,p)),yo=u=>{const p=on.call(u,0);return p.reverse(),p},Ge=(u,p)=>p>=0&&p<u.length?nt.some(u[p]):nt.none(),Ee=u=>Ge(u,0),Dt=u=>Ge(u,u.length-1),de=(u,p)=>{const w=[],H=Ue(p)?Z=>cn(w,Te=>p(Te,Z)):Z=>rn(w,Z);for(let Z=0,Te=u.length;Z<Te;Z++){const Ne=u[Z];H(Ne)||w.push(Ne)}return w},et=Object.keys,re=(u,p)=>{const w=et(u);for(let H=0,Z=w.length;H<Z;H++){const Te=w[H],Ne=u[Te];p(Ne,Te)}},_e=u=>(p,w)=>{u[w]=p},Mn=(u,p,w,H)=>{re(u,(Z,Te)=>{(p(Z,Te)?w:H)(Z,Te)})},Rn=(u,p)=>{const w={};return Mn(u,p,_e(w),Qe),w},jt=u=>{let p=u;return{get:()=>p,set:Z=>{p=Z}}},ln=typeof window<"u"?window:Function("return this;")(),On=(u,p,w=Se)=>u.exists(H=>w(H,p)),Kn=(u,p,w=Se)=>ve(u,p,w).getOr(u.isNone()&&p.isNone()),ve=(u,p,w)=>u.isSome()&&p.isSome()?nt.some(w(u.getOrDie(),p.getOrDie())):nt.none(),we=(u,p)=>{let w=p??ln;for(let H=0;H<u.length&&w!==void 0&&w!==null;++H)w=w[u[H]];return w},je=(u,p)=>{const w=u.split(".");return we(w,p)},Ft=(u=>p=>p.replace(u,""))(/^\s+|\s+$/g),In=u=>u.length>0,no=u=>!In(u),ro="\uFEFF",Ce=u=>u===ro,Me=(u,p)=>{const H=(p||document).createElement("div");if(H.innerHTML=u,!H.hasChildNodes()||H.childNodes.length>1){const Z="HTML does not have a single root node";throw console.error(Z,u),new Error(Z)}return Jt(H.childNodes[0])},_t=(u,p)=>{const H=(p||document).createElement(u);return Jt(H)},Mt=(u,p)=>{const H=(p||document).createTextNode(u);return Jt(H)},Jt=u=>{if(u==null)throw new Error("Node cannot be null or undefined");return{dom:u}},kt={fromHtml:Me,fromTag:_t,fromText:Mt,fromDom:Jt,fromPoint:(u,p,w)=>nt.from(u.dom.elementFromPoint(p,w)).map(Jt)},en=8,xo=11,sn=1,ge=3,He=(u,p)=>{const w=u.dom;if(w.nodeType!==sn)return!1;{const H=w;if(H.matches!==void 0)return H.matches(p);if(H.msMatchesSelector!==void 0)return H.msMatchesSelector(p);if(H.webkitMatchesSelector!==void 0)return H.webkitMatchesSelector(p);if(H.mozMatchesSelector!==void 0)return H.mozMatchesSelector(p);throw new Error("Browser lacks native selectors")}},ut=(u,p)=>u.dom===p.dom,it=(u,p)=>{const w=u.dom,H=p.dom;return w===H?!1:w.contains(H)},Tn=He,ao=(u,p)=>je(u,p),yn=(u,p)=>{const w=ao(u,p);if(w==null)throw new Error(u+" not available on this browser");return w},oo=Object.getPrototypeOf,wo=u=>yn("HTMLElement",u),lt=u=>{const p=je("ownerDocument.defaultView",u);return J(u)&&(wo(p).prototype.isPrototypeOf(u)||/^HTML\w*Element$/.test(oo(u).constructor.name))},Nt=u=>u.dom.nodeName.toLowerCase(),mo=u=>u.dom.nodeType,Ss=u=>p=>mo(p)===u,Ko=u=>mo(u)===en||Nt(u)==="#comment",ot=u=>As(u)&&lt(u.dom),As=Ss(sn),zn=Ss(ge),Nr=Ss(xo),er=u=>p=>As(p)&&Nt(p)===u,Bo=u=>nt.from(u.dom.parentNode).map(kt.fromDom),tr=u=>nt.from(u.dom.parentElement).map(kt.fromDom),Er=u=>nt.from(u.dom.nextSibling).map(kt.fromDom),An=u=>Xt(u.dom.childNodes,kt.fromDom),ss=(u,p)=>{const w=u.dom.childNodes;return nt.from(w[p]).map(kt.fromDom)},gs=u=>ss(u,0),Mr=u=>ss(u,u.dom.childNodes.length-1),Ot=u=>Nr(u)&&$e(u.dom.host),$o=u=>kt.fromDom(u.dom.getRootNode()),Ho=u=>{const p=$o(u);return Ot(p)?nt.some(p):nt.none()},nr=u=>kt.fromDom(u.dom.host),N=(u,p)=>{Bo(u).each(H=>{H.dom.insertBefore(p.dom,u.dom)})},B=(u,p)=>{Er(u).fold(()=>{Bo(u).each(Z=>{ie(Z,p)})},H=>{N(H,p)})},ne=(u,p)=>{gs(u).fold(()=>{ie(u,p)},H=>{u.dom.insertBefore(p.dom,H.dom)})},ie=(u,p)=>{u.dom.appendChild(p.dom)},xt=(u,p)=>{hn(p,w=>{N(u,w)})},St=(u,p)=>{hn(p,w=>{ie(u,w)})},qt=(u,p,w)=>{if(K(w)||De(w)||Re(w))u.setAttribute(p,w+"");else throw console.error("Invalid call to Attribute.set. Key ",p,":: Value ",w,":: Element ",u),new Error("Attribute value was not simple")},fn=(u,p)=>{const w=u.dom;re(p,(H,Z)=>{qt(w,Z,H)})},gn=u=>st(u.dom.attributes,(p,w)=>(p[w.name]=w.value,p),{}),Qt=u=>{u.dom.textContent="",hn(An(u),p=>{O(p)})},O=u=>{const p=u.dom;p.parentNode!==null&&p.parentNode.removeChild(p)},V=(u,p)=>kt.fromDom(u.dom.cloneNode(p)),fe=u=>V(u,!0),Ze=(u,p)=>{const w=kt.fromTag(p),H=gn(u);return fn(w,H),w},ke=(u,p)=>{const w=Ze(u,p);B(u,w);const H=An(u);return St(w,H),O(u),w},bt=u=>Xt(u,kt.fromDom),dt=u=>u.style!==void 0&&Ue(u.style.getPropertyValue),mt=u=>{const p=zn(u)?u.dom.parentNode:u.dom;if(p==null||p.ownerDocument===null)return!1;const w=p.ownerDocument;return Ho(kt.fromDom(p)).fold(()=>w.body.contains(p),Je(mt,nr))},Ut=(u,p,w)=>{if(!K(w))throw console.error("Invalid call to CSS.set. Property ",p,":: Value ",w,":: Element ",u),new Error("CSS value must be a string: "+w);dt(u)&&u.style.setProperty(p,w)},bn=(u,p,w)=>{const H=u.dom;Ut(H,p,w)},Dn=(u,p)=>{const H=(p||document).createDocumentFragment();return hn(u,Z=>{H.appendChild(Z.dom)}),kt.fromDom(H)};var po=(u,p,w,H,Z)=>u(w,H)?nt.some(w):Ue(Z)&&Z(w)?nt.none():p(w,H,Z);const Ns=(u,p,w)=>{let H=u.dom;const Z=Ue(w)?w:ce;for(;H.parentNode;){H=H.parentNode;const Te=kt.fromDom(H);if(p(Te))return nt.some(Te);if(Z(Te))break}return nt.none()},Ao=(u,p,w)=>po((Z,Te)=>Te(Z),Ns,u,p,w),ta=(u,p,w)=>Ns(u,H=>He(H,p),w),so=(u,p,w)=>po((Z,Te)=>He(Z,Te),ta,u,p,w),Jn=u=>so(u,"[contenteditable]"),Wn=(u,p=!1)=>mt(u)?u.dom.isContentEditable:Jn(u).fold(Xe(p),w=>Es(w)==="true"),Es=u=>u.dom.contentEditable,na=(u,p,w)=>Ns(u,p,w).isSome(),Vs=(u,p)=>na(u,Rt(ut,p));var kn=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),nc=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),oa=tinymce.util.Tools.resolve("tinymce.util.VK"),fa=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Ms=tinymce.util.Tools.resolve("tinymce.util.Tools");const ba=u=>p=>$e(p)&&p.nodeName.toLowerCase()===u,Eo=u=>p=>$e(p)&&u.test(p.nodeName),ps=u=>$e(u)&&u.nodeType===3,or=u=>$e(u)&&u.nodeType===1,cs=Eo(/^(OL|UL|DL)$/),va=Eo(/^(OL|UL)$/),sr=ba("ol"),fr=Eo(/^(LI|DT|DD)$/),rr=Eo(/^(DT|DD)$/),ya=Eo(/^(TH|TD)$/),zs=ba("br"),_r=u=>{var p;return((p=u.parentNode)===null||p===void 0?void 0:p.firstChild)===u},_s=(u,p)=>$e(p)&&p.nodeName in u.schema.getTextBlockElements(),Vr=(u,p)=>$e(u)&&u.nodeName in p,oc=(u,p)=>$e(p)&&p.nodeName in u.schema.getVoidElements(),Mc=(u,p)=>zs(p)?u.isBlock(p.nextSibling)&&!zs(p.previousSibling):!1,ar=(u,p,w)=>{const H=u.isEmpty(p);return w&&u.select("span[data-mce-type=bookmark]",p).length>0?!1:H},Pa=(u,p)=>u.isChildOf(p,u.getRoot()),Dr=u=>p=>p.options.get(u),ti=u=>{const p=u.options.register;p("lists_indent_on_tab",{processor:"boolean",default:!0})},Be=Dr("lists_indent_on_tab"),xa=Dr("forced_root_block"),_c=Dr("forced_root_block_attrs"),C=(u,p,w={})=>{const H=u.dom,Z=u.schema.getBlockElements(),Te=H.createFragment(),Ne=xa(u),Kt=_c(u);let Yt,At,pn=!1;for(At=H.create(Ne,{...Kt,...w.style?{style:w.style}:{}}),Vr(p.firstChild,Z)||Te.appendChild(At);Yt=p.firstChild;){const ho=Yt.nodeName;!pn&&(ho!=="SPAN"||Yt.getAttribute("data-mce-type")!=="bookmark")&&(pn=!0),Vr(Yt,Z)?(Te.appendChild(Yt),At=null):(At||(At=H.create(Ne,Kt),Te.appendChild(At)),At.appendChild(Yt))}return!pn&&At&&At.appendChild(H.create("br",{"data-mce-bogus":"1"})),Te},I=fa.DOM,q=(u,p,w)=>{const H=At=>{const pn=At.parentNode;pn&&Ms.each(Z,ho=>{pn.insertBefore(ho,w.parentNode)}),I.remove(At)},Z=I.select('span[data-mce-type="bookmark"]',p),Te=C(u,w),Ne=I.createRng();Ne.setStartAfter(w),Ne.setEndAfter(p);const Kt=Ne.extractContents();for(let At=Kt.firstChild;At;At=At.firstChild)if(At.nodeName==="LI"&&u.dom.isEmpty(At)){I.remove(At);break}u.dom.isEmpty(Kt)||I.insertAfter(Kt,p),I.insertAfter(Te,p);const Yt=w.parentElement;Yt&&ar(u.dom,Yt)&&H(Yt),I.remove(w),ar(u.dom,p)&&I.remove(p)},me=er("dd"),Le=er("dt"),tt=(u,p)=>{me(p)?ke(p,"dt"):Le(p)&&tr(p).each(w=>q(u,w.dom,p.dom))},un=u=>{Le(u)&&ke(u,"dd")},fo=(u,p,w)=>{p==="Indent"?hn(w,un):hn(w,H=>tt(u,H))},Ln=(u,p)=>{if(ps(u))return{container:u,offset:p};const w=kn.getNode(u,p);return ps(w)?{container:w,offset:p>=u.childNodes.length?w.data.length:0}:w.previousSibling&&ps(w.previousSibling)?{container:w.previousSibling,offset:w.previousSibling.data.length}:w.nextSibling&&ps(w.nextSibling)?{container:w.nextSibling,offset:0}:{container:u,offset:p}},b=u=>{const p=u.cloneRange(),w=Ln(u.startContainer,u.startOffset);p.setStart(w.container,w.offset);const H=Ln(u.endContainer,u.endOffset);return p.setEnd(H.container,H.offset),p},k=["OL","UL","DL"],P=k.join(","),te=(u,p)=>{const w=p||u.selection.getStart(!0);return u.dom.getParent(w,P,Ba(u,w))},rt=(u,p)=>$e(u)&&p.length===1&&p[0]===u,xn=u=>to(u.querySelectorAll(P),cs),qn=u=>{const p=te(u),w=u.selection.getSelectedBlocks();return rt(p,w)?xn(p):to(w,H=>cs(H)&&p!==H)},Yo=(u,p)=>{const w=Ms.map(p,H=>{const Z=u.dom.getParent(H,"li,dd,dt",Ba(u,H));return Z||H});return de(w)},Jo=u=>{const p=u.selection.getSelectedBlocks();return to(Yo(u,p),fr)},Zs=u=>to(Jo(u),rr),dn=(u,p)=>{const w=u.dom.getParents(p,"TD,TH");return w.length>0?w[0]:u.getBody()},zr=(u,p)=>!cs(p)&&!fr(p)&&cn(k,w=>u.isValidChild(p.nodeName,w)),Ba=(u,p)=>{const w=u.dom.getParents(p,u.dom.isBlock),H=Te=>Te.nodeName.toLowerCase()!==xa(u);return Nn(w,Te=>H(Te)&&zr(u.schema,Te)).getOr(u.getBody())},Ei=u=>Bo(u).exists(p=>fr(p.dom)&&gs(p).exists(w=>!cs(w.dom))&&Mr(p).exists(w=>!cs(w.dom))),ni=(u,p)=>{const w=u.dom.getParents(p,"ol,ul",Ba(u,p));return Dt(w)},oi=u=>{const p=ni(u,u.selection.getStart()),w=to(u.selection.getSelectedBlocks(),va);return p.toArray().concat(w)},cr=u=>{const p=u.selection.getStart();return u.dom.getParents(p,"ol,ul",Ba(u,p))},Na=u=>{const p=oi(u),w=cr(u);return Nn(w,H=>Ei(kt.fromDom(H))).fold(()=>Va(u,p),H=>[H])},Va=(u,p)=>{const w=Xt(p,H=>ni(u,H).getOr(H));return de(w)},sc=u=>/\btox\-/.test(u.className),si=(u,p)=>h(u,cs,ya).exists(w=>w.nodeName===p&&!sc(w)),ri=(u,p)=>p!==null&&!u.dom.isEditable(p),sl=u=>{const p=te(u);return ri(u,p)||!u.selection.isEditable()},sa=(u,p)=>{const w=u.dom.getParent(p,"ol,ul,dl");return ri(u,w)||!u.selection.isEditable()},Fr=(u,p)=>{const w=u.selection.getNode();return p({parents:u.dom.getParents(w),element:w}),u.on("NodeChange",p),()=>u.off("NodeChange",p)},za=(u,p,w)=>u.dispatch("ListMutation",{action:p,element:w}),Dc=u=>Tn(u,"OL,UL"),E=u=>Tn(u,"LI"),$=u=>gs(u).exists(Dc),Q=u=>Mr(u).exists(Dc),he=u=>"listAttributes"in u,wt=u=>"isComment"in u,Sn=u=>"isFragment"in u,So=u=>u.depth>0,Ds=u=>u.isSelected,rs=u=>{const p=An(u),w=Q(u)?p.slice(0,-1):p;return Xt(w,fe)},Us=(u,p,w)=>Bo(u).filter(As).map(H=>({depth:p,dirty:!1,isSelected:w,content:rs(u),itemAttributes:gn(u),listAttributes:gn(H),listType:Nt(H),isInPreviousLi:!1})),Ir=(u,p)=>{ie(u.item,p.list)},Cs=u=>{for(let p=1;p<u.length;p++)Ir(u[p-1],u[p])},Za=(u,p)=>{ve(Dt(u),Ee(p),Ir)},Ua=(u,p)=>{const w={list:kt.fromTag(p,u),item:kt.fromTag("li",u)};return ie(w.list,w.item),w},Fc=(u,p,w)=>{const H=[];for(let Z=0;Z<w;Z++)H.push(Ua(u,he(p)?p.listType:p.parentListType));return H},ai=(u,p)=>{for(let w=0;w<u.length-1;w++)bn(u[w].item,"list-style-type","none");Dt(u).each(w=>{he(p)&&(fn(w.list,p.listAttributes),fn(w.item,p.itemAttributes)),St(w.item,p.content)})},Fs=(u,p)=>{Nt(u.list)!==p.listType&&(u.list=ke(u.list,p.listType)),fn(u.list,p.listAttributes)},Zr=(u,p,w)=>{const H=kt.fromTag("li",u);return fn(H,p),St(H,w),H},ci=(u,p)=>{ie(u.list,p),u.item=p},rl=(u,p,w)=>{const H=p.slice(0,w.depth);return Dt(H).each(Z=>{if(he(w)){const Te=Zr(u,w.itemAttributes,w.content);ci(Z,Te),Fs(Z,w)}else if(Sn(w))St(Z.item,w.content);else{const Te=kt.fromHtml(`<!--${w.content}-->`);ie(Z.list,Te)}}),H},um=(u,p,w)=>{const H=Fc(u,w,w.depth-p.length);return Cs(H),ai(H,w),Za(p,H),p.concat(H)},Np=(u,p)=>{let w=nt.none();const H=st(p,(Z,Te,Ne)=>wt(Te)?Ne===0?(w=nt.some(Te),Z):rl(u,Z,Te):Te.depth>Z.length?um(u,Z,Te):rl(u,Z,Te),[]);return w.each(Z=>{const Te=kt.fromHtml(`<!--${Z.content}-->`);Ee(H).each(Ne=>{ne(Ne.list,Te)})}),Ee(H).map(Z=>Z.list)},Vh=(u,p)=>{switch(u){case"Indent":p.depth++;break;case"Outdent":p.depth--;break;case"Flatten":p.depth=0}p.dirty=!0},zh=(u,p)=>{he(u)&&he(p)&&(u.listType=p.listType,u.listAttributes={...p.listAttributes})},Zh=u=>{u.listAttributes=Rn(u.listAttributes,(p,w)=>w!=="start")},fs=(u,p)=>{const w=u[p].depth,H=Te=>Te.depth===w&&!Te.dirty,Z=Te=>Te.depth<w;return h(yo(u.slice(0,p)),H,Z).orThunk(()=>h(u.slice(p+1),H,Z))},Zl=u=>(hn(u,(p,w)=>{fs(u,w).fold(()=>{p.dirty&&he(p)&&Zh(p)},H=>zh(p,H))}),u),Ju=(u,p,w,H)=>{var Z;if(Ko(H))return[{depth:u+1,content:(Z=H.dom.nodeValue)!==null&&Z!==void 0?Z:"",dirty:!1,isSelected:!1,isComment:!0}];p.each(Kt=>{ut(Kt.start,H)&&w.set(!0)});const Te=Us(H,u,w.get());p.each(Kt=>{ut(Kt.end,H)&&w.set(!1)});const Ne=Mr(H).filter(Dc).map(Kt=>al(u,p,w,Kt)).getOr([]);return Te.toArray().concat(Ne)},dm=(u,p,w,H)=>gs(H).filter(Dc).fold(()=>Ju(u,p,w,H),Z=>{const Te=st(An(H),(Ne,Kt,Yt)=>{if(Yt===0)return Ne;if(E(Kt))return Ne.concat(Ju(u,p,w,Kt));{const At={isFragment:!0,depth:u,content:[Kt],isSelected:!1,dirty:!1,parentListType:Nt(Z)};return Ne.concat(At)}},[]);return al(u,p,w,Z).concat(Te)}),al=(u,p,w,H)=>Wo(An(H),Z=>{const Te=Dc(Z)?al:dm,Ne=u+1;return Te(Ne,p,w,Z)}),Qu=(u,p)=>{const w=jt(!1),H=0;return Xt(u,Z=>({sourceList:Z,entries:al(H,p,w,Z)}))},Wa=(u,p)=>{const w=Zl(p);return Xt(w,H=>{const Z=wt(H)?Dn([kt.fromHtml(`<!--${H.content}-->`)]):Dn(H.content),Te=he(H)?H.itemAttributes:{};return kt.fromDom(C(u,Z.dom,Te))})},ed=(u,p)=>{const w=Zl(p);return Np(u.contentDocument,w).toArray()},cl=(u,p)=>Wo(ue(p,So),w=>Ee(w).exists(So)?ed(u,w):Wa(u,w)),td=(u,p)=>{hn(to(u,Ds),w=>Vh(p,w))},br=u=>{const p=Xt(Jo(u),kt.fromDom);return ve(Nn(p,Oe($)),Nn(yo(p),Oe($)),(w,H)=>({start:w,end:H}))},Ic=(u,p,w)=>{const H=Qu(p,br(u));hn(H,Z=>{td(Z.entries,w);const Te=cl(u,Z.entries);hn(Te,Ne=>{za(u,w==="Indent"?"IndentList":"OutdentList",Ne.dom)}),xt(Z.sourceList,Te),O(Z.sourceList)})},mm=(u,p)=>{const w=bt(Na(u)),H=bt(Zs(u));let Z=!1;if(w.length||H.length){const Te=u.selection.getBookmark();Ic(u,w,p),fo(u,p,H),u.selection.moveToBookmark(Te),u.selection.setRng(b(u.selection.getRng())),u.nodeChanged(),Z=!0}return Z},Ul=(u,p)=>!sl(u)&&mm(u,p),Wl=u=>Ul(u,"Indent"),$r=u=>Ul(u,"Outdent"),ii=u=>Ul(u,"Flatten");var jl=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const wa=fa.DOM,ir=u=>{const p={},w=H=>{let Z=u[H?"startContainer":"endContainer"],Te=u[H?"startOffset":"endOffset"];if(or(Z)){const Ne=wa.create("span",{"data-mce-type":"bookmark"});Z.hasChildNodes()?(Te=Math.min(Te,Z.childNodes.length-1),H?Z.insertBefore(Ne,Z.childNodes[Te]):wa.insertAfter(Ne,Z.childNodes[Te])):Z.appendChild(Ne),Z=Ne,Te=0}p[H?"startContainer":"endContainer"]=Z,p[H?"startOffset":"endOffset"]=Te};return w(!0),u.collapsed||w(),p},li=u=>{const p=H=>{const Z=Kt=>{var Yt;let At=(Yt=Kt.parentNode)===null||Yt===void 0?void 0:Yt.firstChild,pn=0;for(;At;){if(At===Kt)return pn;(!or(At)||At.getAttribute("data-mce-type")!=="bookmark")&&pn++,At=At.nextSibling}return-1};let Te=u[H?"startContainer":"endContainer"],Ne=u[H?"startOffset":"endOffset"];if(Te){if(or(Te)&&Te.parentNode){const Kt=Te;Ne=Z(Te),Te=Te.parentNode,wa.remove(Kt),!Te.hasChildNodes()&&wa.isBlock(Te)&&Te.appendChild(wa.create("br"))}u[H?"startContainer":"endContainer"]=Te,u[H?"startOffset":"endOffset"]=Ne}};p(!0),p();const w=wa.createRng();return w.setStart(u.startContainer,u.startOffset),u.endContainer&&w.setEnd(u.endContainer,u.endOffset),b(w)},vr=u=>{switch(u){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},hm=(u,p,w)=>{const H=w["list-style-type"]?w["list-style-type"]:null;u.setStyle(p,"list-style-type",H)},Gl=(u,p)=>{Ms.each(p,(w,H)=>{u.setAttribute(H,w)})},gm=(u,p,w)=>{Gl(p,w["list-attributes"]),Ms.each(u.select("li",p),H=>{Gl(H,w["list-item-attributes"])})},Ws=(u,p,w)=>{hm(u,p,w),gm(u,p,w)},$c=(u,p,w)=>{Ms.each(w,H=>u.setStyle(p,H,""))},ui=(u,p)=>$e(p)&&!Vr(p,u.schema.getBlockElements()),Mi=(u,p,w,H)=>{let Z=p[w?"startContainer":"endContainer"];const Te=p[w?"startOffset":"endOffset"];or(Z)&&(Z=Z.childNodes[Math.min(Te,Z.childNodes.length-1)]||Z),!w&&zs(Z.nextSibling)&&(Z=Z.nextSibling);const Ne=Yt=>{for(;!u.dom.isBlock(Yt)&&Yt.parentNode&&H!==Yt;)Yt=Yt.parentNode;return Yt},Kt=(Yt,At)=>{var pn;const ho=new nc(Yt,Ne(Yt)),Ta=At?"next":"prev";let vs;for(;vs=ho[Ta]();)if(!(oc(u,vs)||Ce(vs.textContent)||((pn=vs.textContent)===null||pn===void 0?void 0:pn.length)===0))return nt.some(vs);return nt.none()};if(w&&ps(Z))if(Ce(Z.textContent))Z=Kt(Z,!1).getOr(Z);else for(Z.parentNode!==null&&ui(u,Z.parentNode)&&(Z=Z.parentNode);Z.previousSibling!==null&&(ui(u,Z.previousSibling)||ps(Z.previousSibling));)Z=Z.previousSibling;if(!w&&ps(Z))if(Ce(Z.textContent))Z=Kt(Z,!0).getOr(Z);else for(Z.parentNode!==null&&ui(u,Z.parentNode)&&(Z=Z.parentNode);Z.nextSibling!==null&&(ui(u,Z.nextSibling)||ps(Z.nextSibling));)Z=Z.nextSibling;for(;Z.parentNode!==H;){const Yt=Z.parentNode;if(_s(u,Z)||/^(TD|TH)$/.test(Yt.nodeName))return Z;Z=Yt}return Z},_i=(u,p,w)=>{const H=[],Z=u.dom,Te=Mi(u,p,!0,w),Ne=Mi(u,p,!1,w);let Kt;const Yt=[];for(let At=Te;At&&(Yt.push(At),At!==Ne);At=At.nextSibling);return Ms.each(Yt,At=>{var pn;if(_s(u,At)){H.push(At),Kt=null;return}if(Z.isBlock(At)||zs(At)){zs(At)&&Z.remove(At),Kt=null;return}const ho=At.nextSibling;if(jl.isBookmarkNode(At)&&(cs(ho)||_s(u,ho)||!ho&&At.parentNode===w)){Kt=null;return}Kt||(Kt=Z.create("p"),(pn=At.parentNode)===null||pn===void 0||pn.insertBefore(Kt,At),H.push(Kt)),Kt.appendChild(At)}),H},ql=(u,p,w)=>{const H=u.getStyle(p,"list-style-type");let Z=w?w["list-style-type"]:"";return Z=Z===null?"":Z,H===Z},pm=(u,p)=>{const w=u.selection.getStart(!0),H=Mi(u,p,!0,u.getBody());return Vs(kt.fromDom(H),kt.fromDom(p.commonAncestorContainer))?p.commonAncestorContainer:w},Hc=(u,p,w)=>{const H=u.selection.getRng();let Z="LI";const Te=Ba(u,pm(u,H)),Ne=u.dom;if(Ne.getContentEditable(u.selection.getNode())==="false")return;p=p.toUpperCase(),p==="DL"&&(Z="DT");const Kt=ir(H),Yt=to(_i(u,H,Te),u.dom.isEditable);Ms.each(Yt,At=>{let pn;const ho=At.previousSibling,Ta=At.parentNode;fr(Ta)||(ho&&cs(ho)&&ho.nodeName===p&&ql(Ne,ho,w)?(pn=ho,At=Ne.rename(At,Z),ho.appendChild(At)):(pn=Ne.create(p),Ta.insertBefore(pn,At),pn.appendChild(At),At=Ne.rename(At,Z)),$c(Ne,At,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),Ws(Ne,pn,w),Di(u.dom,pn))}),u.selection.setRng(li(Kt))},Is=(u,p)=>cs(u)&&u.nodeName===(p==null?void 0:p.nodeName),di=(u,p,w)=>{const H=u.getStyle(p,"list-style-type",!0),Z=u.getStyle(w,"list-style-type",!0);return H===Z},fm=(u,p)=>u.className===p.className,il=(u,p,w)=>Is(p,w)&&di(u,p,w)&&fm(p,w),Di=(u,p)=>{let w,H=p.nextSibling;if(il(u,p,H)){const Z=H;for(;w=Z.firstChild;)p.appendChild(w);u.remove(Z)}if(H=p.previousSibling,il(u,p,H)){const Z=H;for(;w=Z.lastChild;)p.insertBefore(w,p.firstChild);u.remove(Z)}},nd=(u,p,w,H)=>{if(p.nodeName!==w){const Z=u.dom.rename(p,w);Ws(u.dom,Z,H),za(u,vr(w),Z)}else Ws(u.dom,p,H),za(u,vr(w),p)},bm=(u,p,w,H)=>{if(p.classList.forEach((Z,Te,Ne)=>{Z.startsWith("tox-")&&(Ne.remove(Z),Ne.length===0&&p.removeAttribute("class"))}),p.nodeName!==w){const Z=u.dom.rename(p,w);Ws(u.dom,Z,H),za(u,vr(w),Z)}else Ws(u.dom,p,H),za(u,vr(w),p)},vm=(u,p,w,H,Z)=>{const Te=cs(p);if(Te&&p.nodeName===H&&!$s(Z)&&!sc(p))ii(u);else{Hc(u,H,Z);const Ne=ir(u.selection.getRng()),Kt=Te?[p,...w]:w,Yt=Te&&sc(p)?bm:nd;Ms.each(Kt,At=>{Yt(u,At,H,Z)}),u.selection.setRng(li(Ne))}},$s=u=>"list-style-type"in u,ym=(u,p,w,H)=>{if(p!==u.getBody())if(p)if(p.nodeName===w&&!$s(H)&&!sc(p))ii(u);else{const Z=ir(u.selection.getRng());sc(p)&&p.classList.forEach((Ne,Kt,Yt)=>{Ne.startsWith("tox-")&&(Yt.remove(Ne),Yt.length===0&&p.removeAttribute("class"))}),Ws(u.dom,p,H);const Te=u.dom.rename(p,w);Di(u.dom,Te),u.selection.setRng(li(Z)),Hc(u,w,H),za(u,vr(w),Te)}else Hc(u,w,H),za(u,vr(w),p)},Fi=(u,p,w)=>{const H=te(u);if(sa(u,H))return;const Z=qn(u),Te=J(w)?w:{};Z.length>0?vm(u,H,Z,p,Te):ym(u,H,p,Te)},Kl=fa.DOM,Yl=(u,p)=>{const w=p.parentElement;if(w&&w.nodeName==="LI"&&w.firstChild===p){const H=w.previousSibling;H&&H.nodeName==="LI"?(H.appendChild(p),ar(u,w)&&Kl.remove(w)):Kl.setStyle(w,"listStyleType","none")}if(cs(w)){const H=w.previousSibling;H&&H.nodeName==="LI"&&H.appendChild(p)}},ll=(u,p)=>{const w=Ms.grep(u.select("ol,ul",p));Ms.each(w,H=>{Yl(u,H)})},Ii=(u,p,w,H)=>{let Z=p.startContainer;const Te=p.startOffset;if(ps(Z)&&(w?Te<Z.data.length:Te>0))return Z;const Ne=u.schema.getNonEmptyElements();or(Z)&&(Z=kn.getNode(Z,Te));const Kt=new nc(Z,H);w&&Mc(u.dom,Z)&&Kt.next();const Yt=w?Kt.next.bind(Kt):Kt.prev2.bind(Kt);for(;Z=Yt();)if(Z.nodeName==="LI"&&!Z.hasChildNodes()||Ne[Z.nodeName]||ps(Z)&&Z.data.length>0)return Z;return null},Xo=(u,p)=>{const w=p.childNodes;return w.length===1&&!cs(w[0])&&u.isBlock(w[0])},Xl=u=>nt.from(u).map(kt.fromDom).filter(ot).exists(p=>Wn(p)&&!rn(["details"],Nt(p))),od=(u,p)=>{Xo(u,p)&&Xl(p.firstChild)&&u.remove(p.firstChild,!0)},Sa=(u,p,w)=>{let H;const Z=Xo(u,w)?w.firstChild:w;if(od(u,p),!ar(u,p,!0))for(;H=p.firstChild;)Z.appendChild(H)},jo=(u,p,w)=>{let H;const Z=p.parentNode;if(!Pa(u,p)||!Pa(u,w))return;cs(w.lastChild)&&(H=w.lastChild),Z===w.lastChild&&zs(Z.previousSibling)&&u.remove(Z.previousSibling);const Te=w.lastChild;Te&&zs(Te)&&p.hasChildNodes()&&u.remove(Te),ar(u,w,!0)&&Qt(kt.fromDom(w)),Sa(u,p,w),H&&w.appendChild(H);const Kt=it(kt.fromDom(w),kt.fromDom(p))?u.getParents(p,cs,w):[];u.remove(p),hn(Kt,Yt=>{ar(u,Yt)&&Yt!==u.getRoot()&&u.remove(Yt)})},ul=(u,p,w)=>{Qt(kt.fromDom(w)),jo(u.dom,p,w),u.selection.setCursorLocation(w,0)},rc=(u,p,w,H)=>{const Z=u.dom;if(Z.isEmpty(H))ul(u,w,H);else{const Te=ir(p);jo(Z,w,H),u.selection.setRng(li(Te))}},Ca=(u,p,w,H)=>{const Z=ir(p);jo(u.dom,w,H);const Te=li(Z);u.selection.setRng(Te)},bs=(u,p)=>{const w=u.dom,H=u.selection,Z=H.getStart(),Te=dn(u,Z),Ne=w.getParent(H.getStart(),"LI",Te);if(Ne){const Kt=Ne.parentElement;if(Kt===u.getBody()&&ar(w,Kt))return!0;const Yt=b(H.getRng()),At=w.getParent(Ii(u,Yt,p,Te),"LI",Te),pn=At&&(p?w.isChildOf(Ne,At):w.isChildOf(At,Ne));if(At&&At!==Ne&&!pn)return u.undoManager.transact(()=>{p?rc(u,Yt,At,Ne):_r(Ne)?$r(u):Ca(u,Yt,Ne,At)}),!0;if(pn&&!p&&At!==Ne){const ho=Yt.commonAncestorContainer.parentElement;return!ho||w.isChildOf(At,ho)?!1:(u.undoManager.transact(()=>{const Ta=ir(Yt);Sa(w,ho,At),ho.remove();const vs=li(Ta);u.selection.setRng(vs)}),!0)}else if(!At&&!p&&Yt.startOffset===0&&Yt.endOffset===0)return u.undoManager.transact(()=>{ii(u)}),!0}return!1},mi=(u,p,w)=>{const H=u.getParent(p.parentNode,u.isBlock,w);u.remove(p),H&&u.isEmpty(H)&&u.remove(H)},sd=(u,p)=>{const w=u.dom,H=u.selection.getStart(),Z=dn(u,H),Te=w.getParent(H,w.isBlock,Z);if(Te&&w.isEmpty(Te,void 0,{checkRootAsContent:!0})){const Ne=b(u.selection.getRng()),Kt=Ii(u,Ne,p,Z),Yt=w.getParent(Kt,"LI",Z);if(Kt&&Yt){const At=vs=>rn(["td","th","caption"],Nt(vs)),pn=vs=>vs.dom===Z,ho=Ao(kt.fromDom(Yt),At,pn),Ta=Ao(kt.fromDom(Ne.startContainer),At,pn);return Kn(ho,Ta,ut)?(u.undoManager.transact(()=>{const vs=Yt.parentNode;mi(w,Te,Z),Di(w,vs),u.selection.select(Kt,!0),u.selection.collapse(p)}),!0):!1}}return!1},rd=(u,p)=>bs(u,p)||sd(u,p),lr=u=>{const p=u.selection.getStart(),w=dn(u,p);return u.dom.getParent(p,"LI,DT,DD",w)||Jo(u).length>0},ad=u=>lr(u)?(u.undoManager.transact(()=>{let p=!0;const w=()=>p=!1;u.on("input",w),u.execCommand("Delete"),u.off("input",w),p&&u.dispatch("input"),ll(u.dom,u.getBody())}),!0):!1,dl=(u,p)=>{const w=u.selection;return!sa(u,w.getNode())&&(w.isCollapsed()?rd(u,p):ad(u))},cd=u=>{u.on("ExecCommand",p=>{const w=p.command.toLowerCase();(w==="delete"||w==="forwarddelete")&&lr(u)&&ll(u.dom,u.getBody())}),u.on("keydown",p=>{p.keyCode===oa.BACKSPACE?dl(u,!1)&&p.preventDefault():p.keyCode===oa.DELETE&&dl(u,!0)&&p.preventDefault()})},Lt=u=>({backspaceDelete:p=>{dl(u,p)}}),id=(u,p)=>{const w=te(u);w===null||sa(u,w)||u.undoManager.transact(()=>{J(p.styles)&&u.dom.setStyles(w,p.styles),J(p.attrs)&&re(p.attrs,(H,Z)=>u.dom.setAttrib(w,Z,H))})},Qo=u=>{const p=yo(Ft(u).split("")),w=Xt(p,(H,Z)=>{const Te=H.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1;return Math.pow(26,Z)*Te});return st(w,(H,Z)=>H+Z,0)},es=u=>{if(u--,u<0)return"";{const p=u%26,w=Math.floor(u/26),H=es(w),Z=String.fromCharCode("A".charCodeAt(0)+p);return H+Z}},ld=u=>/^[A-Z]+$/.test(u),Fo=u=>/^[a-z]+$/.test(u),Jl=u=>/^[0-9]+$/.test(u),Ql=u=>Jl(u)?2:ld(u)?0:Fo(u)?1:no(u)?3:4,Ur=u=>{switch(Ql(u)){case 2:return nt.some({listStyleType:nt.none(),start:u});case 0:return nt.some({listStyleType:nt.some("upper-alpha"),start:Qo(u).toString()});case 1:return nt.some({listStyleType:nt.some("lower-alpha"),start:Qo(u).toString()});case 3:return nt.some({listStyleType:nt.none(),start:""});case 4:return nt.none()}},ud=u=>{const p=parseInt(u.start,10);return On(u.listStyleType,"upper-alpha")?es(p):On(u.listStyleType,"lower-alpha")?es(p).toLowerCase():u.start},eu=u=>{const p=te(u);!sr(p)||sa(u,p)||u.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:ud({start:u.dom.getAttrib(p,"start","1"),listStyleType:nt.from(u.dom.getStyle(p,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:w=>{const H=w.getData();Ur(H.start).each(Z=>{u.execCommand("mceListUpdate",!1,{attrs:{start:Z.start==="1"?"":Z.start},styles:{"list-style-type":Z.listStyleType.getOr("")}})}),w.close()}})},tu=(u,p)=>()=>{const w=te(u);return $e(w)&&w.nodeName===p},ml=u=>{u.addCommand("mceListProps",()=>{eu(u)})},nu=u=>{u.on("BeforeExecCommand",p=>{const w=p.command.toLowerCase();w==="indent"?Wl(u):w==="outdent"&&$r(u)}),u.addCommand("InsertUnorderedList",(p,w)=>{Fi(u,"UL",w)}),u.addCommand("InsertOrderedList",(p,w)=>{Fi(u,"OL",w)}),u.addCommand("InsertDefinitionList",(p,w)=>{Fi(u,"DL",w)}),u.addCommand("RemoveList",()=>{ii(u)}),ml(u),u.addCommand("mceListUpdate",(p,w)=>{J(w)&&id(u,w)}),u.addQueryStateHandler("InsertUnorderedList",tu(u,"UL")),u.addQueryStateHandler("InsertOrderedList",tu(u,"OL")),u.addQueryStateHandler("InsertDefinitionList",tu(u,"DL"))};var Rc=tinymce.util.Tools.resolve("tinymce.html.Node");const ou=u=>u.type===3,su=u=>u.length===0,hl=u=>{const p=(Z,Te)=>{const Ne=Rc.create("li");hn(Z,Kt=>Ne.append(Kt)),Te?u.insert(Ne,Te,!0):u.append(Ne)},w=(Z,Te)=>ou(Te)?[...Z,Te]:!su(Z)&&!ou(Te)?(p(Z,Te),[]):Z,H=st(u.children(),w,[]);su(H)||p(H)},$i=u=>{u.on("PreInit",()=>{const{parser:p}=u;p.addNodeFilter("ul,ol",w=>hn(w,hl))})},ur=u=>{u.on("keydown",p=>{p.keyCode!==oa.TAB||oa.metaKeyPressed(p)||u.undoManager.transact(()=>{(p.shiftKey?$r(u):Wl(u))&&p.preventDefault()})})},ac=u=>{Be(u)&&ur(u),cd(u)},dd=(u,p)=>w=>{const H=Z=>{w.setActive(si(Z.parents,p)),w.setEnabled(!sa(u,Z.element)&&u.selection.isEditable())};return w.setEnabled(u.selection.isEditable()),Fr(u,H)},ru=u=>{const p=w=>()=>u.execCommand(w);u.hasPlugin("advlist")||(u.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:p("InsertOrderedList"),onSetup:dd(u,"OL")}),u.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:p("InsertUnorderedList"),onSetup:dd(u,"UL")}))},md=(u,p)=>w=>Fr(u,Z=>w.setEnabled(si(Z.parents,p)&&!sa(u,Z.element))),Vt=u=>{const p={text:"List properties...",icon:"ordered-list",onAction:()=>u.execCommand("mceListProps"),onSetup:md(u,"OL")};u.ui.registry.addMenuItem("listprops",p),u.ui.registry.addContextMenu("lists",{update:w=>{const H=te(u,w);return sr(H)?["listprops"]:[]}})};var Lc=()=>{x.add("lists",u=>(ti(u),$i(u),u.hasPlugin("rtc",!0)?ml(u):(ac(u),nu(u)),ru(u),Vt(u),Lt(u)))};Lc()})();(function(){var x=tinymce.util.Tools.resolve("tinymce.PluginManager");const S=(C,I,q)=>{var me;return q(C,I.prototype)?!0:((me=C.constructor)===null||me===void 0?void 0:me.name)===I.name},D=C=>{const I=typeof C;return C===null?"null":I==="object"&&Array.isArray(C)?"array":I==="object"&&S(C,String,(q,me)=>me.isPrototypeOf(q))?"string":I},F=C=>I=>D(I)===C,U=C=>I=>typeof I===C,K=C=>I=>C===I,J=F("string"),X=F("object"),De=F("array"),xe=K(null),$e=U("boolean"),Ue=C=>C==null,Re=C=>!Ue(C),Qe=U("function"),Je=(C,I)=>{if(De(C)){for(let q=0,me=C.length;q<me;++q)if(!I(C[q]))return!1;return!0}return!1},Xe=()=>{},Se=C=>()=>C,Rt=(C,I)=>C===I;class Oe{constructor(I,q){this.tag=I,this.value=q}static some(I){return new Oe(!0,I)}static none(){return Oe.singletonNone}fold(I,q){return this.tag?q(this.value):I()}isSome(){return this.tag}isNone(){return!this.tag}map(I){return this.tag?Oe.some(I(this.value)):Oe.none()}bind(I){return this.tag?I(this.value):Oe.none()}exists(I){return this.tag&&I(this.value)}forall(I){return!this.tag||I(this.value)}filter(I){return!this.tag||I(this.value)?this:Oe.none()}getOr(I){return this.tag?this.value:I}or(I){return this.tag?this:I}getOrThunk(I){return this.tag?this.value:I()}orThunk(I){return this.tag?this:I()}getOrDie(I){if(this.tag)return this.value;throw new Error(I??"Called getOrDie on None")}static from(I){return Re(I)?Oe.some(I):Oe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(I){this.tag&&I(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Oe.singletonNone=new Oe(!1);const ce=Array.prototype.indexOf,nt=Array.prototype.push,on=(C,I)=>ce.call(C,I),Ae=(C,I)=>on(C,I)>-1,A=(C,I)=>{const q=C.length,me=new Array(q);for(let Le=0;Le<q;Le++){const tt=C[Le];me[Le]=I(tt,Le)}return me},Ve=(C,I)=>{for(let q=0,me=C.length;q<me;q++){const Le=C[q];I(Le,q)}},rn=(C,I,q)=>(Ve(C,(me,Le)=>{q=I(q,me,Le)}),q),cn=C=>{const I=[];for(let q=0,me=C.length;q<me;++q){if(!De(C[q]))throw new Error("Arr.flatten item "+q+" was not an array, input: "+C);nt.apply(I,C[q])}return I},Xt=(C,I)=>cn(A(C,I)),hn=(C,I)=>{for(let q=0;q<C.length;q++){const me=I(C[q],q);if(me.isSome())return me}return Oe.none()},to=Object.keys,ue=Object.hasOwnProperty,st=(C,I)=>{const q=to(C);for(let me=0,Le=q.length;me<Le;me++){const tt=q[me],un=C[tt];I(un,tt)}},h=C=>(I,q)=>{C[q]=I},Nn=(C,I,q,me)=>{st(C,(Le,tt)=>{(I(Le,tt)?q:me)(Le,tt)})},Gn=(C,I)=>{const q={};return Nn(C,I,h(q),Xe),q},Wo=(C,I)=>ue.call(C,I),yo=(C,I)=>Wo(C,I)&&C[I]!==void 0&&C[I]!==null,Ge=C=>{let I=C;return{get:()=>I,set:Le=>{I=Le}}},Ee=(C,I,q=Rt)=>C.exists(me=>q(me,I)),Dt=C=>{const I=[],q=me=>{I.push(me)};for(let me=0;me<C.length;me++)C[me].each(q);return I},de=(C,I)=>C?Oe.some(I):Oe.none(),et=C=>{const I=Ge(Oe.none()),q=()=>I.get().each(C);return{clear:()=>{q(),I.set(Oe.none())},isSet:()=>I.get().isSome(),get:()=>I.get(),set:fo=>{q(),I.set(Oe.some(fo))}}},re=()=>{const C=et(Xe);return{...C,on:q=>C.get().each(q)}},_e=(C,I)=>C.substring(I),Mn=(C,I,q)=>I===""||C.length>=I.length&&C.substr(q,q+I.length)===I,Rn=(C,I)=>jt(C,I)?_e(C,I.length):C,jt=(C,I)=>Mn(C,I,0),ln=C=>I=>I.options.get(C),On=C=>{const I=C.options.register;I("link_assume_external_targets",{processor:q=>{const me=J(q)||$e(q);return me?q===!0?{value:1,valid:me}:q==="http"||q==="https"?{value:q,valid:me}:{value:0,valid:me}:{valid:!1,message:"Must be a string or a boolean."}},default:!1}),I("link_context_toolbar",{processor:"boolean",default:!1}),I("link_list",{processor:q=>J(q)||Qe(q)||Je(q,X)}),I("link_default_target",{processor:"string"}),I("link_default_protocol",{processor:"string",default:"https"}),I("link_target_list",{processor:q=>$e(q)||Je(q,X),default:!0}),I("link_rel_list",{processor:"object[]",default:[]}),I("link_class_list",{processor:"object[]",default:[]}),I("link_title",{processor:"boolean",default:!0}),I("allow_unsafe_link_target",{processor:"boolean",default:!1}),I("link_quicklink",{processor:"boolean",default:!1}),I("link_attributes_postprocess",{processor:"function"})},Kn=ln("link_assume_external_targets"),ve=ln("link_context_toolbar"),we=ln("link_list"),je=ln("link_default_target"),Tt=ln("link_default_protocol"),Ft=ln("link_target_list"),In=ln("link_rel_list"),no=ln("link_class_list"),ro=ln("link_title"),Ce=ln("allow_unsafe_link_target"),Me=ln("link_quicklink"),_t=ln("link_attributes_postprocess");var Mt=tinymce.util.Tools.resolve("tinymce.util.URI"),Jt=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),_n=tinymce.util.Tools.resolve("tinymce.util.Tools");const kt=C=>Re(C)&&C.nodeName.toLowerCase()==="a",en=C=>kt(C)&&!!ge(C),xo=(C,I)=>{if(C.collapsed)return[];{const q=C.cloneContents(),me=q.firstChild,Le=new Jt(me,q),tt=[];let un=me;do I(un)&&tt.push(un);while(un=Le.next());return tt}},sn=C=>/^\w+:/i.test(C),ge=C=>{var I,q;return(q=(I=C.getAttribute("data-mce-href"))!==null&&I!==void 0?I:C.getAttribute("href"))!==null&&q!==void 0?q:""},He=(C,I)=>{const q=["noopener"],me=C?C.split(/\s+/):[],Le=Ln=>_n.trim(Ln.sort().join(" ")),tt=Ln=>(Ln=un(Ln),Ln.length>0?Ln.concat(q):q),un=Ln=>Ln.filter(b=>_n.inArray(q,b)===-1),fo=I?tt(me):un(me);return fo.length>0?Le(fo):""},ut=C=>C.replace(/\uFEFF/g,""),it=(C,I)=>(I=I||yn(C.selection.getRng())[0]||C.selection.getNode(),mo(I)?Oe.from(C.dom.select("a[href]",I)[0]):Oe.from(C.dom.getParent(I,"a[href]"))),Tn=(C,I)=>it(C,I).isSome(),ao=(C,I)=>{const q=I.fold(()=>C.getContent({format:"text"}),me=>me.innerText||me.textContent||"");return ut(q)},yn=C=>xo(C,en),oo=C=>_n.grep(C,en),wo=C=>oo(C).length>0,lt=C=>yn(C).length>0,Nt=C=>{const I=C.schema.getTextInlineElements(),q=tt=>tt.nodeType===1&&!kt(tt)&&!Wo(I,tt.nodeName.toLowerCase());if(it(C).exists(tt=>tt.hasAttribute("data-mce-block")))return!1;const Le=C.selection.getRng();return Le.collapsed?!0:xo(Le,q).length===0},mo=C=>Re(C)&&C.nodeName==="FIGURE"&&/\bimage\b/i.test(C.className),Ss=C=>rn(["title","rel","class","target"],(q,me)=>(C[me].each(Le=>{q[me]=Le.length>0?Le:null}),q),{href:C.href}),Ko=(C,I)=>(I==="http"||I==="https")&&!sn(C)?I+"://"+C:C,ot=(C,I)=>{const q={...I};if(In(C).length===0&&!Ce(C)){const me=He(q.rel,q.target==="_blank");q.rel=me||null}return Oe.from(q.target).isNone()&&Ft(C)===!1&&(q.target=je(C)),q.href=Ko(q.href,Kn(C)),q},As=(C,I,q,me)=>{q.each(tt=>{Wo(I,"innerText")?I.innerText=tt:I.textContent=tt}),C.dom.setAttribs(I,me);const Le=C.dom.createRng();Le.setStartAfter(I),Le.setEndAfter(I),C.selection.setRng(Le)},zn=(C,I,q,me)=>{const Le=C.dom;mo(I)?Mr(Le,I,me):q.fold(()=>{C.execCommand("mceInsertLink",!1,me);const tt=C.selection.getEnd(),un=Le.createRng();un.setStartAfter(tt),un.setEndAfter(tt),C.selection.setRng(un)},tt=>{C.insertContent(Le.createHTML("a",me,Le.encode(tt)))})},Nr=(C,I,q)=>{const me=C.selection.getNode(),Le=it(C,me),tt=ot(C,Ss(q)),un=_t(C);Re(un)&&un(tt),C.undoManager.transact(()=>{q.href===I.href&&I.attach(),Le.fold(()=>{zn(C,me,q.text,tt)},fo=>{C.focus(),As(C,fo,q.text,tt)})})},er=C=>{const I=C.dom,q=C.selection,me=q.getBookmark(),Le=q.getRng().cloneRange(),tt=I.getParent(Le.startContainer,"a[href]",C.getBody()),un=I.getParent(Le.endContainer,"a[href]",C.getBody());tt&&Le.setStartBefore(tt),un&&Le.setEndAfter(un),q.setRng(Le),C.execCommand("unlink"),q.moveToBookmark(me)},Bo=C=>{C.undoManager.transact(()=>{const I=C.selection.getNode();mo(I)?gs(C,I):er(C),C.focus()})},tr=C=>{const{class:I,href:q,rel:me,target:Le,text:tt,title:un}=C;return Gn({class:I.getOrNull(),href:q,rel:me.getOrNull(),target:Le.getOrNull(),text:tt.getOrNull(),title:un.getOrNull()},(fo,Ln)=>xe(fo)===!1)},Er=(C,I)=>{const q=C.options.get,me={allow_html_data_urls:q("allow_html_data_urls"),allow_script_urls:q("allow_script_urls"),allow_svg_data_urls:q("allow_svg_data_urls")},Le=I.href;return{...I,href:Mt.isDomSafe(Le,"a",me)?Le:""}},An=(C,I,q)=>{const me=Er(C,q);C.hasPlugin("rtc",!0)?C.execCommand("createlink",!1,tr(me)):Nr(C,I,me)},ss=C=>{C.hasPlugin("rtc",!0)?C.execCommand("unlink"):Bo(C)},gs=(C,I)=>{var q;const me=C.dom.select("img",I)[0];if(me){const Le=C.dom.getParents(me,"a[href]",I)[0];Le&&((q=Le.parentNode)===null||q===void 0||q.insertBefore(me,Le),C.dom.remove(Le))}},Mr=(C,I,q)=>{var me;const Le=C.select("img",I)[0];if(Le){const tt=C.create("a",q);(me=Le.parentNode)===null||me===void 0||me.insertBefore(tt,Le),tt.appendChild(Le)}},Ot=C=>J(C.value)?C.value:"",$o=C=>J(C.text)?C.text:J(C.title)?C.title:"",Ho=(C,I)=>{const q=[];return _n.each(C,me=>{const Le=$o(me);if(me.menu!==void 0){const tt=Ho(me.menu,I);q.push({text:Le,items:tt})}else{const tt=I(me);q.push({text:Le,value:tt})}}),q},nr=(C=Ot)=>I=>Oe.from(I).map(q=>Ho(q,C)),ne={sanitize:C=>nr(Ot)(C),sanitizeWith:nr,createUi:(C,I)=>q=>({name:C,type:"listbox",label:I,items:q}),getValue:Ot},ie=C=>yo(C,"items"),xt=(C,I)=>hn(I,q=>ie(q)?xt(C,q.items):de(q.value===C,q)),St=(C,I,q,me)=>{const Le=me[I],tt=C.length>0;return Le!==void 0?xt(Le,q).map(un=>({url:{value:un.value,meta:{text:tt?C:un.text,attach:Xe}},text:tt?C:un.text})):Oe.none()},qt=(C,I)=>I==="link"?C.link:I==="anchor"?C.anchor:Oe.none(),gn={init:(C,I)=>{const q={text:C.text,title:C.title},me=Ln=>{var b;return de(q.title.length<=0,Oe.from((b=Ln.meta)===null||b===void 0?void 0:b.title).getOr(""))},Le=Ln=>{var b;return de(q.text.length<=0,Oe.from((b=Ln.meta)===null||b===void 0?void 0:b.text).getOr(Ln.value))},tt=Ln=>{const b=Le(Ln.url),k=me(Ln.url);return b.isSome()||k.isSome()?Oe.some({...b.map(P=>({text:P})).getOr({}),...k.map(P=>({title:P})).getOr({})}):Oe.none()},un=(Ln,b)=>{const k=qt(I,b).getOr([]);return St(q.text,b,k,Ln)};return{onChange:(Ln,b)=>{const k=b.name;return k==="url"?tt(Ln()):Ae(["anchor","link"],k)?un(Ln(),k):((k==="text"||k==="title")&&(q[k]=Ln()[k]),Oe.none())}}},getDelta:St};var Qt=tinymce.util.Tools.resolve("tinymce.util.Delay");const O=(C,I,q)=>{const me=C.selection.getRng();Qt.setEditorTimeout(C,()=>{C.windowManager.confirm(I,Le=>{C.selection.setRng(me),q(Le)})})},V=C=>{const I=C.href;return I.indexOf("@")>0&&I.indexOf("/")===-1&&I.indexOf("mailto:")===-1?Oe.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:me=>({...me,href:"mailto:"+I})}):Oe.none()},fe=(C,I)=>q=>{const me=q.href;return C===1&&!sn(me)||C===0&&/^\s*www(\.|\d\.)/i.test(me)?Oe.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${I}:// prefix?`,preprocess:tt=>({...tt,href:I+"://"+me})}):Oe.none()},ke={preprocess:(C,I)=>hn([V,fe(Kn(C),Tt(C))],q=>q(I)).fold(()=>Promise.resolve(I),q=>new Promise(me=>{O(C,q.message,Le=>{me(Le?q.preprocess(I):I)})}))},dt={getAnchors:C=>{const I=C.dom.select("a:not([href])"),q=Xt(I,me=>{const Le=me.name||me.id;return Le?[{text:Le,value:"#"+Le}]:[]});return q.length>0?Oe.some([{text:"None",value:""}].concat(q)):Oe.none()}},Ut={getClasses:C=>{const I=no(C);return I.length>0?ne.sanitize(I):Oe.none()}},bn=C=>{try{return Oe.some(JSON.parse(C))}catch{return Oe.none()}},po={getLinks:C=>{const I=me=>C.convertURL(me.value||me.url||"","href"),q=we(C);return new Promise(me=>{J(q)?fetch(q).then(Le=>Le.ok?Le.text().then(bn):Promise.reject()).then(me,()=>me(Oe.none())):Qe(q)?q(Le=>me(Oe.some(Le))):me(Oe.from(q))}).then(me=>me.bind(ne.sanitizeWith(I)).map(Le=>Le.length>0?[{text:"None",value:""}].concat(Le):Le))}},Ao={getRels:(C,I)=>{const q=In(C);if(q.length>0){const me=Ee(I,"_blank"),Le=Ce(C)===!1,tt=fo=>He(ne.getValue(fo),me);return(Le?ne.sanitizeWith(tt):ne.sanitize)(q)}return Oe.none()}},ta=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],Jn={getTargets:C=>{const I=Ft(C);return De(I)?ne.sanitize(I).orThunk(()=>Oe.some(ta)):I===!1?Oe.none():Oe.some(ta)}},Wn=(C,I,q)=>{const me=C.getAttrib(I,q);return me!==null&&me.length>0?Oe.some(me):Oe.none()},Es=(C,I)=>{const q=C.dom,Le=Nt(C)?Oe.some(ao(C.selection,I)):Oe.none(),tt=I.bind(k=>Oe.from(q.getAttrib(k,"href"))),un=I.bind(k=>Oe.from(q.getAttrib(k,"target"))),fo=I.bind(k=>Wn(q,k,"rel")),Ln=I.bind(k=>Wn(q,k,"class")),b=I.bind(k=>Wn(q,k,"title"));return{url:tt,text:Le,title:b,target:un,rel:fo,linkClass:Ln}},Vs={collect:(C,I)=>po.getLinks(C).then(q=>{const me=Es(C,I);return{anchor:me,catalogs:{targets:Jn.getTargets(C),rels:Ao.getRels(C,me.target),classes:Ut.getClasses(C),anchor:dt.getAnchors(C),link:q},optNode:I,flags:{titleEnabled:ro(C)}}})},kn=(C,I)=>q=>{const me=q.getData();if(!me.url.value){ss(C),q.close();return}const Le=fo=>Oe.from(me[fo]).filter(Ln=>!Ee(I.anchor[fo],Ln)),tt={href:me.url.value,text:Le("text"),target:Le("target"),rel:Le("rel"),class:Le("linkClass"),title:Le("title")},un={href:me.url.value,attach:me.url.meta!==void 0&&me.url.meta.attach?me.url.meta.attach:Xe};ke.preprocess(C,tt).then(fo=>{An(C,un,fo)}),q.close()},nc=C=>{const I=it(C);return Vs.collect(C,I)},oa=(C,I)=>{const q=C.anchor,me=q.url.getOr("");return{url:{value:me,meta:{original:{value:me}}},text:q.text.getOr(""),title:q.title.getOr(""),anchor:me,link:me,rel:q.rel.getOr(""),target:q.target.or(I).getOr(""),linkClass:q.linkClass.getOr("")}},fa=(C,I,q)=>{const me=[{name:"url",type:"urlinput",filetype:"file",label:"URL",picker_text:"Browse links"}],Le=C.anchor.text.map(()=>({name:"text",type:"input",label:"Text to display"})).toArray(),tt=C.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],un=Oe.from(je(q)),fo=oa(C,un),Ln=C.catalogs,b=gn.init(fo,Ln);return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:cn([me,Le,tt,Dt([Ln.anchor.map(ne.createUi("anchor","Anchors")),Ln.rels.map(ne.createUi("rel","Rel")),Ln.targets.map(ne.createUi("target","Open link in...")),Ln.link.map(ne.createUi("link","Link list")),Ln.classes.map(ne.createUi("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:fo,onChange:(P,{name:te})=>{b.onChange(P.getData,{name:te}).each(rt=>{P.setData(rt)})},onSubmit:I}},Ms=C=>{nc(C).then(q=>{const me=kn(C,q);return fa(q,me,C)}).then(q=>{C.windowManager.open(q)})},ba=C=>{C.addCommand("mceLink",(I,q)=>{(q==null?void 0:q.dialog)===!0||!Me(C)?Ms(C):C.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"})})},Eo=C=>{C.addShortcut("Meta+K","",()=>{C.execCommand("mceLink")})};var ps=tinymce.util.Tools.resolve("tinymce.util.VK");const or=(C,I)=>{document.body.appendChild(C),C.dispatchEvent(I),document.body.removeChild(C)},cs=C=>{const I=document.createElement("a");I.target="_blank",I.href=C,I.rel="noreferrer noopener";const q=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});document.dispatchEvent(q),or(I,q)},va=C=>C.altKey===!0&&C.shiftKey===!1&&C.ctrlKey===!1&&C.metaKey===!1,sr=(C,I)=>{if(I){const q=ge(I);if(/^#/.test(q)){const me=C.dom.select(`${q},[name="${Rn(q,"#")}"]`);me.length&&C.selection.scrollIntoView(me[0],!0)}else cs(I.href)}},fr=C=>{const I=C.selection.getRng(),q=I.startContainer;return en(q)&&I.startContainer===I.endContainer&&C.dom.select("img",q).length===1},rr=(C,I)=>{const q=oo(C.dom.getParents(I));return de(q.length===1,q[0])},ya=C=>{const I=yn(C.selection.getRng());return de(I.length>0,I[0]).or(rr(C,C.selection.getNode()))},zs=C=>C.selection.isCollapsed()||fr(C)?rr(C,C.selection.getStart()):ya(C),_r=C=>{const I=re(),q=()=>I.get().or(zs(C)),me=()=>q().each(Le=>sr(C,Le));return C.on("contextmenu",Le=>{rr(C,Le.target).each(I.set)}),C.on("SelectionChange",()=>{I.isSet()||zs(C).each(I.set)}),C.on("click",Le=>{I.clear();const tt=oo(C.dom.getParents(Le.target));tt.length===1&&ps.metaKeyPressed(Le)&&(Le.preventDefault(),sr(C,tt[0]))}),C.on("keydown",Le=>{I.clear(),!Le.isDefaultPrevented()&&Le.keyCode===13&&va(Le)&&q().each(tt=>{Le.preventDefault(),sr(C,tt)})}),{gotoSelectedLink:me}},_s=C=>()=>{C.execCommand("mceLink",!1,{dialog:!0})},Vr=(C,I)=>(C.on("NodeChange",I),()=>C.off("NodeChange",I)),oc=C=>I=>{const q=()=>{I.setActive(!C.mode.isReadOnly()&&Tn(C,C.selection.getNode())),I.setEnabled(C.selection.isEditable())};return q(),Vr(C,q)},Mc=C=>I=>{const q=()=>{I.setEnabled(C.selection.isEditable())};return q(),Vr(C,q)},ar=C=>I=>{const q=tt=>wo(tt)||lt(C.selection.getRng()),me=C.dom.getParents(C.selection.getStart()),Le=tt=>{I.setEnabled(q(tt)&&C.selection.isEditable())};return Le(me),Vr(C,tt=>Le(tt.parents))},Pa=(C,I)=>{C.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",shortcut:"Meta+K",onAction:_s(C),onSetup:oc(C)}),C.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:I.gotoSelectedLink,onSetup:ar(C)}),C.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>ss(C),onSetup:ar(C)})},Dr=(C,I)=>{C.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:I.gotoSelectedLink,onSetup:ar(C)}),C.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:_s(C),onSetup:Mc(C)}),C.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>ss(C),onSetup:ar(C)})},ti=C=>{const I="link unlink openlink",q="link";C.ui.registry.addContextMenu("link",{update:me=>C.dom.isEditable(me)?wo(C.dom.getParents(me,"a"))?I:q:""})},Be=(C,I)=>{const q=tt=>{tt.selection.collapse(!1)},me=tt=>{const un=C.selection.getNode();return tt.setEnabled(Tn(C,un)&&C.selection.isEditable()),Xe},Le=tt=>{const un=it(C),fo=Nt(C);if(un.isNone()&&fo){const Ln=ao(C.selection,un);return de(Ln.length===0,tt)}else return Oe.none()};C.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:oc(C)},label:"Link",predicate:tt=>ve(C)&&Tn(C,tt),initValue:()=>it(C).fold(Se(""),ge),commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:tt=>{const un=C.selection.getNode();return tt.setActive(Tn(C,un)),oc(C)(tt)},onAction:tt=>{const un=tt.getValue(),fo=Le(un);An(C,{href:un,attach:Xe},{href:un,text:fo,title:Oe.none(),rel:Oe.none(),target:Oe.from(je(C)),class:Oe.none()}),q(C),tt.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:me,onAction:tt=>{ss(C),tt.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:me,onAction:tt=>{I.gotoSelectedLink(),tt.hide()}}]})},xa=C=>{const I=_r(C);Pa(C,I),Dr(C,I),ti(C),Be(C,I)};var _c=()=>{x.add("link",C=>{On(C),ba(C),xa(C),Eo(C)})};_c()})();(function(){var x=tinymce.util.Tools.resolve("tinymce.PluginManager");const S=Object.getPrototypeOf,D=(b,k,P)=>{var te;return P(b,k.prototype)?!0:((te=b.constructor)===null||te===void 0?void 0:te.name)===k.name},F=b=>{const k=typeof b;return b===null?"null":k==="object"&&Array.isArray(b)?"array":k==="object"&&D(b,String,(P,te)=>te.isPrototypeOf(P))?"string":k},U=b=>k=>F(k)===b,K=b=>k=>typeof k===b,J=b=>k=>b===k,X=(b,k)=>xe(b)&&D(b,k,(P,te)=>S(P)===te),De=U("string"),xe=U("object"),$e=b=>X(b,Object),Ue=U("array"),Re=J(null),Qe=K("boolean"),Je=b=>b==null,Xe=b=>!Je(b),Se=K("function"),Rt=K("number"),Oe=(b,k)=>{if(Ue(b)){for(let P=0,te=b.length;P<te;++P)if(!k(b[P]))return!1;return!0}return!1},ce=()=>{};class nt{constructor(k,P){this.tag=k,this.value=P}static some(k){return new nt(!0,k)}static none(){return nt.singletonNone}fold(k,P){return this.tag?P(this.value):k()}isSome(){return this.tag}isNone(){return!this.tag}map(k){return this.tag?nt.some(k(this.value)):nt.none()}bind(k){return this.tag?k(this.value):nt.none()}exists(k){return this.tag&&k(this.value)}forall(k){return!this.tag||k(this.value)}filter(k){return!this.tag||k(this.value)?this:nt.none()}getOr(k){return this.tag?this.value:k}or(k){return this.tag?this:k}getOrThunk(k){return this.tag?this.value:k()}orThunk(k){return this.tag?this:k()}getOrDie(k){if(this.tag)return this.value;throw new Error(k??"Called getOrDie on None")}static from(k){return Xe(k)?nt.some(k):nt.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(k){this.tag&&k(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}nt.singletonNone=new nt(!1);const on=Array.prototype.push,Ae=b=>{const k=[];for(let P=0,te=b.length;P<te;++P){if(!Ue(b[P]))throw new Error("Arr.flatten item "+P+" was not an array, input: "+b);on.apply(k,b[P])}return k},A=(b,k)=>k>=0&&k<b.length?nt.some(b[k]):nt.none(),Ve=b=>A(b,0),rn=(b,k)=>{for(let P=0;P<b.length;P++){const te=k(b[P],P);if(te.isSome())return te}return nt.none()},cn=Object.keys,Xt=Object.hasOwnProperty,hn=(b,k)=>{const P=cn(b);for(let te=0,rt=P.length;te<rt;te++){const xn=P[te],qn=b[xn];k(qn,xn)}},to=b=>(k,P)=>{b[P]=k},ue=(b,k,P,te)=>{hn(b,(rt,xn)=>{(k(rt,xn)?P:te)(rt,xn)})},st=(b,k)=>{const P={};return ue(b,k,to(P),ce),P},h=(b,k)=>Xt.call(b,k),Nn=(b,k)=>h(b,k)&&b[k]!==void 0&&b[k]!==null,yo=(b=>(...k)=>{if(k.length===0)throw new Error("Can't merge zero objects");const P={};for(let te=0;te<k.length;te++){const rt=k[te];for(const xn in rt)h(rt,xn)&&(P[xn]=b(P[xn],rt[xn]))}return P})((b,k)=>$e(b)&&$e(k)?yo(b,k):k),Ge=b=>b.length>0,Ee=(b,k)=>{const te=(k||document).createElement("div");if(te.innerHTML=b,!te.hasChildNodes()||te.childNodes.length>1){const rt="HTML does not have a single root node";throw console.error(rt,b),new Error(rt)}return et(te.childNodes[0])},Dt=(b,k)=>{const te=(k||document).createElement(b);return et(te)},de=(b,k)=>{const te=(k||document).createTextNode(b);return et(te)},et=b=>{if(b==null)throw new Error("Node cannot be null or undefined");return{dom:b}},_e={fromHtml:Ee,fromTag:Dt,fromText:de,fromDom:et,fromPoint:(b,k,P)=>nt.from(b.dom.elementFromPoint(k,P)).map(et)},Mn=(b,k,P)=>{if(De(P)||Qe(P)||Rt(P))b.setAttribute(k,P+"");else throw console.error("Invalid call to Attribute.set. Key ",k,":: Value ",P,":: Element ",b),new Error("Attribute value was not simple")},Rn=(b,k,P)=>{Mn(b.dom,k,P)},jt=(b,k)=>{b.dom.removeAttribute(k)};var ln=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),On=tinymce.util.Tools.resolve("tinymce.util.URI");const Kn=b=>k=>k.options.get(b),ve=b=>{const k=b.options.register;k("image_dimensions",{processor:"boolean",default:!0}),k("image_advtab",{processor:"boolean",default:!1}),k("image_uploadtab",{processor:"boolean",default:!0}),k("image_prepend_url",{processor:"string",default:""}),k("image_class_list",{processor:"object[]"}),k("image_description",{processor:"boolean",default:!0}),k("image_title",{processor:"boolean",default:!1}),k("image_caption",{processor:"boolean",default:!1}),k("image_list",{processor:P=>{const te=P===!1||De(P)||Oe(P,xe)||Se(P);return te?{value:P,valid:te}:{valid:!1,message:"Must be false, a string, an array or a function."}},default:!1})},we=Kn("image_dimensions"),je=Kn("image_advtab"),Tt=Kn("image_uploadtab"),Ft=Kn("image_prepend_url"),In=Kn("image_class_list"),no=Kn("image_description"),ro=Kn("image_title"),Ce=Kn("image_caption"),Me=Kn("image_list"),_t=Kn("a11y_advanced_options"),Mt=Kn("automatic_uploads"),Jt=b=>Ge(b.options.get("images_upload_url")),_n=b=>Xe(b.options.get("images_upload_handler")),kt=(b,k)=>Math.max(parseInt(b,10),parseInt(k,10)),en=b=>new Promise(k=>{const P=document.createElement("img"),te=xn=>{P.parentNode&&P.parentNode.removeChild(P),k(xn)};P.addEventListener("load",()=>{const xn=kt(P.width,P.clientWidth),qn=kt(P.height,P.clientHeight),Yo={width:xn,height:qn};te(Promise.resolve(Yo))}),P.addEventListener("error",()=>{te(Promise.reject(`Failed to get image dimensions for: ${b}`))});const rt=P.style;rt.visibility="hidden",rt.position="fixed",rt.bottom=rt.left="0px",rt.width=rt.height="auto",document.body.appendChild(P),P.src=b}),xo=b=>(b&&(b=b.replace(/px$/,"")),b),sn=b=>(b.length>0&&/^[0-9]+$/.test(b)&&(b+="px"),b),ge=b=>{if(b.margin){const k=String(b.margin).split(" ");switch(k.length){case 1:b["margin-top"]=b["margin-top"]||k[0],b["margin-right"]=b["margin-right"]||k[0],b["margin-bottom"]=b["margin-bottom"]||k[0],b["margin-left"]=b["margin-left"]||k[0];break;case 2:b["margin-top"]=b["margin-top"]||k[0],b["margin-right"]=b["margin-right"]||k[1],b["margin-bottom"]=b["margin-bottom"]||k[0],b["margin-left"]=b["margin-left"]||k[1];break;case 3:b["margin-top"]=b["margin-top"]||k[0],b["margin-right"]=b["margin-right"]||k[1],b["margin-bottom"]=b["margin-bottom"]||k[2],b["margin-left"]=b["margin-left"]||k[1];break;case 4:b["margin-top"]=b["margin-top"]||k[0],b["margin-right"]=b["margin-right"]||k[1],b["margin-bottom"]=b["margin-bottom"]||k[2],b["margin-left"]=b["margin-left"]||k[3]}delete b.margin}return b},He=(b,k)=>{const P=Me(b);De(P)?fetch(P).then(te=>{te.ok&&te.json().then(k)}):Se(P)?P(k):k(P)},ut=(b,k,P)=>{const te=()=>{P.onload=P.onerror=null,b.selection&&(b.selection.select(P),b.nodeChanged())};P.onload=()=>{!k.width&&!k.height&&we(b)&&b.dom.setAttribs(P,{width:String(P.clientWidth),height:String(P.clientHeight)}),te()},P.onerror=te},it=b=>new Promise((k,P)=>{const te=new FileReader;te.onload=()=>{k(te.result)},te.onerror=()=>{var rt;P((rt=te.error)===null||rt===void 0?void 0:rt.message)},te.readAsDataURL(b)}),Tn=b=>b.nodeName==="IMG"&&(b.hasAttribute("data-mce-object")||b.hasAttribute("data-mce-placeholder")),ao=(b,k)=>{const P=b.options.get;return On.isDomSafe(k,"img",{allow_html_data_urls:P("allow_html_data_urls"),allow_script_urls:P("allow_script_urls"),allow_svg_data_urls:P("allow_svg_data_urls")})},yn=ln.DOM,oo=b=>b.style.marginLeft&&b.style.marginRight&&b.style.marginLeft===b.style.marginRight?xo(b.style.marginLeft):"",wo=b=>b.style.marginTop&&b.style.marginBottom&&b.style.marginTop===b.style.marginBottom?xo(b.style.marginTop):"",lt=b=>b.style.borderWidth?xo(b.style.borderWidth):"",Nt=(b,k)=>{var P;return b.hasAttribute(k)&&(P=b.getAttribute(k))!==null&&P!==void 0?P:""},mo=b=>b.parentNode!==null&&b.parentNode.nodeName==="FIGURE",Ss=(b,k,P)=>{P===""||P===null?b.removeAttribute(k):b.setAttribute(k,P)},Ko=b=>{const k=yn.create("figure",{class:"image"});yn.insertAfter(k,b),k.appendChild(b),k.appendChild(yn.create("figcaption",{contentEditable:"true"},"Caption")),k.contentEditable="false"},ot=b=>{const k=b.parentNode;Xe(k)&&(yn.insertAfter(b,k),yn.remove(k))},As=b=>{mo(b)?ot(b):Ko(b)},zn=(b,k)=>{const P=b.getAttribute("style"),te=k(P!==null?P:"");te.length>0?(b.setAttribute("style",te),b.setAttribute("data-mce-style",te)):b.removeAttribute("style")},Nr=(b,k)=>(P,te,rt)=>{const xn=P.style;xn[te]?(xn[te]=sn(rt),zn(P,k)):Ss(P,te,rt)},er=(b,k)=>b.style[k]?xo(b.style[k]):Nt(b,k),Bo=(b,k)=>{const P=sn(k);b.style.marginLeft=P,b.style.marginRight=P},tr=(b,k)=>{const P=sn(k);b.style.marginTop=P,b.style.marginBottom=P},Er=(b,k)=>{const P=sn(k);b.style.borderWidth=P},An=(b,k)=>{b.style.borderStyle=k},ss=b=>{var k;return(k=b.style.borderStyle)!==null&&k!==void 0?k:""},gs=b=>Xe(b)&&b.nodeName==="FIGURE",Mr=b=>b.nodeName==="IMG",Ot=b=>yn.getAttrib(b,"alt").length===0&&yn.getAttrib(b,"role")==="presentation",$o=b=>Ot(b)?"":Nt(b,"alt"),Ho=()=>({src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}),nr=(b,k)=>{var P;const te=document.createElement("img");return Ss(te,"style",k.style),(oo(te)||k.hspace!=="")&&Bo(te,k.hspace),(wo(te)||k.vspace!=="")&&tr(te,k.vspace),(lt(te)||k.border!=="")&&Er(te,k.border),(ss(te)||k.borderStyle!=="")&&An(te,k.borderStyle),b((P=te.getAttribute("style"))!==null&&P!==void 0?P:"")},N=(b,k)=>{const P=document.createElement("img");if(qt(b,{...k,caption:!1},P),ie(P,k.alt,k.isDecorative),k.caption){const te=yn.create("figure",{class:"image"});return te.appendChild(P),te.appendChild(yn.create("figcaption",{contentEditable:"true"},"Caption")),te.contentEditable="false",te}else return P},B=(b,k)=>({src:Nt(k,"src"),alt:$o(k),title:Nt(k,"title"),width:er(k,"width"),height:er(k,"height"),class:Nt(k,"class"),style:b(Nt(k,"style")),caption:mo(k),hspace:oo(k),vspace:wo(k),border:lt(k),borderStyle:ss(k),isDecorative:Ot(k)}),ne=(b,k,P,te,rt)=>{P[te]!==k[te]&&rt(b,te,String(P[te]))},ie=(b,k,P)=>{if(P){yn.setAttrib(b,"role","presentation");const te=_e.fromDom(b);Rn(te,"alt","")}else{if(Re(k)){const te=_e.fromDom(b);jt(te,"alt")}else{const te=_e.fromDom(b);Rn(te,"alt",k)}yn.getAttrib(b,"role")==="presentation"&&yn.setAttrib(b,"role","")}},xt=(b,k,P)=>{(P.alt!==k.alt||P.isDecorative!==k.isDecorative)&&ie(b,P.alt,P.isDecorative)},St=(b,k)=>(P,te,rt)=>{b(P,rt),zn(P,k)},qt=(b,k,P)=>{const te=B(b,P);ne(P,te,k,"caption",(rt,xn,qn)=>As(rt)),ne(P,te,k,"src",Ss),ne(P,te,k,"title",Ss),ne(P,te,k,"width",Nr("width",b)),ne(P,te,k,"height",Nr("height",b)),ne(P,te,k,"class",Ss),ne(P,te,k,"style",St((rt,xn)=>Ss(rt,"style",xn),b)),ne(P,te,k,"hspace",St(Bo,b)),ne(P,te,k,"vspace",St(tr,b)),ne(P,te,k,"border",St(Er,b)),ne(P,te,k,"borderStyle",St(An,b)),xt(P,te,k)},fn=(b,k)=>{const P=b.dom.styles.parse(k),te=ge(P),rt=b.dom.styles.parse(b.dom.styles.serialize(te));return b.dom.styles.serialize(rt)},gn=b=>{const k=b.selection.getNode(),P=b.dom.getParent(k,"figure.image");return P?b.dom.select("img",P)[0]:k&&(k.nodeName!=="IMG"||Tn(k))?null:k},Qt=(b,k)=>{var P;const te=b.dom,rt=st(b.schema.getTextBlockElements(),(qn,Yo)=>!b.schema.isValidChild(Yo,"figure")),xn=te.getParent(k.parentNode,qn=>Nn(rt,qn.nodeName),b.getBody());return xn&&(P=te.split(xn,k))!==null&&P!==void 0?P:k},O=b=>{const k=gn(b);return k?B(P=>fn(b,P),k):Ho()},V=(b,k)=>{const P=N(rt=>fn(b,rt),k);b.dom.setAttrib(P,"data-mce-id","__mcenew"),b.focus(),b.selection.setContent(P.outerHTML);const te=b.dom.select('*[data-mce-id="__mcenew"]')[0];if(b.dom.setAttrib(te,"data-mce-id",null),gs(te)){const rt=Qt(b,te);b.selection.select(rt)}else b.selection.select(te)},fe=(b,k)=>{b.dom.setAttrib(k,"src",k.getAttribute("src"))},Ze=(b,k)=>{if(k){const P=b.dom.is(k.parentNode,"figure.image")?k.parentNode:k;b.dom.remove(P),b.focus(),b.nodeChanged(),b.dom.isEmpty(b.getBody())&&(b.setContent(""),b.selection.setCursorLocation())}},ke=(b,k)=>{const P=gn(b);if(P)if(qt(te=>fn(b,te),k,P),fe(b,P),gs(P.parentNode)){b.dom.setStyle(P,"float","");const te=P.parentNode;Qt(b,te),b.selection.select(P.parentNode)}else b.selection.select(P),ut(b,k,P)},bt=(b,k)=>{const P=k.src;return{...k,src:ao(b,P)?P:""}},dt=(b,k)=>{const P=gn(b);if(P){const rt={...B(qn=>fn(b,qn),P),...k},xn=bt(b,rt);rt.src?ke(b,xn):Ze(b,P)}else k.src&&V(b,{...Ho(),...k})};var mt=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),Ut=tinymce.util.Tools.resolve("tinymce.util.Tools");const bn=b=>De(b.value)?b.value:"",Dn=b=>De(b.text)?b.text:De(b.title)?b.title:"",po=(b,k)=>{const P=[];return Ut.each(b,te=>{const rt=Dn(te);if(te.menu!==void 0){const xn=po(te.menu,k);P.push({text:rt,items:xn})}else{const xn=k(te);P.push({text:rt,value:xn})}}),P},Ns=(b=bn)=>k=>k?nt.from(k).map(P=>po(P,b)):nt.none(),Ao=b=>Ns(bn)(b),ta=b=>h(b,"items"),so=(b,k)=>rn(b,P=>ta(P)?so(P.items,k):P.value===k?nt.some(P):nt.none()),Wn={sanitizer:Ns,sanitize:Ao,findEntry:(b,k)=>b.bind(P=>so(P,k))},na={makeTab:b=>({title:"Advanced",name:"advanced",items:[{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]})},Vs=b=>{const k=Wn.sanitizer(cr=>b.convertURL(cr.value||cr.url||"","src")),P=new Promise(cr=>{He(b,Na=>{cr(k(Na).map(Va=>Ae([[{text:"None",value:""}],Va])))})}),te=Wn.sanitize(In(b)),rt=je(b),xn=Tt(b),qn=Jt(b),Yo=_n(b),Jo=O(b),Zs=no(b),dn=ro(b),zr=we(b),Ba=Ce(b),Ei=_t(b),ni=Mt(b),oi=nt.some(Ft(b)).filter(cr=>De(cr)&&cr.length>0);return P.then(cr=>({image:Jo,imageList:cr,classList:te,hasAdvTab:rt,hasUploadTab:xn,hasUploadUrl:qn,hasUploadHandler:Yo,hasDescription:Zs,hasImageTitle:dn,hasDimensions:zr,hasImageCaption:Ba,prependURL:oi,hasAccessibilityOptions:Ei,automaticUploads:ni}))},kn=b=>{const k={name:"src",type:"urlinput",filetype:"image",label:"Source",picker_text:"Browse files"},P=b.imageList.map(dn=>({name:"images",type:"listbox",label:"Image list",items:dn})),te={name:"alt",type:"input",label:"Alternative description",enabled:!(b.hasAccessibilityOptions&&b.image.isDecorative)},rt={name:"title",type:"input",label:"Image title"},xn={name:"dimensions",type:"sizeinput"},qn={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},Yo=b.classList.map(dn=>({name:"classes",type:"listbox",label:"Class",items:dn})),Jo={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},Zs=dn=>dn?{type:"grid",columns:2}:{type:"panel"};return Ae([[k],P.toArray(),b.hasAccessibilityOptions&&b.hasDescription?[qn]:[],b.hasDescription?[te]:[],b.hasImageTitle?[rt]:[],b.hasDimensions?[xn]:[],[{...Zs(b.classList.isSome()&&b.hasImageCaption),items:Ae([Yo.toArray(),b.hasImageCaption?[Jo]:[]])}]])},oa={makeTab:b=>({title:"General",name:"general",items:kn(b)}),makeItems:kn},Ms={makeTab:b=>({title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput"}]})},ba=b=>({prevImage:Wn.findEntry(b.imageList,b.image.src),prevAlt:b.image.alt,open:!0}),Eo=b=>({src:{value:b.src,meta:{}},images:b.src,alt:b.alt,title:b.title,dimensions:{width:b.width,height:b.height},classes:b.class,caption:b.caption,style:b.style,vspace:b.vspace,border:b.border,hspace:b.hspace,borderstyle:b.borderStyle,fileinput:[],isDecorative:b.isDecorative}),ps=(b,k)=>({src:b.src.value,alt:(b.alt===null||b.alt.length===0)&&k?null:b.alt,title:b.title,width:b.dimensions.width,height:b.dimensions.height,class:b.classes,style:b.style,caption:b.caption,hspace:b.hspace,vspace:b.vspace,border:b.border,borderStyle:b.borderstyle,isDecorative:b.isDecorative}),or=(b,k)=>/^(?:[a-zA-Z]+:)?\/\//.test(k)?nt.none():b.prependURL.bind(P=>k.substring(0,P.length)!==P?nt.some(P+k):nt.none()),cs=(b,k)=>{const P=k.getData();or(b,P.src.value).each(te=>{k.setData({src:{value:te,meta:P.src.meta}})})},va=(b,k,P)=>{b.hasDescription&&De(P.alt)&&(k.alt=P.alt),b.hasAccessibilityOptions&&(k.isDecorative=P.isDecorative||k.isDecorative||!1),b.hasImageTitle&&De(P.title)&&(k.title=P.title),b.hasDimensions&&(De(P.width)&&(k.dimensions.width=P.width),De(P.height)&&(k.dimensions.height=P.height)),De(P.class)&&Wn.findEntry(b.classList,P.class).each(te=>{k.classes=te.value}),b.hasImageCaption&&Qe(P.caption)&&(k.caption=P.caption),b.hasAdvTab&&(De(P.style)&&(k.style=P.style),De(P.vspace)&&(k.vspace=P.vspace),De(P.border)&&(k.border=P.border),De(P.hspace)&&(k.hspace=P.hspace),De(P.borderstyle)&&(k.borderstyle=P.borderstyle))},sr=(b,k)=>{const P=k.getData(),te=P.src.meta;if(te!==void 0){const rt=yo({},P);va(b,rt,te),k.setData(rt)}},fr=(b,k,P,te)=>{const rt=te.getData(),xn=rt.src.value,qn=rt.src.meta||{};!qn.width&&!qn.height&&k.hasDimensions&&(Ge(xn)?b.imageSize(xn).then(Yo=>{P.open&&te.setData({dimensions:Yo})}).catch(Yo=>console.error(Yo)):te.setData({dimensions:{width:"",height:""}}))},rr=(b,k,P)=>{const te=P.getData(),rt=Wn.findEntry(b.imageList,te.src.value);k.prevImage=rt,P.setData({images:rt.map(xn=>xn.value).getOr("")})},ya=(b,k,P,te)=>{cs(k,te),sr(k,te),fr(b,k,P,te),rr(k,P,te)},zs=(b,k,P,te)=>{const rt=te.getData(),xn=Wn.findEntry(k.imageList,rt.images);xn.each(qn=>{rt.alt===""||P.prevImage.map(Jo=>Jo.text===rt.alt).getOr(!1)?qn.value===""?te.setData({src:qn,alt:P.prevAlt}):te.setData({src:qn,alt:qn.text}):te.setData({src:qn})}),P.prevImage=xn,ya(b,k,P,te)},_r=(b,k,P,te)=>{const rt=te.getData();te.block("Uploading image"),Ve(rt.fileinput).fold(()=>{te.unblock()},xn=>{const qn=URL.createObjectURL(xn),Yo=()=>{te.unblock(),URL.revokeObjectURL(qn)},Jo=Zs=>{te.setData({src:{value:Zs,meta:{}}}),te.showTab("general"),ya(b,k,P,te),te.focus("src")};it(xn).then(Zs=>{const dn=b.createBlobCache(xn,qn,Zs);k.automaticUploads?b.uploadImage(dn).then(zr=>{Jo(zr.url),Yo()}).catch(zr=>{Yo(),b.alertErr(zr,()=>{te.focus("fileinput")})}):(b.addToBlobCache(dn),Jo(dn.blobUri()),te.unblock())})})},_s=(b,k,P)=>(te,rt)=>{rt.name==="src"?ya(b,k,P,te):rt.name==="images"?zs(b,k,P,te):rt.name==="alt"?P.prevAlt=te.getData().alt:rt.name==="fileinput"?_r(b,k,P,te):rt.name==="isDecorative"&&te.setEnabled("alt",!te.getData().isDecorative)},Vr=b=>()=>{b.open=!1},oc=b=>b.hasAdvTab||b.hasUploadUrl||b.hasUploadHandler?{type:"tabpanel",tabs:Ae([[oa.makeTab(b)],b.hasAdvTab?[na.makeTab(b)]:[],b.hasUploadTab&&(b.hasUploadUrl||b.hasUploadHandler)?[Ms.makeTab(b)]:[]])}:{type:"panel",items:oa.makeItems(b)},Mc=(b,k,P)=>te=>{const rt=yo(Eo(k.image),te.getData()),xn={...rt,style:nr(P.normalizeCss,ps(rt,!1))};b.execCommand("mceUpdateImage",!1,ps(xn,k.hasAccessibilityOptions)),b.editorUpload.uploadImagesAuto(),te.close()},ar=b=>k=>ao(b,k)?en(b.documentBaseURI.toAbsolute(k)).then(P=>({width:String(P.width),height:String(P.height)})):Promise.resolve({width:"",height:""}),Pa=b=>(k,P,te)=>{var rt;return b.editorUpload.blobCache.create({blob:k,blobUri:P,name:(rt=k.name)===null||rt===void 0?void 0:rt.replace(/\.[^\.]+$/,""),filename:k.name,base64:te.split(",")[1]})},Dr=b=>k=>{b.editorUpload.blobCache.add(k)},ti=b=>(k,P)=>{b.windowManager.alert(k,P)},Be=b=>k=>fn(b,k),xa=b=>k=>b.dom.parseStyle(k),_c=b=>(k,P)=>b.dom.serializeStyle(k,P),C=b=>k=>mt(b).upload([k],!1).then(P=>{var te;return P.length===0?Promise.reject("Failed to upload image"):P[0].status===!1?Promise.reject((te=P[0].error)===null||te===void 0?void 0:te.message):P[0]}),I=b=>{const k={imageSize:ar(b),addToBlobCache:Dr(b),createBlobCache:Pa(b),alertErr:ti(b),normalizeCss:Be(b),parseStyle:xa(b),serializeStyle:_c(b),uploadImage:C(b)};return{open:()=>{Vs(b).then(te=>{const rt=ba(te);return{title:"Insert/Edit Image",size:"normal",body:oc(te),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Eo(te.image),onSubmit:Mc(b,te,k),onChange:_s(k,te,rt),onClose:Vr(rt)}}).then(b.windowManager.open)}}},q=b=>{b.addCommand("mceImage",I(b).open),b.addCommand("mceUpdateImage",(k,P)=>{b.undoManager.transact(()=>dt(b,P))})},me=b=>{const k=b.attr("class");return Xe(k)&&/\bimage\b/.test(k)},Le=b=>k=>{let P=k.length;const te=rt=>{rt.attr("contenteditable",b?"true":null)};for(;P--;){const rt=k[P];me(rt)&&(rt.attr("contenteditable",b?"false":null),Ut.each(rt.getAll("figcaption"),te))}},tt=b=>{b.on("PreInit",()=>{b.parser.addNodeFilter("figure",Le(!0)),b.serializer.addNodeFilter("figure",Le(!1))})},un=b=>k=>{const P=()=>{k.setEnabled(b.selection.isEditable())};return b.on("NodeChange",P),P(),()=>{b.off("NodeChange",P)}},fo=b=>{b.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:I(b).open,onSetup:k=>{k.setActive(Xe(gn(b)));const P=b.selection.selectorChangedWithUnbind("img:not([data-mce-object]):not([data-mce-placeholder]),figure.image",k.setActive).unbind,te=un(b)(k);return()=>{P(),te()}}}),b.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:I(b).open,onSetup:un(b)}),b.ui.registry.addContextMenu("image",{update:k=>b.selection.isEditable()&&(gs(k)||Mr(k)&&!Tn(k))?["image"]:[]})};var Ln=()=>{x.add("image",b=>{ve(b),tt(b),fo(b),q(b)})};Ln()})();(function(){var x=tinymce.util.Tools.resolve("tinymce.PluginManager");const S=(ve,we)=>ve.dispatch("insertCustomChar",{chr:we}),D=(ve,we)=>{const je=S(ve,we).chr;ve.execCommand("mceInsertContent",!1,je)},F=(ve,we,je)=>{var Tt;return je(ve,we.prototype)?!0:((Tt=ve.constructor)===null||Tt===void 0?void 0:Tt.name)===we.name},U=ve=>{const we=typeof ve;return ve===null?"null":we==="object"&&Array.isArray(ve)?"array":we==="object"&&F(ve,String,(je,Tt)=>Tt.isPrototypeOf(je))?"string":we},K=ve=>we=>U(we)===ve,J=ve=>we=>typeof we===ve,X=ve=>we=>ve===we,De=K("array"),xe=X(null),$e=X(void 0),Ue=ve=>ve==null,Re=ve=>!Ue(ve),Qe=J("function"),Xe=(ve=>()=>ve)(!1);class Se{constructor(we,je){this.tag=we,this.value=je}static some(we){return new Se(!0,we)}static none(){return Se.singletonNone}fold(we,je){return this.tag?je(this.value):we()}isSome(){return this.tag}isNone(){return!this.tag}map(we){return this.tag?Se.some(we(this.value)):Se.none()}bind(we){return this.tag?we(this.value):Se.none()}exists(we){return this.tag&&we(this.value)}forall(we){return!this.tag||we(this.value)}filter(we){return!this.tag||we(this.value)?this:Se.none()}getOr(we){return this.tag?this.value:we}or(we){return this.tag?this:we}getOrThunk(we){return this.tag?this.value:we()}orThunk(we){return this.tag?this:we()}getOrDie(we){if(this.tag)return this.value;throw new Error(we??"Called getOrDie on None")}static from(we){return Re(we)?Se.some(we):Se.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(we){this.tag&&we(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Se.singletonNone=new Se(!1);const Rt=Array.prototype.push,Oe=(ve,we)=>{const je=ve.length,Tt=new Array(je);for(let Ft=0;Ft<je;Ft++){const In=ve[Ft];Tt[Ft]=we(In,Ft)}return Tt},ce=(ve,we)=>{for(let je=0,Tt=ve.length;je<Tt;je++){const Ft=ve[je];we(Ft,je)}},nt=(ve,we,je)=>{for(let Tt=0,Ft=ve.length;Tt<Ft;Tt++){const In=ve[Tt];if(we(In,Tt))return Se.some(In);if(je(In,Tt))break}return Se.none()},on=(ve,we)=>nt(ve,we,Xe),Ae=ve=>{const we=[];for(let je=0,Tt=ve.length;je<Tt;++je){if(!De(ve[je]))throw new Error("Arr.flatten item "+je+" was not an array, input: "+ve);Rt.apply(we,ve[je])}return we},A=(ve,we)=>Ae(Oe(ve,we)),Ve=ve=>{let we=ve;return{get:()=>we,set:Ft=>{we=Ft}}},rn=(ve,we,je=0,Tt)=>{const Ft=ve.indexOf(we,je);return Ft!==-1?$e(Tt)?!0:Ft+we.length<=Tt:!1},cn=String.fromCodePoint,Xt=(ve,we)=>{let je=null;const Tt=()=>{xe(je)||(clearTimeout(je),je=null)};return{cancel:Tt,throttle:(...In)=>{Tt(),je=setTimeout(()=>{je=null,ve.apply(null,In)},we)}}};var hn=tinymce.util.Tools.resolve("tinymce.util.Tools");const to=ve=>we=>we.options.get(ve),ue=ve=>{const we=ve.options.register,je=Tt=>Qe(Tt)||De(Tt);we("charmap",{processor:je}),we("charmap_append",{processor:je})},st=to("charmap"),h=to("charmap_append"),Nn=hn.isArray,Gn="User Defined",Wo=()=>[{name:"Currency",characters:[[36,"dollar sign"],[162,"cent sign"],[8364,"euro sign"],[163,"pound sign"],[165,"yen sign"],[164,"currency sign"],[8352,"euro-currency sign"],[8353,"colon sign"],[8354,"cruzeiro sign"],[8355,"french franc sign"],[8356,"lira sign"],[8357,"mill sign"],[8358,"naira sign"],[8359,"peseta sign"],[8360,"rupee sign"],[8361,"won sign"],[8362,"new sheqel sign"],[8363,"dong sign"],[8365,"kip sign"],[8366,"tugrik sign"],[8367,"drachma sign"],[8368,"german penny symbol"],[8369,"peso sign"],[8370,"guarani sign"],[8371,"austral sign"],[8372,"hryvnia sign"],[8373,"cedi sign"],[8374,"livre tournois sign"],[8375,"spesmilo sign"],[8376,"tenge sign"],[8377,"indian rupee sign"],[8378,"turkish lira sign"],[8379,"nordic mark sign"],[8380,"manat sign"],[8381,"ruble sign"],[20870,"yen character"],[20803,"yuan character"],[22291,"yuan character, in hong kong and taiwan"],[22278,"yen/yuan character variant one"]]},{name:"Text",characters:[[169,"copyright sign"],[174,"registered sign"],[8482,"trade mark sign"],[8240,"per mille sign"],[181,"micro sign"],[183,"middle dot"],[8226,"bullet"],[8230,"three dot leader"],[8242,"minutes / feet"],[8243,"seconds / inches"],[167,"section sign"],[182,"paragraph sign"],[223,"sharp s / ess-zed"]]},{name:"Quotations",characters:[[8249,"single left-pointing angle quotation mark"],[8250,"single right-pointing angle quotation mark"],[171,"left pointing guillemet"],[187,"right pointing guillemet"],[8216,"left single quotation mark"],[8217,"right single quotation mark"],[8220,"left double quotation mark"],[8221,"right double quotation mark"],[8218,"single low-9 quotation mark"],[8222,"double low-9 quotation mark"],[60,"less-than sign"],[62,"greater-than sign"],[8804,"less-than or equal to"],[8805,"greater-than or equal to"],[8211,"en dash"],[8212,"em dash"],[175,"macron"],[8254,"overline"],[164,"currency sign"],[166,"broken bar"],[168,"diaeresis"],[161,"inverted exclamation mark"],[191,"turned question mark"],[710,"circumflex accent"],[732,"small tilde"],[176,"degree sign"],[8722,"minus sign"],[177,"plus-minus sign"],[247,"division sign"],[8260,"fraction slash"],[215,"multiplication sign"],[185,"superscript one"],[178,"superscript two"],[179,"superscript three"],[188,"fraction one quarter"],[189,"fraction one half"],[190,"fraction three quarters"]]},{name:"Mathematical",characters:[[402,"function / florin"],[8747,"integral"],[8721,"n-ary sumation"],[8734,"infinity"],[8730,"square root"],[8764,"similar to"],[8773,"approximately equal to"],[8776,"almost equal to"],[8800,"not equal to"],[8801,"identical to"],[8712,"element of"],[8713,"not an element of"],[8715,"contains as member"],[8719,"n-ary product"],[8743,"logical and"],[8744,"logical or"],[172,"not sign"],[8745,"intersection"],[8746,"union"],[8706,"partial differential"],[8704,"for all"],[8707,"there exists"],[8709,"diameter"],[8711,"backward difference"],[8727,"asterisk operator"],[8733,"proportional to"],[8736,"angle"]]},{name:"Extended Latin",characters:[[192,"A - grave"],[193,"A - acute"],[194,"A - circumflex"],[195,"A - tilde"],[196,"A - diaeresis"],[197,"A - ring above"],[256,"A - macron"],[198,"ligature AE"],[199,"C - cedilla"],[200,"E - grave"],[201,"E - acute"],[202,"E - circumflex"],[203,"E - diaeresis"],[274,"E - macron"],[204,"I - grave"],[205,"I - acute"],[206,"I - circumflex"],[207,"I - diaeresis"],[298,"I - macron"],[208,"ETH"],[209,"N - tilde"],[210,"O - grave"],[211,"O - acute"],[212,"O - circumflex"],[213,"O - tilde"],[214,"O - diaeresis"],[216,"O - slash"],[332,"O - macron"],[338,"ligature OE"],[352,"S - caron"],[217,"U - grave"],[218,"U - acute"],[219,"U - circumflex"],[220,"U - diaeresis"],[362,"U - macron"],[221,"Y - acute"],[376,"Y - diaeresis"],[562,"Y - macron"],[222,"THORN"],[224,"a - grave"],[225,"a - acute"],[226,"a - circumflex"],[227,"a - tilde"],[228,"a - diaeresis"],[229,"a - ring above"],[257,"a - macron"],[230,"ligature ae"],[231,"c - cedilla"],[232,"e - grave"],[233,"e - acute"],[234,"e - circumflex"],[235,"e - diaeresis"],[275,"e - macron"],[236,"i - grave"],[237,"i - acute"],[238,"i - circumflex"],[239,"i - diaeresis"],[299,"i - macron"],[240,"eth"],[241,"n - tilde"],[242,"o - grave"],[243,"o - acute"],[244,"o - circumflex"],[245,"o - tilde"],[246,"o - diaeresis"],[248,"o slash"],[333,"o macron"],[339,"ligature oe"],[353,"s - caron"],[249,"u - grave"],[250,"u - acute"],[251,"u - circumflex"],[252,"u - diaeresis"],[363,"u - macron"],[253,"y - acute"],[254,"thorn"],[255,"y - diaeresis"],[563,"y - macron"],[913,"Alpha"],[914,"Beta"],[915,"Gamma"],[916,"Delta"],[917,"Epsilon"],[918,"Zeta"],[919,"Eta"],[920,"Theta"],[921,"Iota"],[922,"Kappa"],[923,"Lambda"],[924,"Mu"],[925,"Nu"],[926,"Xi"],[927,"Omicron"],[928,"Pi"],[929,"Rho"],[931,"Sigma"],[932,"Tau"],[933,"Upsilon"],[934,"Phi"],[935,"Chi"],[936,"Psi"],[937,"Omega"],[945,"alpha"],[946,"beta"],[947,"gamma"],[948,"delta"],[949,"epsilon"],[950,"zeta"],[951,"eta"],[952,"theta"],[953,"iota"],[954,"kappa"],[955,"lambda"],[956,"mu"],[957,"nu"],[958,"xi"],[959,"omicron"],[960,"pi"],[961,"rho"],[962,"final sigma"],[963,"sigma"],[964,"tau"],[965,"upsilon"],[966,"phi"],[967,"chi"],[968,"psi"],[969,"omega"]]},{name:"Symbols",characters:[[8501,"alef symbol"],[982,"pi symbol"],[8476,"real part symbol"],[978,"upsilon - hook symbol"],[8472,"Weierstrass p"],[8465,"imaginary part"]]},{name:"Arrows",characters:[[8592,"leftwards arrow"],[8593,"upwards arrow"],[8594,"rightwards arrow"],[8595,"downwards arrow"],[8596,"left right arrow"],[8629,"carriage return"],[8656,"leftwards double arrow"],[8657,"upwards double arrow"],[8658,"rightwards double arrow"],[8659,"downwards double arrow"],[8660,"left right double arrow"],[8756,"therefore"],[8834,"subset of"],[8835,"superset of"],[8836,"not a subset of"],[8838,"subset of or equal to"],[8839,"superset of or equal to"],[8853,"circled plus"],[8855,"circled times"],[8869,"perpendicular"],[8901,"dot operator"],[8968,"left ceiling"],[8969,"right ceiling"],[8970,"left floor"],[8971,"right floor"],[9001,"left-pointing angle bracket"],[9002,"right-pointing angle bracket"],[9674,"lozenge"],[9824,"black spade suit"],[9827,"black club suit"],[9829,"black heart suit"],[9830,"black diamond suit"],[8194,"en space"],[8195,"em space"],[8201,"thin space"],[8204,"zero width non-joiner"],[8205,"zero width joiner"],[8206,"left-to-right mark"],[8207,"right-to-left mark"]]}],yo=ve=>hn.grep(ve,we=>Nn(we)&&we.length===2),Ge=ve=>Nn(ve)?yo(ve):typeof ve=="function"?ve():[],Ee=(ve,we)=>{const je=st(ve);je&&(we=[{name:Gn,characters:Ge(je)}]);const Tt=h(ve);if(Tt){const Ft=hn.grep(we,In=>In.name===Gn);return Ft.length?(Ft[0].characters=[...Ft[0].characters,...Ge(Tt)],we):we.concat({name:Gn,characters:Ge(Tt)})}return we},Dt=ve=>{const we=Ee(ve,Wo());return we.length>1?[{name:"All",characters:A(we,je=>je.characters)}].concat(we):we},de=ve=>({getCharMap:()=>Dt(ve),insertChar:Tt=>{D(ve,Tt)}}),et=(ve,we,je)=>rn(cn(ve).toLowerCase(),je)?!0:rn(we.toLowerCase(),je)||rn(we.toLowerCase().replace(/\s+/g,""),je),re=(ve,we)=>{const je=[],Tt=we.toLowerCase();return ce(ve.characters,Ft=>{et(Ft[0],Ft[1],Tt)&&je.push(Ft)}),Oe(je,Ft=>({text:Ft[1],value:cn(Ft[0]),icon:cn(Ft[0])}))},_e="pattern",Mn=(ve,we)=>{const je=()=>[{label:"Search",type:"input",name:_e},{type:"collection",name:"results"}],Tt=()=>Oe(we,kt=>({title:kt.name,name:kt.name,items:je()})),Ft=()=>({type:"panel",items:je()}),In=()=>({type:"tabpanel",tabs:Tt()}),no=we.length===1?Ve(Gn):Ve("All"),ro=(kt,en)=>{on(we,xo=>xo.name===no.get()).each(xo=>{const sn=re(xo,en);kt.setData({results:sn})})},Me=Xt(kt=>{const en=kt.getData().pattern;ro(kt,en)},40),_t=we.length===1?Ft():In(),Mt={pattern:"",results:re(we[0],"")},Jt={title:"Special Character",size:"normal",body:_t,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:Mt,onAction:(kt,en)=>{en.name==="results"&&(D(ve,en.value),kt.close())},onTabChange:(kt,en)=>{no.set(en.newTabName),Me.throttle(kt)},onChange:(kt,en)=>{en.name===_e&&Me.throttle(kt)}};ve.windowManager.open(Jt).focus(_e)},Rn=(ve,we)=>{ve.addCommand("mceShowCharmap",()=>{Mn(ve,we)})},jt=(ve,we)=>{ve.ui.registry.addAutocompleter("charmap",{trigger:":",columns:"auto",minChars:2,fetch:(je,Tt)=>new Promise((Ft,In)=>{Ft(re(we,je))}),onAction:(je,Tt,Ft)=>{ve.selection.setRng(Tt),ve.insertContent(Ft),je.hide()}})},ln=ve=>we=>{const je=()=>{we.setEnabled(ve.selection.isEditable())};return ve.on("NodeChange",je),je(),()=>{ve.off("NodeChange",je)}},On=ve=>{const we=()=>ve.execCommand("mceShowCharmap");ve.ui.registry.addButton("charmap",{icon:"insert-character",tooltip:"Special character",onAction:we,onSetup:ln(ve)}),ve.ui.registry.addMenuItem("charmap",{icon:"insert-character",text:"Special character...",onAction:we,onSetup:ln(ve)})};var Kn=()=>{x.add("charmap",ve=>{ue(ve);const we=Dt(ve);return Rn(ve,we),On(ve),jt(ve,we[0]),de(ve)})};Kn()})();(function(){var x=tinymce.util.Tools.resolve("tinymce.PluginManager");const D=(ge=>He=>ge===He)(void 0),F=ge=>ge==null,U=ge=>!F(ge),K=ge=>()=>ge,J=K(!1);class X{constructor(He,ut){this.tag=He,this.value=ut}static some(He){return new X(!0,He)}static none(){return X.singletonNone}fold(He,ut){return this.tag?ut(this.value):He()}isSome(){return this.tag}isNone(){return!this.tag}map(He){return this.tag?X.some(He(this.value)):X.none()}bind(He){return this.tag?He(this.value):X.none()}exists(He){return this.tag&&He(this.value)}forall(He){return!this.tag||He(this.value)}filter(He){return!this.tag||He(this.value)?this:X.none()}getOr(He){return this.tag?this.value:He}or(He){return this.tag?this:He}getOrThunk(He){return this.tag?this.value:He()}orThunk(He){return this.tag?this:He()}getOrDie(He){if(this.tag)return this.value;throw new Error(He??"Called getOrDie on None")}static from(He){return U(He)?X.some(He):X.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(He){this.tag&&He(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}X.singletonNone=new X(!1);const De=(ge,He,ut)=>{for(let it=0,Tn=ge.length;it<Tn;it++){const ao=ge[it];if(He(ao,it))return X.some(ao);if(ut(ao,it))break}return X.none()},xe=(ge,He)=>De(ge,He,J),$e=(ge,He)=>{for(let ut=0;ut<ge.length;ut++){const it=He(ge[ut],ut);if(it.isSome())return it}return X.none()},Ue=(ge,He,ut=0,it)=>{const Tn=ge.indexOf(He,ut);return Tn!==-1?D(it)?!0:Tn+He.length<=it:!1},Re=ge=>{let He=!1,ut;return(...it)=>(He||(He=!0,ut=ge.apply(null,it)),ut)},Qe=(ge,He,ut,it)=>{const Tn=ge.isiOS()&&/ipad/i.test(ut)===!0,ao=ge.isiOS()&&!Tn,yn=ge.isiOS()||ge.isAndroid(),oo=yn||it("(pointer:coarse)"),wo=Tn||!ao&&yn&&it("(min-device-width:768px)"),lt=ao||yn&&!wo,Nt=He.isSafari()&&ge.isiOS()&&/safari/i.test(ut)===!1,mo=!lt&&!wo&&!Nt;return{isiPad:K(Tn),isiPhone:K(ao),isTablet:K(wo),isPhone:K(lt),isTouch:K(oo),isAndroid:ge.isAndroid,isiOS:ge.isiOS,isWebView:K(Nt),isDesktop:K(mo)}},Je=(ge,He)=>{for(let ut=0;ut<ge.length;ut++){const it=ge[ut];if(it.test(He))return it}},Xe=(ge,He)=>{const ut=Je(ge,He);if(!ut)return{major:0,minor:0};const it=Tn=>Number(He.replace(ut,"$"+Tn));return Oe(it(1),it(2))},Se=(ge,He)=>{const ut=String(He).toLowerCase();return ge.length===0?Rt():Xe(ge,ut)},Rt=()=>Oe(0,0),Oe=(ge,He)=>({major:ge,minor:He}),ce={nu:Oe,detect:Se,unknown:Rt},nt=(ge,He)=>$e(He.brands,ut=>{const it=ut.brand.toLowerCase();return xe(ge,Tn=>{var ao;return it===((ao=Tn.brand)===null||ao===void 0?void 0:ao.toLowerCase())}).map(Tn=>({current:Tn.name,version:ce.nu(parseInt(ut.version,10),0)}))}),on=(ge,He)=>{const ut=String(He).toLowerCase();return xe(ge,it=>it.search(ut))},Ae=(ge,He)=>on(ge,He).map(ut=>{const it=ce.detect(ut.versionRegexes,He);return{current:ut.name,version:it}}),A=(ge,He)=>on(ge,He).map(ut=>{const it=ce.detect(ut.versionRegexes,He);return{current:ut.name,version:it}}),Ve=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,rn=ge=>He=>Ue(He,ge),cn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:ge=>Ue(ge,"edge/")&&Ue(ge,"chrome")&&Ue(ge,"safari")&&Ue(ge,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ve],search:ge=>Ue(ge,"chrome")&&!Ue(ge,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:ge=>Ue(ge,"msie")||Ue(ge,"trident")},{name:"Opera",versionRegexes:[Ve,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:rn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:rn("firefox")},{name:"Safari",versionRegexes:[Ve,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:ge=>(Ue(ge,"safari")||Ue(ge,"mobile/"))&&Ue(ge,"applewebkit")}],Xt=[{name:"Windows",search:rn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:ge=>Ue(ge,"iphone")||Ue(ge,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:rn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:rn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:rn("linux"),versionRegexes:[]},{name:"Solaris",search:rn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:rn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:rn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],hn={browsers:K(cn),oses:K(Xt)},to="Edge",ue="Chromium",st="IE",h="Opera",Nn="Firefox",Gn="Safari",Wo=()=>yo({current:void 0,version:ce.unknown()}),yo=ge=>{const He=ge.current,ut=ge.version,it=Tn=>()=>He===Tn;return{current:He,version:ut,isEdge:it(to),isChromium:it(ue),isIE:it(st),isOpera:it(h),isFirefox:it(Nn),isSafari:it(Gn)}},Ge={unknown:Wo,nu:yo,edge:K(to),chromium:K(ue),ie:K(st),opera:K(h),firefox:K(Nn),safari:K(Gn)},Ee="Windows",Dt="iOS",de="Android",et="Linux",re="macOS",_e="Solaris",Mn="FreeBSD",Rn="ChromeOS",jt=()=>ln({current:void 0,version:ce.unknown()}),ln=ge=>{const He=ge.current,ut=ge.version,it=Tn=>()=>He===Tn;return{current:He,version:ut,isWindows:it(Ee),isiOS:it(Dt),isAndroid:it(de),isMacOS:it(re),isLinux:it(et),isSolaris:it(_e),isFreeBSD:it(Mn),isChromeOS:it(Rn)}},On={unknown:jt,nu:ln,windows:K(Ee),ios:K(Dt),android:K(de),linux:K(et),macos:K(re),solaris:K(_e),freebsd:K(Mn),chromeos:K(Rn)},ve={detect:(ge,He,ut)=>{const it=hn.browsers(),Tn=hn.oses(),ao=He.bind(wo=>nt(it,wo)).orThunk(()=>Ae(it,ge)).fold(Ge.unknown,Ge.nu),yn=A(Tn,ge).fold(On.unknown,On.nu),oo=Qe(yn,ao,ge,ut);return{browser:ao,os:yn,deviceType:oo}}},we=ge=>window.matchMedia(ge).matches;let je=Re(()=>ve.detect(window.navigator.userAgent,X.from(window.navigator.userAgentData),we));const Tt=()=>je(),Ft=()=>Tt().os.isMacOS(),In=()=>Tt().os.isiOS(),no=()=>{const ge=Ft()||In();return`<script>(${(ut=>{document.addEventListener("click",it=>{for(let Tn=it.target;Tn;Tn=Tn.parentNode)if(Tn.nodeName==="A"){const yn=Tn.getAttribute("href");if(yn&&yn.startsWith("#")){it.preventDefault();const wo=document.getElementById(yn.substring(1));wo&&wo.scrollIntoView({behavior:"smooth"});return}(ut?it.metaKey:it.ctrlKey&&!it.altKey)||it.preventDefault()}},!1)}).toString()})(${ge})<\/script>`};var ro=tinymce.util.Tools.resolve("tinymce.util.Tools");const Ce=ge=>He=>He.options.get(ge),Me=Ce("content_style"),_t=Ce("content_css_cors"),Mt=Ce("body_class"),Jt=Ce("body_id"),_n=ge=>{var He;let ut="";const it=ge.dom.encode,Tn=(He=Me(ge))!==null&&He!==void 0?He:"";ut+=`<base href="${it(ge.documentBaseURI.getURI())}">`;const ao=_t(ge)?' crossorigin="anonymous"':"";ro.each(ge.contentCSS,mo=>{ut+='<link type="text/css" rel="stylesheet" href="'+it(ge.documentBaseURI.toAbsolute(mo))+'"'+ao+">"}),Tn&&(ut+='<style type="text/css">'+Tn+"</style>");const yn=Jt(ge),oo=Mt(ge),wo=ge.getBody().dir,lt=wo?' dir="'+it(wo)+'"':"";return"<!DOCTYPE html><html><head>"+ut+'</head><body id="'+it(yn)+'" class="mce-content-body '+it(oo)+'"'+lt+">"+ge.getContent()+no()+"</body></html>"},kt=ge=>{const He=_n(ge);ge.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0,transparent:!1}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:He}}).focus("close")},en=ge=>{ge.addCommand("mcePreview",()=>{kt(ge)})},xo=ge=>{const He=()=>ge.execCommand("mcePreview");ge.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:He,context:"any"}),ge.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:He,context:"any"})};var sn=()=>{x.add("preview",ge=>{en(ge),xo(ge)})};sn()})();(function(){var x=tinymce.util.Tools.resolve("tinymce.PluginManager"),S=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),D=tinymce.util.Tools.resolve("tinymce.util.Tools");const F=ue=>st=>st.options.get(ue),U=ue=>{const st=ue.options.register;st("allow_html_in_named_anchor",{processor:"boolean",default:!1})},K=F("allow_html_in_named_anchor"),J="a:not([href])",X=ue=>!ue,De=ue=>ue.getAttribute("id")||ue.getAttribute("name")||"",xe=ue=>ue.nodeName.toLowerCase()==="a",$e=ue=>xe(ue)&&!ue.getAttribute("href")&&De(ue)!=="",Ue=ue=>$e(ue)&&!ue.firstChild,Re=ue=>{const st=ue.dom;S(st).walk(ue.selection.getRng(),h=>{D.each(h,Nn=>{Ue(Nn)&&st.remove(Nn,!1)})})},Qe=ue=>/^[A-Za-z][A-Za-z0-9\-:._]*$/.test(ue),Je=ue=>ue.dom.getParent(ue.selection.getStart(),J),Xe=ue=>{const st=Je(ue);return st?De(st):""},Se=(ue,st)=>{ue.undoManager.transact(()=>{K(ue)||ue.selection.collapse(!0),ue.selection.isCollapsed()?ue.insertContent(ue.dom.createHTML("a",{id:st})):(Re(ue),ue.formatter.remove("namedAnchor",void 0,void 0,!0),ue.formatter.apply("namedAnchor",{value:st}),ue.addVisual())})},Rt=(ue,st,h)=>{h.removeAttribute("name"),h.id=st,ue.addVisual(),ue.undoManager.add()},Oe=(ue,st)=>{const h=Je(ue);h?Rt(ue,st,h):Se(ue,st),ue.focus()},ce=(ue,st)=>Qe(st)?(Oe(ue,st),!0):(ue.windowManager.alert("ID should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores."),!1),nt=ue=>{const st=Xe(ue);ue.windowManager.open({title:"Anchor",size:"normal",body:{type:"panel",items:[{name:"id",type:"input",label:"ID",placeholder:"example"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{id:st},onSubmit:h=>{ce(ue,h.getData().id)&&h.close()}})},on=ue=>{ue.addCommand("mceAnchor",()=>{nt(ue)})},Ae=ue=>X(ue.attr("href"))&&!X(ue.attr("id")||ue.attr("name")),A=ue=>Ae(ue)&&!ue.firstChild,Ve=ue=>st=>{for(let h=0;h<st.length;h++){const Nn=st[h];A(Nn)&&Nn.attr("contenteditable",ue)}},rn=ue=>{ue.on("PreInit",()=>{ue.parser.addNodeFilter("a",Ve("false")),ue.serializer.addNodeFilter("a",Ve(null))})},cn=ue=>{ue.formatter.register("namedAnchor",{inline:"a",selector:J,remove:"all",split:!0,deep:!0,attributes:{id:"%value"},onmatch:(st,h,Nn)=>$e(st)})},Xt=ue=>st=>{const h=()=>{st.setEnabled(ue.selection.isEditable())};return ue.on("NodeChange",h),h(),()=>{ue.off("NodeChange",h)}},hn=ue=>{const st=()=>ue.execCommand("mceAnchor");ue.ui.registry.addToggleButton("anchor",{icon:"bookmark",tooltip:"Anchor",onAction:st,onSetup:h=>{const Nn=ue.selection.selectorChangedWithUnbind("a:not([href])",h.setActive).unbind,Gn=Xt(ue)(h);return()=>{Nn(),Gn()}}}),ue.ui.registry.addMenuItem("anchor",{icon:"bookmark",text:"Anchor...",onAction:st,onSetup:Xt(ue)})};var to=()=>{x.add("anchor",ue=>{U(ue),rn(ue),on(ue),hn(ue),ue.on("PreInit",()=>{cn(ue)})})};to()})();(function(){const x=(O,V,fe)=>{var Ze;return fe(O,V.prototype)?!0:((Ze=O.constructor)===null||Ze===void 0?void 0:Ze.name)===V.name},S=O=>{const V=typeof O;return O===null?"null":V==="object"&&Array.isArray(O)?"array":V==="object"&&x(O,String,(fe,Ze)=>Ze.isPrototypeOf(fe))?"string":V},D=O=>V=>S(V)===O,F=O=>V=>typeof V===O,U=D("string"),K=D("array"),J=F("boolean"),X=O=>O==null,De=O=>!X(O),xe=F("number"),$e=()=>{},Ue=O=>()=>O,Re=Ue(!0);class Qe{constructor(V,fe){this.tag=V,this.value=fe}static some(V){return new Qe(!0,V)}static none(){return Qe.singletonNone}fold(V,fe){return this.tag?fe(this.value):V()}isSome(){return this.tag}isNone(){return!this.tag}map(V){return this.tag?Qe.some(V(this.value)):Qe.none()}bind(V){return this.tag?V(this.value):Qe.none()}exists(V){return this.tag&&V(this.value)}forall(V){return!this.tag||V(this.value)}filter(V){return!this.tag||V(this.value)?this:Qe.none()}getOr(V){return this.tag?this.value:V}or(V){return this.tag?this:V}getOrThunk(V){return this.tag?this.value:V()}orThunk(V){return this.tag?this:V()}getOrDie(V){if(this.tag)return this.value;throw new Error(V??"Called getOrDie on None")}static from(V){return De(V)?Qe.some(V):Qe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(V){this.tag&&V(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Qe.singletonNone=new Qe(!1);const Je=Array.prototype.slice,Xe=Array.prototype.push,Se=(O,V)=>{const fe=O.length,Ze=new Array(fe);for(let ke=0;ke<fe;ke++){const bt=O[ke];Ze[ke]=V(bt,ke)}return Ze},Rt=(O,V)=>{for(let fe=0,Ze=O.length;fe<Ze;fe++){const ke=O[fe];V(ke,fe)}},Oe=(O,V)=>{for(let fe=O.length-1;fe>=0;fe--){const Ze=O[fe];V(Ze,fe)}},ce=(O,V)=>{if(O.length===0)return[];{let fe=V(O[0]);const Ze=[];let ke=[];for(let bt=0,dt=O.length;bt<dt;bt++){const mt=O[bt],Ut=V(mt);Ut!==fe&&(Ze.push(ke),ke=[]),fe=Ut,ke.push(mt)}return ke.length!==0&&Ze.push(ke),Ze}},nt=(O,V,fe)=>(Rt(O,(Ze,ke)=>{fe=V(fe,Ze,ke)}),fe),on=O=>{const V=[];for(let fe=0,Ze=O.length;fe<Ze;++fe){if(!K(O[fe]))throw new Error("Arr.flatten item "+fe+" was not an array, input: "+O);Xe.apply(V,O[fe])}return V},Ae=(O,V)=>on(Se(O,V)),A=(O,V)=>{const fe=Je.call(O,0);return fe.sort(V),fe},Ve=Object.hasOwnProperty,rn=(O,V)=>Ve.call(O,V),cn=O=>{let V=O;return{get:()=>V,set:ke=>{V=ke}}},Xt=O=>{const V=cn(Qe.none()),fe=()=>V.get().each(O);return{clear:()=>{fe(),V.set(Qe.none())},isSet:()=>V.get().isSome(),get:()=>V.get(),set:mt=>{fe(),V.set(Qe.some(mt))}}},hn=()=>{const O=Xt($e);return{...O,on:fe=>O.get().each(fe)}};var to=tinymce.util.Tools.resolve("tinymce.PluginManager");const h=Ue("[~№|!-*+-\\/:;?@\\[-`{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]");var Nn=tinymce.util.Tools.resolve("tinymce.Env"),Gn=tinymce.util.Tools.resolve("tinymce.util.Tools");const Wo=(O,V)=>{const Ze=(V||document).createElement("div");if(Ze.innerHTML=O,!Ze.hasChildNodes()||Ze.childNodes.length>1){const ke="HTML does not have a single root node";throw console.error(ke,O),new Error(ke)}return Ee(Ze.childNodes[0])},yo=(O,V)=>{const Ze=(V||document).createElement(O);return Ee(Ze)},Ge=(O,V)=>{const Ze=(V||document).createTextNode(O);return Ee(Ze)},Ee=O=>{if(O==null)throw new Error("Node cannot be null or undefined");return{dom:O}},de={fromHtml:Wo,fromTag:yo,fromText:Ge,fromDom:Ee,fromPoint:(O,V,fe)=>Qe.from(O.dom.elementFromPoint(V,fe)).map(Ee)},et=9,re=11,_e=1,Mn=3,Rn=O=>O.nodeType!==_e&&O.nodeType!==et&&O.nodeType!==re||O.childElementCount===0,jt=(O,V)=>{const fe=V===void 0?document:V.dom;return Rn(fe)?[]:Se(fe.querySelectorAll(O),de.fromDom)},ln=(O,V,fe)=>(O.compareDocumentPosition(V)&fe)!==0,On=(O,V)=>ln(O,V,Node.DOCUMENT_POSITION_PRECEDING),Kn=O=>O.dom.nodeType,we=(O=>V=>Kn(V)===O)(Mn),je=O=>Qe.from(O.dom.parentNode).map(de.fromDom),Tt=O=>Se(O.dom.childNodes,de.fromDom),Ft=(O,V)=>({element:O,offset:V}),In=(O,V)=>{const fe=Tt(O);return fe.length>0&&V<fe.length?Ft(fe[V],0):Ft(O,V)},no=(O,V)=>{je(O).each(Ze=>{Ze.dom.insertBefore(V.dom,O.dom)})},ro=(O,V)=>{O.dom.appendChild(V.dom)},Ce=(O,V)=>{no(O,V),ro(V,O)},Me=(O,V,fe)=>{if(U(fe)||J(fe)||xe(fe))O.setAttribute(V,fe+"");else throw console.error("Invalid call to Attribute.set. Key ",V,":: Value ",fe,":: Element ",O),new Error("Attribute value was not simple")},_t=(O,V,fe)=>{Me(O.dom,V,fe)},Jt=((O,V)=>{const fe=bt=>{if(!O(bt))throw new Error("Can only get "+V+" value of a "+V+" node");return Ze(bt).getOr("")},Ze=bt=>O(bt)?Qe.from(bt.dom.nodeValue):Qe.none();return{get:fe,getOption:Ze,set:(bt,dt)=>{if(!O(bt))throw new Error("Can only set raw "+V+" value of a "+V+" node");bt.dom.nodeValue=dt}}})(we,"text"),_n=O=>Jt.get(O),kt=(O,V)=>jt(V,O);var en=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const xo=(O,V)=>O.isBlock(V)||rn(O.schema.getVoidElements(),V.nodeName),sn=(O,V)=>!O.isEditable(V),ge=(O,V)=>O.getContentEditable(V)==="true"&&V.parentNode&&!O.isEditable(V.parentNode),He=(O,V)=>!O.isBlock(V)&&rn(O.schema.getWhitespaceElements(),V.nodeName),ut=(O,V)=>xo(O,V)||sn(O,V)||He(O,V)||ge(O,V),it=O=>O.nodeType===3,Tn=()=>({sOffset:0,fOffset:0,elements:[]}),ao=(O,V)=>In(de.fromDom(O),V),yn=(O,V,fe,Ze,ke,bt=!0)=>{let dt=bt?V(!1):fe;for(;dt;){const mt=sn(O,dt);if(mt||He(O,dt)){if(mt?Ze.cef(dt):Ze.boundary(dt))break;dt=V(!0);continue}else if(xo(O,dt)){if(Ze.boundary(dt))break}else it(dt)&&Ze.text(dt);if(dt===ke)break;dt=V(!1)}},oo=(O,V,fe,Ze,ke)=>{var bt;if(ut(O,fe))return;const dt=(bt=O.getParent(Ze,O.isBlock))!==null&&bt!==void 0?bt:O.getRoot(),mt=new en(fe,dt),Ut=ke?mt.next.bind(mt):mt.prev.bind(mt);yn(O,Ut,fe,{boundary:Re,cef:Re,text:bn=>{ke?V.fOffset+=bn.length:V.sOffset+=bn.length,V.elements.push(de.fromDom(bn))}})},wo=(O,V,fe,Ze,ke,bt=!0)=>{const dt=new en(fe,V),mt=[];let Ut=Tn();oo(O,Ut,fe,V,!1);const bn=()=>(Ut.elements.length>0&&(mt.push(Ut),Ut=Tn()),!1);return yn(O,dt.next.bind(dt),fe,{boundary:bn,cef:Dn=>(bn(),ke&&mt.push(...ke.cef(Dn)),!1),text:Dn=>{Ut.elements.push(de.fromDom(Dn)),ke&&ke.text(Dn,Ut)}},Ze,bt),Ze&&oo(O,Ut,Ze,V,!0),bn(),mt},lt=(O,V)=>{const fe=ao(V.startContainer,V.startOffset),Ze=fe.element.dom,ke=ao(V.endContainer,V.endOffset),bt=ke.element.dom;return wo(O,V.commonAncestorContainer,Ze,bt,{text:(dt,mt)=>{dt===bt?mt.fOffset+=dt.length-ke.offset:dt===Ze&&(mt.sOffset+=fe.offset)},cef:dt=>{const mt=Ae(kt(de.fromDom(dt),"*[contenteditable=true]"),Ut=>{const bn=Ut.dom;return wo(O,bn,bn)});return A(mt,(Ut,bn)=>On(Ut.elements[0].dom,bn.elements[0].dom)?1:-1)}},!1)},Nt=(O,V)=>V.collapsed?[]:lt(O,V),mo=(O,V)=>{const fe=O.createRng();return fe.selectNode(V),Nt(O,fe)},Ss=(O,V)=>Ae(V,fe=>mo(O,fe)),Ko=(O,V,fe=0,Ze=O.length)=>{const ke=V.regex;ke.lastIndex=fe;const bt=[];let dt;for(;dt=ke.exec(O);){const mt=dt[V.matchIndex],Ut=dt.index+dt[0].indexOf(mt),bn=Ut+mt.length;if(bn>Ze)break;bt.push({start:Ut,finish:bn}),ke.lastIndex=bn}return bt},ot=(O,V)=>{const fe=nt(O,(Ze,ke)=>{const bt=_n(ke),dt=Ze.last,mt=dt+bt.length,Ut=Ae(V,(bn,Dn)=>bn.start<mt&&bn.finish>dt?[{element:ke,start:Math.max(dt,bn.start)-dt,finish:Math.min(mt,bn.finish)-dt,matchId:Dn}]:[]);return{results:Ze.results.concat(Ut),last:mt}},{results:[],last:0}).results;return ce(fe,Ze=>Ze.matchId)},As=(O,V)=>Ae(V,fe=>{const Ze=fe.elements,ke=Se(Ze,_n).join(""),bt=Ko(ke,O,fe.sOffset,ke.length-fe.fOffset);return ot(Ze,bt)}),zn=(O,V)=>{Oe(O,(fe,Ze)=>{Oe(fe,ke=>{const bt=de.fromDom(V.cloneNode(!1));_t(bt,"data-mce-index",Ze);const dt=ke.element.dom;if(dt.length===ke.finish&&ke.start===0)Ce(ke.element,bt);else{dt.length!==ke.finish&&dt.splitText(ke.finish);const mt=dt.splitText(ke.start);Ce(de.fromDom(mt),bt)}})})},Nr=(O,V,fe,Ze)=>{const ke=mo(O,fe),bt=As(V,ke);return zn(bt,Ze),bt.length},er=(O,V,fe,Ze)=>{const ke=fe.getBookmark(),bt=O.select("td[data-mce-selected],th[data-mce-selected]"),dt=bt.length>0?Ss(O,bt):Nt(O,fe.getRng()),mt=As(V,dt);return zn(mt,Ze),fe.moveToBookmark(ke),mt.length},Bo=O=>O.getAttribute("data-mce-index"),tr=(O,V,fe,Ze)=>{const ke=O.dom.create("span",{"data-mce-bogus":1});ke.className="mce-match-marker";const bt=O.getBody();return B(O,V,!1),Ze?er(O.dom,fe,O.selection,ke):Nr(O.dom,fe,bt,ke)},Er=O=>{var V;const fe=O.parentNode;O.firstChild&&fe.insertBefore(O.firstChild,O),(V=O.parentNode)===null||V===void 0||V.removeChild(O)},An=(O,V)=>{const fe=[],Ze=Gn.toArray(O.getBody().getElementsByTagName("span"));if(Ze.length)for(let ke=0;ke<Ze.length;ke++){const bt=Bo(Ze[ke]);bt===null||!bt.length||bt===V.toString()&&fe.push(Ze[ke])}return fe},ss=(O,V,fe)=>{const Ze=V.get();let ke=Ze.index;const bt=O.dom;fe?ke+1===Ze.count?ke=0:ke++:ke-1===-1?ke=Ze.count-1:ke--,bt.removeClass(An(O,Ze.index),"mce-match-marker-selected");const dt=An(O,ke);return dt.length?(bt.addClass(An(O,ke),"mce-match-marker-selected"),O.selection.scrollIntoView(dt[0]),ke):-1},gs=(O,V)=>{const fe=V.parentNode;O.remove(V),fe&&O.isEmpty(fe)&&O.remove(fe)},Mr=(O,V)=>{const Ze="("+O.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]")+")";return V?`(?:^|\\s|${h()})`+Ze+`(?=$|\\s|${h()})`:Ze},Ot=(O,V,fe,Ze,ke,bt)=>{const dt=O.selection,mt=Mr(fe,ke),Ut=dt.isForward(),bn={regex:new RegExp(mt,Ze?"g":"gi"),matchIndex:1},Dn=tr(O,V,bn,bt);if(Nn.browser.isSafari()&&dt.setRng(dt.getRng(),Ut),Dn){const po=ss(O,V,!0);V.set({index:po,count:Dn,text:fe,matchCase:Ze,wholeWord:ke,inSelection:bt})}return Dn},$o=(O,V)=>{const fe=ss(O,V,!0);V.set({...V.get(),index:fe})},Ho=(O,V)=>{const fe=ss(O,V,!1);V.set({...V.get(),index:fe})},nr=O=>{const V=Bo(O);return V!==null&&V.length>0},N=(O,V,fe,Ze,ke)=>{const bt=V.get(),dt=bt.index;let mt,Ut=dt;Ze=Ze!==!1;const bn=O.getBody(),Dn=Gn.grep(Gn.toArray(bn.getElementsByTagName("span")),nr);for(let po=0;po<Dn.length;po++){const Ns=Bo(Dn[po]);let Ao=mt=parseInt(Ns,10);if(ke||Ao===bt.index){for(fe.length?(Dn[po].innerText=fe,Er(Dn[po])):gs(O.dom,Dn[po]);Dn[++po];)if(Ao=parseInt(Bo(Dn[po]),10),Ao===mt)gs(O.dom,Dn[po]);else{po--;break}Ze&&Ut--}else mt>dt&&Dn[po].setAttribute("data-mce-index",String(mt-1))}return V.set({...bt,count:ke?0:bt.count-1,index:Ut}),Ze?$o(O,V):Ho(O,V),!ke&&V.get().count>0},B=(O,V,fe)=>{let Ze,ke;const bt=V.get(),dt=Gn.toArray(O.getBody().getElementsByTagName("span"));for(let mt=0;mt<dt.length;mt++){const Ut=Bo(dt[mt]);Ut!==null&&Ut.length&&(Ut===bt.index.toString()&&(Ze||(Ze=dt[mt].firstChild),ke=dt[mt].firstChild),Er(dt[mt]))}if(V.set({...bt,index:-1,count:0,text:""}),Ze&&ke){const mt=O.dom.createRng();return mt.setStart(Ze,0),mt.setEnd(ke,ke.data.length),fe!==!1&&O.selection.setRng(mt),mt}else return},ne=(O,V)=>V.get().count>1,ie=(O,V)=>V.get().count>1,xt=(O,V)=>({done:mt=>B(O,V,mt),find:(mt,Ut,bn,Dn=!1)=>Ot(O,V,mt,Ut,bn,Dn),next:()=>$o(O,V),prev:()=>Ho(O,V),replace:(mt,Ut,bn)=>N(O,V,mt,Ut,bn)}),St=(O,V)=>{const fe=hn();O.undoManager.add();const Ze=Gn.trim(O.selection.getContent({format:"text"})),ke=so=>{so.setEnabled("next",ne(O,V)),so.setEnabled("prev",ie(O,V))},bt=so=>{const Jn=so.getData(),Wn=V.get();V.set({...Wn,matchCase:Jn.matchcase,wholeWord:Jn.wholewords,inSelection:Jn.inselection})},dt=(so,Jn)=>{Rt(["replace","replaceall","prev","next"],na=>so.setEnabled(na,!Jn))},mt=(so,Jn)=>{Jn.redial(ta(so,Jn.getData()))},Ut=(so,Jn)=>{Nn.browser.isSafari()&&Nn.deviceType.isTouch()&&(Jn==="find"||Jn==="replace"||Jn==="replaceall")&&so.focus(Jn)},bn=so=>{B(O,V,!1),dt(so,!0),ke(so)},Dn=so=>{const Jn=so.getData(),Wn=V.get();if(!Jn.findtext.length){bn(so);return}if(Wn.text===Jn.findtext&&Wn.matchCase===Jn.matchcase&&Wn.wholeWord===Jn.wholewords)$o(O,V);else{const Es=Ot(O,V,Jn.findtext,Jn.matchcase,Jn.wholewords,Jn.inselection);Es<=0&&mt(!0,so),dt(so,Es===0)}ke(so)},po=V.get(),Ns={findtext:Ze,replacetext:"",wholewords:po.wholeWord,matchcase:po.matchCase,inselection:po.inSelection},Ao=so=>{const Jn=[{type:"label",label:"Find",for:"findtext",items:[{type:"bar",items:[{type:"input",name:"findtext",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",enabled:!1,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",enabled:!1,borderless:!0}]}]},{type:"input",name:"replacetext",label:"Replace with",inputMode:"search"}];return so&&Jn.push({type:"alertbanner",level:"error",text:"Could not find the specified string.",icon:"warning"}),Jn},ta=(so,Jn)=>({title:"Find and Replace",size:"normal",body:{type:"panel",items:Ao(so)},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",enabled:!1},{type:"custom",name:"replaceall",text:"Replace all",enabled:!1}],initialData:Jn,onChange:(Wn,Es)=>{so&&mt(!1,Wn),Es.name==="findtext"&&V.get().count>0&&bn(Wn)},onAction:(Wn,Es)=>{const na=Wn.getData();switch(Es.name){case"find":Dn(Wn);break;case"replace":N(O,V,na.replacetext)?ke(Wn):bn(Wn);break;case"replaceall":N(O,V,na.replacetext,!0,!0),bn(Wn);break;case"prev":Ho(O,V),ke(Wn);break;case"next":$o(O,V),ke(Wn);break;case"matchcase":case"wholewords":case"inselection":mt(!1,Wn),bt(Wn),bn(Wn);break}Ut(Wn,Es.name)},onSubmit:Wn=>{Dn(Wn),Ut(Wn,"find")},onClose:()=>{O.focus(),B(O,V),O.undoManager.add()}});fe.set(O.windowManager.open(ta(!1,Ns),{inline:"toolbar"}))},qt=(O,V)=>{O.addCommand("SearchReplace",()=>{St(O,V)})},fn=(O,V)=>()=>{St(O,V)},gn=(O,V)=>{O.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:fn(O,V),icon:"search"}),O.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:fn(O,V),icon:"search",shortcut:"Meta+F"}),O.shortcuts.add("Meta+F","",fn(O,V))};var Qt=()=>{to.add("searchreplace",O=>{const V=cn({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1});return qt(O,V),gn(O,V),xt(O,V)})};Qt()})();(function(){const x=Re=>{let Qe=Re;return{get:()=>Qe,set:Se=>{Qe=Se}}};var S=tinymce.util.Tools.resolve("tinymce.PluginManager");const D=(Re,Qe)=>{Re.dispatch("VisualBlocks",{state:Qe})},F=(Re,Qe,Je)=>{Re.dom.toggleClass(Re.getBody(),"mce-visualblocks"),Je.set(!Je.get()),D(Re,Je.get())},U=(Re,Qe,Je)=>{Re.addCommand("mceVisualBlocks",()=>{F(Re,Qe,Je)})},K=Re=>Qe=>Qe.options.get(Re),J=Re=>{const Qe=Re.options.register;Qe("visualblocks_default_state",{processor:"boolean",default:!1})},X=K("visualblocks_default_state"),De=(Re,Qe,Je)=>{Re.on("PreviewFormats AfterPreviewFormats",Xe=>{Je.get()&&Re.dom.toggleClass(Re.getBody(),"mce-visualblocks",Xe.type==="afterpreviewformats")}),Re.on("init",()=>{X(Re)&&F(Re,Qe,Je)})},xe=(Re,Qe)=>Je=>{Je.setActive(Qe.get());const Xe=Se=>Je.setActive(Se.state);return Re.on("VisualBlocks",Xe),()=>Re.off("VisualBlocks",Xe)},$e=(Re,Qe)=>{const Je=()=>Re.execCommand("mceVisualBlocks");Re.ui.registry.addToggleButton("visualblocks",{icon:"visualblocks",tooltip:"Show blocks",onAction:Je,onSetup:xe(Re,Qe),context:"any"}),Re.ui.registry.addToggleMenuItem("visualblocks",{text:"Show blocks",icon:"visualblocks",onAction:Je,onSetup:xe(Re,Qe),context:"any"})};var Ue=()=>{S.add("visualblocks",(Re,Qe)=>{J(Re);const Je=x(!1);U(Re,Qe,Je),$e(Re,Je),De(Re,Qe,Je)})};Ue()})();(function(){var x=tinymce.util.Tools.resolve("tinymce.PluginManager");const S=(X,De)=>{X.focus(),X.undoManager.transact(()=>{X.setContent(De)}),X.selection.setCursorLocation(),X.nodeChanged()},D=X=>X.getContent({source_view:!0}),F=X=>{const De=D(X);X.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:De},onSubmit:xe=>{S(X,xe.getData().code),xe.close()}})},U=X=>{X.addCommand("mceCodeEditor",()=>{F(X)})},K=X=>{const De=()=>X.execCommand("mceCodeEditor");X.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:De}),X.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:De})};var J=()=>{x.add("code",X=>(U(X),K(X),{}))};J()})();(function(){const x=(E,$,Q)=>{var he;return Q(E,$.prototype)?!0:((he=E.constructor)===null||he===void 0?void 0:he.name)===$.name},S=E=>{const $=typeof E;return E===null?"null":$==="object"&&Array.isArray(E)?"array":$==="object"&&x(E,String,(Q,he)=>he.isPrototypeOf(Q))?"string":$},D=E=>$=>S($)===E,F=E=>$=>typeof $===E,U=E=>$=>E===$,K=D("string"),J=D("object"),X=D("array"),De=U(null),xe=F("boolean"),$e=U(void 0),Ue=E=>E==null,Re=E=>!Ue(E),Qe=F("function"),Je=F("number"),Xe=()=>{},Se=(E,$)=>(...Q)=>E($.apply(null,Q)),Rt=(E,$)=>Q=>E($(Q)),Oe=E=>()=>E;function ce(E,...$){return(...Q)=>{const he=$.concat(Q);return E.apply(null,he)}}const nt=Oe(!1),on=Oe(!0);class Ae{constructor($,Q){this.tag=$,this.value=Q}static some($){return new Ae(!0,$)}static none(){return Ae.singletonNone}fold($,Q){return this.tag?Q(this.value):$()}isSome(){return this.tag}isNone(){return!this.tag}map($){return this.tag?Ae.some($(this.value)):Ae.none()}bind($){return this.tag?$(this.value):Ae.none()}exists($){return this.tag&&$(this.value)}forall($){return!this.tag||$(this.value)}filter($){return!this.tag||$(this.value)?this:Ae.none()}getOr($){return this.tag?this.value:$}or($){return this.tag?this:$}getOrThunk($){return this.tag?this.value:$()}orThunk($){return this.tag?this:$()}getOrDie($){if(this.tag)return this.value;throw new Error($??"Called getOrDie on None")}static from($){return Re($)?Ae.some($):Ae.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each($){this.tag&&$(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Ae.singletonNone=new Ae(!1);const A=Array.prototype.push,Ve=(E,$)=>{const Q=E.length,he=new Array(Q);for(let wt=0;wt<Q;wt++){const Sn=E[wt];he[wt]=$(Sn,wt)}return he},rn=(E,$)=>{for(let Q=0,he=E.length;Q<he;Q++){const wt=E[Q];$(wt,Q)}},cn=(E,$)=>{const Q=[];for(let he=0,wt=E.length;he<wt;he++){const Sn=E[he];$(Sn,he)&&Q.push(Sn)}return Q},Xt=(E,$,Q)=>{for(let he=0,wt=E.length;he<wt;he++){const Sn=E[he];if($(Sn,he))return Ae.some(Sn);if(Q(Sn,he))break}return Ae.none()},hn=(E,$)=>Xt(E,$,nt),to=E=>{const $=[];for(let Q=0,he=E.length;Q<he;++Q){if(!X(E[Q]))throw new Error("Arr.flatten item "+Q+" was not an array, input: "+E);A.apply($,E[Q])}return $},ue=(E,$)=>to(Ve(E,$)),st=(E,$)=>$>=0&&$<E.length?Ae.some(E[$]):Ae.none(),h=E=>st(E,0),Nn=(E,$)=>{for(let Q=0;Q<E.length;Q++){const he=$(E[Q],Q);if(he.isSome())return he}return Ae.none()},Gn=Object.keys,Wo=(E,$)=>{const Q=Gn(E);for(let he=0,wt=Q.length;he<wt;he++){const Sn=Q[he],So=E[Sn];$(So,Sn)}},yo=E=>{let $=E;return{get:()=>$,set:wt=>{$=wt}}},Ge=typeof window<"u"?window:Function("return this;")(),Ee=(E,$,Q)=>E.isSome()&&$.isSome()?Ae.some(Q(E.getOrDie(),$.getOrDie())):Ae.none(),Dt=(E,$)=>{let Q=$??Ge;for(let he=0;he<E.length&&Q!==void 0&&Q!==null;++he)Q=Q[E[he]];return Q},de=(E,$)=>{const Q=E.split(".");return Dt(Q,$)},et=E=>{const $=yo(Ae.none()),Q=()=>$.get().each(E);return{clear:()=>{Q(),$.set(Ae.none())},isSet:()=>$.get().isSome(),get:()=>$.get(),set:Ds=>{Q(),$.set(Ae.some(Ds))}}},re=()=>et(E=>E.unbind()),_e=()=>{const E=et(Xe);return{...E,on:Q=>E.get().each(Q)}},Mn=(E,$,Q=0,he)=>{const wt=E.indexOf($,Q);return wt!==-1?$e(he)?!0:wt+$.length<=he:!1},Rn=(E,$)=>{let Q=null;return{cancel:()=>{De(Q)||(clearTimeout(Q),Q=null)},throttle:(...Sn)=>{De(Q)&&(Q=setTimeout(()=>{Q=null,E.apply(null,Sn)},$))}}},jt=E=>{let $=!1,Q;return(...he)=>($||($=!0,Q=E.apply(null,he)),Q)};var ln=tinymce.util.Tools.resolve("tinymce.PluginManager");const On=E=>({isFullscreen:()=>E.get()!==null}),Kn=(E,$)=>{const he=($||document).createElement("div");if(he.innerHTML=E,!he.hasChildNodes()||he.childNodes.length>1){const wt="HTML does not have a single root node";throw console.error(wt,E),new Error(wt)}return je(he.childNodes[0])},ve=(E,$)=>{const he=($||document).createElement(E);return je(he)},we=(E,$)=>{const he=($||document).createTextNode(E);return je(he)},je=E=>{if(E==null)throw new Error("Node cannot be null or undefined");return{dom:E}},Ft={fromHtml:Kn,fromTag:ve,fromText:we,fromDom:je,fromPoint:(E,$,Q)=>Ae.from(E.dom.elementFromPoint($,Q)).map(je)},In=9,no=11,ro=1,Ce=3,Me=(E,$)=>{const Q=E.dom;if(Q.nodeType!==ro)return!1;{const he=Q;if(he.matches!==void 0)return he.matches($);if(he.msMatchesSelector!==void 0)return he.msMatchesSelector($);if(he.webkitMatchesSelector!==void 0)return he.webkitMatchesSelector($);if(he.mozMatchesSelector!==void 0)return he.mozMatchesSelector($);throw new Error("Browser lacks native selectors")}},_t=E=>E.nodeType!==ro&&E.nodeType!==In&&E.nodeType!==no||E.childElementCount===0,Mt=(E,$)=>{const Q=$===void 0?document:$.dom;return _t(Q)?[]:Ve(Q.querySelectorAll(E),Ft.fromDom)},Jt=(E,$)=>E.dom===$.dom,_n=(E,$,Q,he)=>{const wt=E.isiOS()&&/ipad/i.test(Q)===!0,Sn=E.isiOS()&&!wt,So=E.isiOS()||E.isAndroid(),Ds=So||he("(pointer:coarse)"),rs=wt||!Sn&&So&&he("(min-device-width:768px)"),Us=Sn||So&&!rs,Ir=$.isSafari()&&E.isiOS()&&/safari/i.test(Q)===!1,Cs=!Us&&!rs&&!Ir;return{isiPad:Oe(wt),isiPhone:Oe(Sn),isTablet:Oe(rs),isPhone:Oe(Us),isTouch:Oe(Ds),isAndroid:E.isAndroid,isiOS:E.isiOS,isWebView:Oe(Ir),isDesktop:Oe(Cs)}},kt=(E,$)=>{for(let Q=0;Q<E.length;Q++){const he=E[Q];if(he.test($))return he}},en=(E,$)=>{const Q=kt(E,$);if(!Q)return{major:0,minor:0};const he=wt=>Number($.replace(Q,"$"+wt));return ge(he(1),he(2))},xo=(E,$)=>{const Q=String($).toLowerCase();return E.length===0?sn():en(E,Q)},sn=()=>ge(0,0),ge=(E,$)=>({major:E,minor:$}),He={nu:ge,detect:xo,unknown:sn},ut=(E,$)=>Nn($.brands,Q=>{const he=Q.brand.toLowerCase();return hn(E,wt=>{var Sn;return he===((Sn=wt.brand)===null||Sn===void 0?void 0:Sn.toLowerCase())}).map(wt=>({current:wt.name,version:He.nu(parseInt(Q.version,10),0)}))}),it=(E,$)=>{const Q=String($).toLowerCase();return hn(E,he=>he.search(Q))},Tn=(E,$)=>it(E,$).map(Q=>{const he=He.detect(Q.versionRegexes,$);return{current:Q.name,version:he}}),ao=(E,$)=>it(E,$).map(Q=>{const he=He.detect(Q.versionRegexes,$);return{current:Q.name,version:he}}),yn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,oo=E=>$=>Mn($,E),wo=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:E=>Mn(E,"edge/")&&Mn(E,"chrome")&&Mn(E,"safari")&&Mn(E,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,yn],search:E=>Mn(E,"chrome")&&!Mn(E,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:E=>Mn(E,"msie")||Mn(E,"trident")},{name:"Opera",versionRegexes:[yn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:oo("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:oo("firefox")},{name:"Safari",versionRegexes:[yn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:E=>(Mn(E,"safari")||Mn(E,"mobile/"))&&Mn(E,"applewebkit")}],lt=[{name:"Windows",search:oo("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:E=>Mn(E,"iphone")||Mn(E,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:oo("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:oo("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:oo("linux"),versionRegexes:[]},{name:"Solaris",search:oo("sunos"),versionRegexes:[]},{name:"FreeBSD",search:oo("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:oo("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Nt={browsers:Oe(wo),oses:Oe(lt)},mo="Edge",Ss="Chromium",Ko="IE",ot="Opera",As="Firefox",zn="Safari",Nr=()=>er({current:void 0,version:He.unknown()}),er=E=>{const $=E.current,Q=E.version,he=wt=>()=>$===wt;return{current:$,version:Q,isEdge:he(mo),isChromium:he(Ss),isIE:he(Ko),isOpera:he(ot),isFirefox:he(As),isSafari:he(zn)}},Bo={unknown:Nr,nu:er,edge:Oe(mo),chromium:Oe(Ss),ie:Oe(Ko),opera:Oe(ot),firefox:Oe(As),safari:Oe(zn)},tr="Windows",Er="iOS",An="Android",ss="Linux",gs="macOS",Mr="Solaris",Ot="FreeBSD",$o="ChromeOS",Ho=()=>nr({current:void 0,version:He.unknown()}),nr=E=>{const $=E.current,Q=E.version,he=wt=>()=>$===wt;return{current:$,version:Q,isWindows:he(tr),isiOS:he(Er),isAndroid:he(An),isMacOS:he(gs),isLinux:he(ss),isSolaris:he(Mr),isFreeBSD:he(Ot),isChromeOS:he($o)}},N={unknown:Ho,nu:nr,windows:Oe(tr),ios:Oe(Er),android:Oe(An),linux:Oe(ss),macos:Oe(gs),solaris:Oe(Mr),freebsd:Oe(Ot),chromeos:Oe($o)},ne={detect:(E,$,Q)=>{const he=Nt.browsers(),wt=Nt.oses(),Sn=$.bind(rs=>ut(he,rs)).orThunk(()=>Tn(he,E)).fold(Bo.unknown,Bo.nu),So=ao(wt,E).fold(N.unknown,N.nu),Ds=_n(So,Sn,E,Q);return{browser:Sn,os:So,deviceType:Ds}}},ie=E=>window.matchMedia(E).matches;let xt=jt(()=>ne.detect(window.navigator.userAgent,Ae.from(window.navigator.userAgentData),ie));const St=()=>xt(),qt=(E,$)=>de(E,$),fn=(E,$)=>{const Q=qt(E,$);if(Q==null)throw new Error(E+" not available on this browser");return Q},gn=Object.getPrototypeOf,Qt=E=>fn("HTMLElement",E),O=E=>{const $=de("ownerDocument.defaultView",E);return J(E)&&(Qt($).prototype.isPrototypeOf(E)||/^HTML\w*Element$/.test(gn(E).constructor.name))},V=E=>E.dom.nodeType,fe=E=>$=>V($)===E,Ze=E=>ke(E)&&O(E.dom),ke=fe(ro),bt=fe(Ce),dt=fe(no),mt=E=>Ft.fromDom(E.dom.ownerDocument),Ut=E=>Ae.from(E.dom.parentNode).map(Ft.fromDom),bn=(E,$)=>{const Q=Qe($)?$:nt;let he=E.dom;const wt=[];for(;he.parentNode!==null&&he.parentNode!==void 0;){const Sn=he.parentNode,So=Ft.fromDom(Sn);if(wt.push(So),Q(So)===!0)break;he=Sn}return wt},Dn=E=>{const $=Q=>cn(Q,he=>!Jt(E,he));return Ut(E).map(Ns).map($).getOr([])},po=E=>Ae.from(E.dom.nextSibling).map(Ft.fromDom),Ns=E=>Ve(E.dom.childNodes,Ft.fromDom),Ao=E=>dt(E)&&Re(E.dom.host),ta=E=>Ft.fromDom(E.dom.getRootNode()),so=E=>{const $=ta(E);return Ao($)?Ae.some($):Ae.none()},Jn=E=>Ft.fromDom(E.dom.host),Wn=E=>{if(Re(E.target)){const $=Ft.fromDom(E.target);if(ke($)&&Es($)&&E.composed&&E.composedPath){const Q=E.composedPath();if(Q)return h(Q)}}return Ae.from(E.target)},Es=E=>Re(E.dom.shadowRoot),na=(E,$,Q,he,wt,Sn,So)=>({target:E,x:$,y:Q,stop:he,prevent:wt,kill:Sn,raw:So}),Vs=E=>{const $=Ft.fromDom(Wn(E).getOr(E.target)),Q=()=>E.stopPropagation(),he=()=>E.preventDefault(),wt=Se(he,Q);return na($,E.clientX,E.clientY,Q,he,wt,E)},kn=(E,$)=>Q=>{E(Q)&&$(Vs(Q))},nc=(E,$,Q,he,wt)=>{const Sn=kn(Q,he);return E.dom.addEventListener($,Sn,wt),{unbind:ce(fa,E,$,Sn,wt)}},oa=(E,$,Q,he)=>nc(E,$,Q,he,!1),fa=(E,$,Q,he)=>{E.dom.removeEventListener($,Q,he)},Ms=on,ba=(E,$,Q)=>oa(E,$,Ms,Q),Eo=(E,$,Q)=>{if(K(Q)||xe(Q)||Je(Q))E.setAttribute($,Q+"");else throw console.error("Invalid call to Attribute.set. Key ",$,":: Value ",Q,":: Element ",E),new Error("Attribute value was not simple")},ps=(E,$,Q)=>{Eo(E.dom,$,Q)},or=(E,$)=>{const Q=E.dom.getAttribute($);return Q===null?void 0:Q},cs=(E,$)=>{E.dom.removeAttribute($)},va=E=>E.style!==void 0&&Qe(E.style.getPropertyValue),sr=E=>{const $=bt(E)?E.dom.parentNode:E.dom;if($==null||$.ownerDocument===null)return!1;const Q=$.ownerDocument;return so(Ft.fromDom($)).fold(()=>Q.body.contains($),Rt(sr,Jn))},fr=E=>{const $=E.dom.body;if($==null)throw new Error("Body is not available yet");return Ft.fromDom($)},rr=(E,$,Q)=>{if(!K(Q))throw console.error("Invalid call to CSS.set. Property ",$,":: Value ",Q,":: Element ",E),new Error("CSS value must be a string: "+Q);va(E)&&E.style.setProperty($,Q)},ya=(E,$,Q)=>{const he=E.dom;rr(he,$,Q)},zs=(E,$)=>{const Q=E.dom;Wo($,(he,wt)=>{rr(Q,wt,he)})},_r=(E,$)=>{const Q=E.dom,wt=window.getComputedStyle(Q).getPropertyValue($);return wt===""&&!sr(E)?_s(Q,$):wt},_s=(E,$)=>va(E)?E.style.getPropertyValue($):"",Vr=(E,$)=>({left:E,top:$,translate:(he,wt)=>Vr(E+he,$+wt)}),oc=Vr,Mc=E=>{const $=E!==void 0?E.dom:document,Q=$.body.scrollLeft||$.documentElement.scrollLeft,he=$.body.scrollTop||$.documentElement.scrollTop;return oc(Q,he)},ar=E=>E.dom.classList!==void 0,Pa=(E,$)=>ar(E)&&E.dom.classList.contains($),Dr=(E,$,Q)=>cn(bn(E,Q),$),ti=(E,$)=>cn(Dn(E),$),Be=E=>Mt(E),xa=(E,$,Q)=>Dr(E,he=>Me(he,$),Q),_c=(E,$)=>ti(E,Q=>Me(Q,$)),C=E=>{const $=E===void 0?window:E;return St().browser.isFirefox()?Ae.none():Ae.from($.visualViewport)},I=(E,$,Q,he)=>({x:E,y:$,width:Q,height:he,right:E+Q,bottom:$+he}),q=E=>{const $=E===void 0?window:E,Q=$.document,he=Mc(Ft.fromDom(Q));return C($).fold(()=>{const wt=$.document.documentElement,Sn=wt.clientWidth,So=wt.clientHeight;return I(he.left,he.top,Sn,So)},wt=>I(Math.max(wt.pageLeft,he.left),Math.max(wt.pageTop,he.top),wt.width,wt.height))},me=(E,$,Q)=>C(Q).map(he=>{const wt=Sn=>$(Vs(Sn));return he.addEventListener(E,wt),{unbind:()=>he.removeEventListener(E,wt)}}).getOrThunk(()=>({unbind:Xe}));var Le=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),tt=tinymce.util.Tools.resolve("tinymce.Env");const un=(E,$)=>{E.dispatch("FullscreenStateChanged",{state:$}),E.dispatch("ResizeEditor")},fo=E=>$=>$.options.get(E),Ln=E=>{const $=E.options.register;$("fullscreen_native",{processor:"boolean",default:!1})},b=fo("fullscreen_native"),k=E=>{const $=Ft.fromDom(E.getElement());return so($).map(Jn).getOrThunk(()=>fr(mt($)))},P=E=>E.fullscreenElement!==void 0?E.fullscreenElement:E.msFullscreenElement!==void 0?E.msFullscreenElement:E.webkitFullscreenElement!==void 0?E.webkitFullscreenElement:null,te=()=>document.fullscreenElement!==void 0?"fullscreenchange":document.msFullscreenElement!==void 0?"MSFullscreenChange":document.webkitFullscreenElement!==void 0?"webkitfullscreenchange":"fullscreenchange",rt=E=>{const $=E.dom;$.requestFullscreen?$.requestFullscreen():$.msRequestFullscreen?$.msRequestFullscreen():$.webkitRequestFullScreen&&$.webkitRequestFullScreen()},xn=E=>{const $=E.dom;$.exitFullscreen?$.exitFullscreen():$.msExitFullscreen?$.msExitFullscreen():$.webkitCancelFullScreen&&$.webkitCancelFullScreen()},qn=E=>E.dom===P(mt(E).dom),Yo="data-ephox-mobile-fullscreen-style",Jo="display:none!important;",Zs="position:absolute!important;",dn="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",zr="background-color:rgb(255,255,255)!important;",Ba=tt.os.isAndroid(),Ei=E=>{const $=_r(E,"background-color");return $!==void 0&&$!==""?"background-color:"+$+"!important":zr},ni=(E,$,Q)=>{const he=Us=>_c(Us,"*:not(.tox-silver-sink)"),wt=Us=>Ir=>{const Cs=or(Ir,"style"),Za=Cs===void 0?"no-styles":Cs.trim();Za!==Us&&(ps(Ir,Yo,Za),zs(Ir,E.parseStyle(Us)))},Sn=xa($,"*"),So=ue(Sn,he),Ds=Ei(Q);rn(So,wt(Jo)),rn(Sn,wt(Zs+dn+Ds)),wt((Ba===!0?"":Zs)+dn+Ds)($)},oi=E=>{const $=Be("["+Yo+"]");rn($,Q=>{const he=or(Q,Yo);he&&he!=="no-styles"?zs(Q,E.parseStyle(he)):cs(Q,"style"),cs(Q,Yo)})},cr=Le.DOM,Na=()=>q(window),Va=E=>window.scrollTo(E.x,E.y),sc=C().fold(()=>({bind:Xe,unbind:Xe}),E=>{const $=_e(),Q=re(),he=re(),wt=()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0},Sn=()=>{window.requestAnimationFrame(()=>{$.on(Us=>zs(Us,{top:E.offsetTop+"px",left:E.offsetLeft+"px",height:E.height+"px",width:E.width+"px"}))})},So=Rn(()=>{wt(),Sn()},50);return{bind:Us=>{$.set(Us),So.throttle(),Q.set(me("resize",So.throttle)),he.set(me("scroll",So.throttle))},unbind:()=>{$.on(()=>{Q.clear(),he.clear()}),$.clear()}}}),si=(E,$)=>{const Q=document.body,he=document.documentElement,wt=E.getContainer(),Sn=Ft.fromDom(wt),So=po(Sn).filter(Fs=>Ze(Fs)&&Pa(Fs,"tox-silver-sink")),Ds=k(E),rs=$.get(),Us=Ft.fromDom(E.getBody()),Ir=tt.deviceType.isTouch(),Cs=wt.style,Za=E.iframeElement,Ua=Za==null?void 0:Za.style,Fc=Fs=>{Fs(Q,"tox-fullscreen"),Fs(he,"tox-fullscreen"),Fs(wt,"tox-fullscreen"),so(Sn).map(Zr=>Jn(Zr).dom).each(Zr=>{Fs(Zr,"tox-fullscreen"),Fs(Zr,"tox-shadowhost")})},ai=()=>{Ir&&oi(E.dom),Fc(cr.removeClass),sc.unbind(),Ae.from($.get()).each(Fs=>Fs.fullscreenChangeHandler.unbind())};if(rs)rs.fullscreenChangeHandler.unbind(),b(E)&&qn(Ds)&&xn(mt(Ds)),Ua.width=rs.iframeWidth,Ua.height=rs.iframeHeight,Cs.width=rs.containerWidth,Cs.height=rs.containerHeight,Cs.top=rs.containerTop,Cs.left=rs.containerLeft,Ee(So,rs.sinkCssPosition,(Fs,Zr)=>{ya(Fs,"position",Zr)}),ai(),Va(rs.scrollPos),$.set(null),un(E,!1),E.off("remove",ai);else{const Fs=ba(mt(Ds),te(),ci=>{b(E)&&!qn(Ds)&&$.get()!==null&&si(E,$)}),Zr={scrollPos:Na(),containerWidth:Cs.width,containerHeight:Cs.height,containerTop:Cs.top,containerLeft:Cs.left,iframeWidth:Ua.width,iframeHeight:Ua.height,fullscreenChangeHandler:Fs,sinkCssPosition:So.map(ci=>_r(ci,"position"))};Ir&&ni(E.dom,Sn,Us),Ua.width=Ua.height="100%",Cs.width=Cs.height="",Fc(cr.addClass),So.each(ci=>{ya(ci,"position","fixed")}),sc.bind(Sn),E.on("remove",ai),$.set(Zr),b(E)&&rt(Ds),un(E,!0)}},ri=(E,$)=>{E.addCommand("mceFullScreen",()=>{si(E,$)})};var sl=tinymce.util.Tools.resolve("tinymce.util.VK");const sa=(E,$)=>{E.on("init",()=>{E.on("keydown",Q=>{Q.keyCode===sl.TAB&&!(Q.metaKey||Q.ctrlKey)&&$.get()&&Q.preventDefault()})})},Fr=(E,$)=>Q=>{Q.setActive($.get()!==null);const he=wt=>Q.setActive(wt.state);return E.on("FullscreenStateChanged",he),()=>E.off("FullscreenStateChanged",he)},za=(E,$)=>{const Q=()=>E.execCommand("mceFullScreen");E.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:Q,onSetup:Fr(E,$),context:"any"}),E.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:Q,onSetup:Fr(E,$),shortcut:"Meta+Shift+F",context:"any"})};var Dc=()=>{ln.add("fullscreen",E=>{const $=yo(null);return E.inline||(Ln(E),ri(E,$),za(E,$),sa(E,$),E.addShortcut("Meta+Shift+F","","mceFullScreen")),On($)})};Dc()})();(function(){var x=tinymce.util.Tools.resolve("tinymce.PluginManager");const S=Ae=>A=>A.options.get(Ae),D=Ae=>{const A=Ae.options.register;A("insertdatetime_dateformat",{processor:"string",default:Ae.translate("%Y-%m-%d")}),A("insertdatetime_timeformat",{processor:"string",default:Ae.translate("%H:%M:%S")}),A("insertdatetime_formats",{processor:"string[]",default:["%H:%M:%S","%Y-%m-%d","%I:%M:%S %p","%D"]}),A("insertdatetime_element",{processor:"boolean",default:!1})},F=S("insertdatetime_dateformat"),U=S("insertdatetime_timeformat"),K=S("insertdatetime_formats"),J=S("insertdatetime_element"),X=Ae=>{const A=K(Ae);return A.length>0?A[0]:U(Ae)},De="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),xe="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),$e="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Ue="January February March April May June July August September October November December".split(" "),Re=(Ae,A)=>{if(Ae=""+Ae,Ae.length<A)for(let Ve=0;Ve<A-Ae.length;Ve++)Ae="0"+Ae;return Ae},Qe=(Ae,A,Ve=new Date)=>(A=A.replace("%D","%m/%d/%Y"),A=A.replace("%r","%I:%M:%S %p"),A=A.replace("%Y",""+Ve.getFullYear()),A=A.replace("%y",""+Ve.getYear()),A=A.replace("%m",Re(Ve.getMonth()+1,2)),A=A.replace("%d",Re(Ve.getDate(),2)),A=A.replace("%H",""+Re(Ve.getHours(),2)),A=A.replace("%M",""+Re(Ve.getMinutes(),2)),A=A.replace("%S",""+Re(Ve.getSeconds(),2)),A=A.replace("%I",""+((Ve.getHours()+11)%12+1)),A=A.replace("%p",Ve.getHours()<12?"AM":"PM"),A=A.replace("%B",""+Ae.translate(Ue[Ve.getMonth()])),A=A.replace("%b",""+Ae.translate($e[Ve.getMonth()])),A=A.replace("%A",""+Ae.translate(xe[Ve.getDay()])),A=A.replace("%a",""+Ae.translate(De[Ve.getDay()])),A=A.replace("%%","%"),A),Je=(Ae,A,Ve,rn)=>{const cn=Ae.dom.create("time",{datetime:Ve},rn);Ae.dom.replace(cn,A),Ae.selection.select(cn,!0),Ae.selection.collapse(!1)},Xe=(Ae,A)=>{if(J(Ae)&&Ae.selection.isEditable()){const Ve=Qe(Ae,A);let rn;/%[HMSIp]/.test(A)?rn=Qe(Ae,"%Y-%m-%dT%H:%M"):rn=Qe(Ae,"%Y-%m-%d");const cn=Ae.dom.getParent(Ae.selection.getStart(),"time");cn?Je(Ae,cn,rn,Ve):Ae.insertContent('<time datetime="'+rn+'">'+Ve+"</time>")}else Ae.insertContent(Qe(Ae,A))},Se=Ae=>{Ae.addCommand("mceInsertDate",(A,Ve)=>{Xe(Ae,Ve??F(Ae))}),Ae.addCommand("mceInsertTime",(A,Ve)=>{Xe(Ae,Ve??U(Ae))})},Rt=Ae=>{let A=Ae;return{get:()=>A,set:cn=>{A=cn}}};var Oe=tinymce.util.Tools.resolve("tinymce.util.Tools");const ce=Ae=>A=>{const Ve=()=>{A.setEnabled(Ae.selection.isEditable())};return Ae.on("NodeChange",Ve),Ve(),()=>{Ae.off("NodeChange",Ve)}},nt=Ae=>{const A=K(Ae),Ve=Rt(X(Ae)),rn=Xt=>Ae.execCommand("mceInsertDate",!1,Xt);Ae.ui.registry.addSplitButton("insertdatetime",{icon:"insert-time",tooltip:"Insert date/time",select:Xt=>Xt===Ve.get(),fetch:Xt=>{Xt(Oe.map(A,hn=>({type:"choiceitem",text:Qe(Ae,hn),value:hn})))},onAction:Xt=>{rn(Ve.get())},onItemAction:(Xt,hn)=>{Ve.set(hn),rn(hn)},onSetup:ce(Ae)});const cn=Xt=>()=>{Ve.set(Xt),rn(Xt)};Ae.ui.registry.addNestedMenuItem("insertdatetime",{icon:"insert-time",text:"Date/time",getSubmenuItems:()=>Oe.map(A,Xt=>({type:"menuitem",text:Qe(Ae,Xt),onAction:cn(Xt)})),onSetup:ce(Ae)})};var on=()=>{x.add("insertdatetime",Ae=>{D(Ae),Se(Ae),nt(Ae)})};on()})();(function(){var x=tinymce.util.Tools.resolve("tinymce.PluginManager");const S=(N,B,ne)=>{var ie;return ne(N,B.prototype)?!0:((ie=N.constructor)===null||ie===void 0?void 0:ie.name)===B.name},D=N=>{const B=typeof N;return N===null?"null":B==="object"&&Array.isArray(N)?"array":B==="object"&&S(N,String,(ne,ie)=>ie.isPrototypeOf(ne))?"string":B},F=N=>B=>D(B)===N,U=F("string"),K=F("object"),J=F("array"),X=N=>N==null,De=N=>!X(N);class xe{constructor(B,ne){this.tag=B,this.value=ne}static some(B){return new xe(!0,B)}static none(){return xe.singletonNone}fold(B,ne){return this.tag?ne(this.value):B()}isSome(){return this.tag}isNone(){return!this.tag}map(B){return this.tag?xe.some(B(this.value)):xe.none()}bind(B){return this.tag?B(this.value):xe.none()}exists(B){return this.tag&&B(this.value)}forall(B){return!this.tag||B(this.value)}filter(B){return!this.tag||B(this.value)?this:xe.none()}getOr(B){return this.tag?this.value:B}or(B){return this.tag?this:B}getOrThunk(B){return this.tag?this.value:B()}orThunk(B){return this.tag?this:B()}getOrDie(B){if(this.tag)return this.value;throw new Error(B??"Called getOrDie on None")}static from(B){return De(B)?xe.some(B):xe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(B){this.tag&&B(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}xe.singletonNone=new xe(!1);const $e=Array.prototype.push,Ue=(N,B)=>{for(let ne=0,ie=N.length;ne<ie;ne++){const xt=N[ne];B(xt,ne)}},Re=N=>{const B=[];for(let ne=0,ie=N.length;ne<ie;++ne){if(!J(N[ne]))throw new Error("Arr.flatten item "+ne+" was not an array, input: "+N);$e.apply(B,N[ne])}return B},Qe=Object.keys,Je=Object.hasOwnProperty,Xe=(N,B)=>{const ne=Qe(N);for(let ie=0,xt=ne.length;ie<xt;ie++){const St=ne[ie],qt=N[St];B(qt,St)}},Se=(N,B)=>Rt(N,B)?xe.from(N[B]):xe.none(),Rt=(N,B)=>Je.call(N,B),Oe=N=>{let B=N;return{get:()=>B,set:xt=>{B=xt}}},ce=(N,B,ne)=>B===""||N.length>=B.length&&N.substr(ne,ne+B.length)===B,nt=(N,B)=>ce(N,B,0),on=N=>B=>B.options.get(N),Ae=N=>{const B=N.options.register;B("audio_template_callback",{processor:"function"}),B("video_template_callback",{processor:"function"}),B("iframe_template_callback",{processor:"function"}),B("media_live_embeds",{processor:"boolean",default:!0}),B("media_filter_html",{processor:"boolean",default:!0}),B("media_url_resolver",{processor:"function"}),B("media_alt_source",{processor:"boolean",default:!0}),B("media_poster",{processor:"boolean",default:!0}),B("media_dimensions",{processor:"boolean",default:!0})},A=on("audio_template_callback"),Ve=on("video_template_callback"),rn=on("iframe_template_callback"),cn=on("media_live_embeds"),Xt=on("media_filter_html"),hn=on("media_url_resolver"),to=on("media_alt_source"),ue=on("media_poster"),st=on("media_dimensions");var h=tinymce.util.Tools.resolve("tinymce.util.Tools"),Nn=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Gn=tinymce.util.Tools.resolve("tinymce.html.DomParser");const Wo=Nn.DOM,yo=N=>N.replace(/px$/,""),Ge=N=>{const B=N.attr("style"),ne=B?Wo.parseStyle(B):{};return{type:"ephox-embed-iri",source:N.attr("data-ephox-embed-iri"),altsource:"",poster:"",width:Se(ne,"max-width").map(yo).getOr(""),height:Se(ne,"max-height").map(yo).getOr("")}},Ee=(N,B)=>{let ne={};const xt=Gn({validate:!1,forced_root_block:!1},B).parse(N);for(let St=xt;St;St=St.walk())if(St.type===1){const qt=St.name;if(St.attr("data-ephox-embed-iri")){ne=Ge(St);break}else!ne.source&&qt==="param"&&(ne.source=St.attr("movie")),(qt==="iframe"||qt==="object"||qt==="embed"||qt==="video"||qt==="audio")&&(ne.type||(ne.type=qt),ne=h.extend(St.attributes.map,ne)),qt==="source"&&(ne.source?ne.altsource||(ne.altsource=St.attr("src")):ne.source=St.attr("src")),qt==="img"&&!ne.poster&&(ne.poster=St.attr("src"))}return ne.source=ne.source||ne.src||"",ne.altsource=ne.altsource||"",ne.poster=ne.poster||"",ne},Dt=N=>{var B;const ne={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},ie=(B=N.toLowerCase().split(".").pop())!==null&&B!==void 0?B:"";return Se(ne,ie).getOr("")};var de=tinymce.util.Tools.resolve("tinymce.html.Node"),et=tinymce.util.Tools.resolve("tinymce.html.Serializer");const re=(N,B={})=>Gn({forced_root_block:!1,validate:!1,allow_conditional_comments:!0,...B},N),_e=Nn.DOM,Mn=N=>/^[0-9.]+$/.test(N)?N+"px":N,Rn=(N,B)=>{const ne=B.attr("style"),ie=ne?_e.parseStyle(ne):{};De(N.width)&&(ie["max-width"]=Mn(N.width)),De(N.height)&&(ie["max-height"]=Mn(N.height)),B.attr("style",_e.serializeStyle(ie))},jt=["source","altsource"],ln=(N,B,ne,ie)=>{let xt=0,St=0;const qt=re(ie);qt.addNodeFilter("source",gn=>xt=gn.length);const fn=qt.parse(N);for(let gn=fn;gn;gn=gn.walk())if(gn.type===1){const Qt=gn.name;if(gn.attr("data-ephox-embed-iri")){Rn(B,gn);break}else{switch(Qt){case"video":case"object":case"embed":case"img":case"iframe":B.height!==void 0&&B.width!==void 0&&(gn.attr("width",B.width),gn.attr("height",B.height));break}if(ne)switch(Qt){case"video":gn.attr("poster",B.poster),gn.attr("src",null);for(let V=xt;V<2;V++)if(B[jt[V]]){const fe=new de("source",1);fe.attr("src",B[jt[V]]),fe.attr("type",B[jt[V]+"mime"]||null),gn.append(fe)}break;case"iframe":gn.attr("src",B.source);break;case"object":const O=gn.getAll("img").length>0;if(B.poster&&!O){gn.attr("src",B.poster);const V=new de("img",1);V.attr("src",B.poster),V.attr("width",B.width),V.attr("height",B.height),gn.append(V)}break;case"source":if(St<2&&(gn.attr("src",B[jt[St]]),gn.attr("type",B[jt[St]+"mime"]||null),!B[jt[St]])){gn.remove();continue}St++;break;case"img":B.poster||gn.remove();break}}}return et({},ie).serialize(fn)},On=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?h=$2&title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?h=$3&title=0&amp;byline=0",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],Kn=N=>{const B=N.match(/^(https?:\/\/|www\.)(.+)$/i);return B&&B.length>1?B[1]==="www."?"https://":B[1]:"https://"},ve=(N,B)=>{const ne=Kn(B),ie=N.regex.exec(B);let xt=ne+N.url;if(De(ie))for(let St=0;St<ie.length;St++)xt=xt.replace("$"+St,()=>ie[St]?ie[St]:"");return xt.replace(/\?$/,"")},we=N=>{const B=On.filter(ne=>ne.regex.test(N));return B.length>0?h.extend({},B[0],{url:ve(B[0],N)}):null},je=(N,B)=>{if(B)return B(N);{const ne=N.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+N.source+'" width="'+N.width+'" height="'+N.height+'"'+ne+"></iframe>"}},Tt=N=>{let B='<object data="'+N.source+'" width="'+N.width+'" height="'+N.height+'" type="application/x-shockwave-flash">';return N.poster&&(B+='<img src="'+N.poster+'" width="'+N.width+'" height="'+N.height+'" />'),B+="</object>",B},Ft=(N,B)=>B?B(N):'<audio controls="controls" src="'+N.source+'">'+(N.altsource?`
<source src="`+N.altsource+'"'+(N.altsourcemime?' type="'+N.altsourcemime+'"':"")+` />
`:"")+"</audio>",In=(N,B)=>B?B(N):'<video width="'+N.width+'" height="'+N.height+'"'+(N.poster?' poster="'+N.poster+'"':"")+` controls="controls">
<source src="`+N.source+'"'+(N.sourcemime?' type="'+N.sourcemime+'"':"")+` />
`+(N.altsource?'<source src="'+N.altsource+'"'+(N.altsourcemime?' type="'+N.altsourcemime+'"':"")+` />
`:"")+"</video>",no=(N,B)=>{var ne;const ie=h.extend({},B);if(!ie.source&&(h.extend(ie,Ee((ne=ie.embed)!==null&&ne!==void 0?ne:"",N.schema)),!ie.source))return"";ie.altsource||(ie.altsource=""),ie.poster||(ie.poster=""),ie.source=N.convertURL(ie.source,"source"),ie.altsource=N.convertURL(ie.altsource,"source"),ie.sourcemime=Dt(ie.source),ie.altsourcemime=Dt(ie.altsource),ie.poster=N.convertURL(ie.poster,"poster");const xt=we(ie.source);if(xt&&(ie.source=xt.url,ie.type=xt.type,ie.allowfullscreen=xt.allowFullscreen,ie.width=ie.width||String(xt.w),ie.height=ie.height||String(xt.h)),ie.embed)return ln(ie.embed,ie,!0,N.schema);{const St=A(N),qt=Ve(N),fn=rn(N);return ie.width=ie.width||"300",ie.height=ie.height||"150",h.each(ie,(gn,Qt)=>{ie[Qt]=N.dom.encode(""+gn)}),ie.type==="iframe"?je(ie,fn):ie.sourcemime==="application/x-shockwave-flash"?Tt(ie):ie.sourcemime.indexOf("audio")!==-1?Ft(ie,St):In(ie,qt)}},ro=N=>N.hasAttribute("data-mce-object")||N.hasAttribute("data-ephox-embed-iri"),Ce=N=>{N.on("mousedown",B=>{const ne=N.dom.getParent(B.target,".mce-preview-object");ne&&N.dom.getAttrib(ne,"data-mce-selected")==="2"&&B.stopImmediatePropagation()}),N.on("click keyup touchend",()=>{const B=N.selection.getNode();B&&N.dom.hasClass(B,"mce-preview-object")&&N.dom.getAttrib(B,"data-mce-selected")&&B.setAttribute("data-mce-selected","2")}),N.on("ObjectResized",B=>{const ne=B.target;if(ne.getAttribute("data-mce-object")){let ie=ne.getAttribute("data-mce-html");ie&&(ie=unescape(ie),ne.setAttribute("data-mce-html",escape(ln(ie,{width:String(B.width),height:String(B.height)},!1,N.schema))))}})},Me={},_t=(N,B,ne)=>new Promise((ie,xt)=>{const St=qt=>(qt.html&&(Me[N.source]=qt),ie({url:N.source,html:qt.html?qt.html:B(N)}));Me[N.source]?St(Me[N.source]):ne({url:N.source}).then(St).catch(xt)}),Mt=(N,B)=>Promise.resolve({html:B(N),url:N.source}),Jt=N=>B=>no(N,B),_n=(N,B)=>{const ne=hn(N);return ne?_t(B,Jt(N),ne):Mt(B,Jt(N))},kt=N=>Rt(Me,N),en=(N,B)=>Se(B,N).bind(ne=>Se(ne,"meta")),xo=(N,B,ne)=>ie=>{const xt=()=>Se(N,ie),St=()=>Se(B,ie),qt=Qt=>Se(Qt,"value").bind(O=>O.length>0?xe.some(O):xe.none()),fn=()=>xt().bind(Qt=>K(Qt)?qt(Qt).orThunk(St):St().orThunk(()=>xe.from(Qt))),gn=()=>St().orThunk(()=>xt().bind(Qt=>K(Qt)?qt(Qt):xe.from(Qt)));return{[ie]:(ie===ne?fn():gn()).getOr("")}},sn=(N,B)=>{const ne={};return Se(N,"dimensions").each(ie=>{Ue(["width","height"],xt=>{Se(B,xt).orThunk(()=>Se(ie,xt)).each(St=>ne[xt]=St)})}),ne},ge=(N,B)=>{const ne=B&&B!=="dimensions"?en(B,N).getOr({}):{},ie=xo(N,ne,B);return{...ie("source"),...ie("altsource"),...ie("poster"),...ie("embed"),...sn(N,ne)}},He=N=>{const B={...N,source:{value:Se(N,"source").getOr("")},altsource:{value:Se(N,"altsource").getOr("")},poster:{value:Se(N,"poster").getOr("")}};return Ue(["width","height"],ne=>{Se(N,ne).each(ie=>{const xt=B.dimensions||{};xt[ne]=ie,B.dimensions=xt})}),B},ut=N=>B=>{const ne=B&&B.msg?"Media embed handler error: "+B.msg:"Media embed handler threw unknown error.";N.notificationManager.open({type:"error",text:ne})},it=N=>{const B=N.selection.getNode(),ne=ro(B)?N.serializer.serialize(B,{selection:!0}):"",ie=Ee(ne,N.schema),St=(()=>{if(oo(ie.source,ie.type)){const qt=N.dom.getRect(B);return{width:qt.w.toString().replace(/px$/,""),height:qt.h.toString().replace(/px$/,"")}}else return{}})();return{embed:ne,...ie,...St}},Tn=(N,B)=>ne=>{if(U(ne.url)&&ne.url.trim().length>0){const ie=ne.html,St={...Ee(ie,B.schema),source:ne.url,embed:ie};N.setData(He(St))}},ao=(N,B)=>{const ne=N.dom.select("*[data-mce-object]");for(let ie=0;ie<B.length;ie++)for(let xt=ne.length-1;xt>=0;xt--)B[ie]===ne[xt]&&ne.splice(xt,1);N.selection.select(ne[0])},yn=(N,B)=>{const ne=N.dom.select("*[data-mce-object]");N.insertContent(B),ao(N,ne),N.nodeChanged()},oo=(N,B)=>De(B)&&B==="ephox-embed-iri"&&De(we(N)),wo=(N,B)=>((ie,xt)=>ie.width!==xt.width||ie.height!==xt.height)(N,B)&&oo(B.source,N.type),lt=(N,B,ne)=>{var ie;B.embed=wo(N,B)&&st(ne)?no(ne,{...B,embed:""}):ln((ie=B.embed)!==null&&ie!==void 0?ie:"",B,!1,ne.schema),B.embed&&(N.source===B.source||kt(B.source))?yn(ne,B.embed):_n(ne,B).then(xt=>{yn(ne,xt.html)}).catch(ut(ne))},Nt=N=>{const B=it(N),ne=Oe(B),ie=He(B),xt=(mt,Ut)=>{const bn=ge(Ut.getData(),"source");mt.source!==bn.source&&(Tn(dt,N)({url:bn.source,html:""}),_n(N,bn).then(Tn(dt,N)).catch(ut(N)))},St=mt=>{var Ut;const bn=ge(mt.getData()),Dn=Ee((Ut=bn.embed)!==null&&Ut!==void 0?Ut:"",N.schema);mt.setData(He(Dn))},qt=(mt,Ut,bn)=>{const Dn=ge(mt.getData(),Ut),po=wo(bn,Dn)&&st(N)?{...Dn,embed:""}:Dn,Ns=no(N,po);mt.setData(He({...po,embed:Ns}))},fn=[{name:"source",type:"urlinput",filetype:"media",label:"Source",picker_text:"Browse files"}],gn=st(N)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],Qt={title:"General",name:"general",items:Re([fn,gn])},V={title:"Embed",items:[{type:"textarea",name:"embed",label:"Paste your embed code below:"}]},fe=[];to(N)&&fe.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),ue(N)&&fe.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});const Ze={title:"Advanced",name:"advanced",items:fe},ke=[Qt,V];fe.length>0&&ke.push(Ze);const bt={type:"tabpanel",tabs:ke},dt=N.windowManager.open({title:"Insert/Edit Media",size:"normal",body:bt,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:mt=>{const Ut=ge(mt.getData());lt(ne.get(),Ut,N),mt.close()},onChange:(mt,Ut)=>{switch(Ut.name){case"source":xt(ne.get(),mt);break;case"embed":St(mt);break;case"dimensions":case"altsource":case"poster":qt(mt,Ut.name,ne.get());break}ne.set(ge(mt.getData()))},initialData:ie})},mo=N=>({showDialog:()=>{Nt(N)}}),Ss=N=>{const B=()=>{Nt(N)};N.addCommand("mceMedia",B)};var Ko=tinymce.util.Tools.resolve("tinymce.Env");const ot=N=>{const B=N.name;return B==="iframe"||B==="video"||B==="audio"},As=(N,B,ne,ie=null)=>{const xt=N.attr(ne);return De(xt)?xt:Rt(B,ne)?null:ie},zn=(N,B,ne)=>{const ie=B.name==="img"||N.name==="video",xt=ie?"300":null,St=N.name==="audio"?"30":"150",qt=ie?St:null;B.attr({width:As(N,ne,"width",xt),height:As(N,ne,"height",qt)})},Nr=(N,B,ne,ie)=>{const xt=re(N.schema).parse(ie,{context:B});for(;xt.firstChild;)ne.append(xt.firstChild)},er=(N,B)=>{const ne=B.name,ie=new de("img",1);return tr(N,B,ie),zn(B,ie,{}),ie.attr({style:B.attr("style"),src:Ko.transparentSrc,"data-mce-object":ne,class:"mce-object mce-object-"+ne}),ie},Bo=(N,B)=>{var ne;const ie=B.name,xt=new de("span",1);xt.attr({contentEditable:"false",style:B.attr("style"),"data-mce-object":ie,class:"mce-preview-object mce-object-"+ie}),tr(N,B,xt);const St=N.dom.parseStyle((ne=B.attr("style"))!==null&&ne!==void 0?ne:""),qt=new de(ie,1);if(zn(B,qt,St),qt.attr({src:B.attr("src"),style:B.attr("style"),class:B.attr("class")}),ie==="iframe")qt.attr({allowfullscreen:B.attr("allowfullscreen"),frameborder:"0",sandbox:B.attr("sandbox"),referrerpolicy:B.attr("referrerpolicy")});else{Ue(["controls","crossorigin","currentTime","loop","muted","poster","preload"],O=>{qt.attr(O,B.attr(O))});const Qt=xt.attr("data-mce-html");De(Qt)&&Nr(N,ie,qt,unescape(Qt))}const fn=new de("span",1);return fn.attr("class","mce-shim"),xt.append(qt),xt.append(fn),xt},tr=(N,B,ne)=>{var ie;const xt=(ie=B.attributes)!==null&&ie!==void 0?ie:[];let St=xt.length;for(;St--;){const Qt=xt[St].name;let O=xt[St].value;Qt!=="width"&&Qt!=="height"&&Qt!=="style"&&!nt(Qt,"data-mce-")&&((Qt==="data"||Qt==="src")&&(O=N.convertURL(O,Qt)),ne.attr("data-mce-p-"+Qt,O))}const qt=et({inner:!0},N.schema),fn=new de("div",1);Ue(B.children(),Qt=>fn.append(Qt));const gn=qt.serialize(fn);gn&&(ne.attr("data-mce-html",escape(gn)),ne.empty())},Er=N=>{const B=N.attr("class");return U(B)&&/\btiny-pageembed\b/.test(B)},An=N=>{let B=N;for(;B=B.parent;)if(B.attr("data-ephox-embed-iri")||Er(B))return!0;return!1},ss=N=>B=>{let ne=B.length,ie;for(;ne--;)ie=B[ne],ie.parent&&(ie.parent.attr("data-mce-object")||(ot(ie)&&cn(N)?An(ie)||ie.replace(Bo(N,ie)):An(ie)||ie.replace(er(N,ie))))},gs=(N,B,ne)=>{const ie=N.options.get,xt=ie("xss_sanitization"),St=Xt(N);return re(N.schema,{sanitize:xt,validate:St}).parse(ne,{context:B})},Mr=N=>{N.on("PreInit",()=>{const{schema:B,serializer:ne,parser:ie}=N,xt=B.getBoolAttrs();Ue("webkitallowfullscreen mozallowfullscreen".split(" "),St=>{xt[St]={}}),Xe({embed:["wmode"]},(St,qt)=>{const fn=B.getElementRule(qt);fn&&Ue(St,gn=>{fn.attributes[gn]={},fn.attributesOrder.push(gn)})}),ie.addNodeFilter("iframe,video,audio,object,embed",ss(N)),ne.addAttributeFilter("data-mce-object",(St,qt)=>{var fn;let gn=St.length;for(;gn--;){const Qt=St[gn];if(!Qt.parent)continue;const O=Qt.attr(qt),V=new de(O,1);if(O!=="audio"){const bt=Qt.attr("class");bt&&bt.indexOf("mce-preview-object")!==-1&&Qt.firstChild?V.attr({width:Qt.firstChild.attr("width"),height:Qt.firstChild.attr("height")}):V.attr({width:Qt.attr("width"),height:Qt.attr("height")})}V.attr({style:Qt.attr("style")});const fe=(fn=Qt.attributes)!==null&&fn!==void 0?fn:[];let Ze=fe.length;for(;Ze--;){const bt=fe[Ze].name;bt.indexOf("data-mce-p-")===0&&V.attr(bt.substr(11),fe[Ze].value)}const ke=Qt.attr("data-mce-html");if(ke){const bt=gs(N,O,unescape(ke));Ue(bt.children(),dt=>V.append(dt))}Qt.replace(V)}})}),N.on("SetContent",()=>{const B=N.dom;Ue(B.select("span.mce-preview-object"),ne=>{B.select("span.mce-shim",ne).length===0&&B.add(ne,"span",{class:"mce-shim"})})})},Ot=N=>{N.on("ResolveName",B=>{let ne;B.target.nodeType===1&&(ne=B.target.getAttribute("data-mce-object"))&&(B.name=ne)})},$o=N=>B=>{const ne=()=>{B.setEnabled(N.selection.isEditable())};return N.on("NodeChange",ne),ne(),()=>{N.off("NodeChange",ne)}},Ho=N=>{const B=()=>N.execCommand("mceMedia");N.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:B,onSetup:ne=>{const ie=N.selection;ne.setActive(ro(ie.getNode()));const xt=ie.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]",ne.setActive).unbind,St=$o(N)(ne);return()=>{xt(),St()}}}),N.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:B,onSetup:$o(N)})};var nr=()=>{x.add("media",N=>(Ae(N),Ss(N),Ho(N),Ot(N),Mr(N),Ce(N),mo(N)))};nr()})();(function(){var x=tinymce.util.Tools.resolve("tinymce.PluginManager");const S=(l,m,v)=>{var M;return v(l,m.prototype)?!0:((M=l.constructor)===null||M===void 0?void 0:M.name)===m.name},D=l=>{const m=typeof l;return l===null?"null":m==="object"&&Array.isArray(l)?"array":m==="object"&&S(l,String,(v,M)=>M.isPrototypeOf(v))?"string":m},F=l=>m=>D(m)===l,U=l=>m=>typeof m===l,K=l=>m=>l===m,J=F("string"),X=F("array"),De=U("boolean"),xe=K(void 0),$e=l=>l==null,Ue=l=>!$e(l),Re=U("function"),Qe=U("number"),Je=()=>{},Xe=(l,m)=>v=>l(m(v)),Se=l=>()=>l,Rt=l=>l,Oe=(l,m)=>l===m;function ce(l,...m){return(...v)=>{const M=m.concat(v);return l.apply(null,M)}}const nt=l=>{l()},on=Se(!1),Ae=Se(!0);class A{constructor(m,v){this.tag=m,this.value=v}static some(m){return new A(!0,m)}static none(){return A.singletonNone}fold(m,v){return this.tag?v(this.value):m()}isSome(){return this.tag}isNone(){return!this.tag}map(m){return this.tag?A.some(m(this.value)):A.none()}bind(m){return this.tag?m(this.value):A.none()}exists(m){return this.tag&&m(this.value)}forall(m){return!this.tag||m(this.value)}filter(m){return!this.tag||m(this.value)?this:A.none()}getOr(m){return this.tag?this.value:m}or(m){return this.tag?this:m}getOrThunk(m){return this.tag?this.value:m()}orThunk(m){return this.tag?this:m()}getOrDie(m){if(this.tag)return this.value;throw new Error(m??"Called getOrDie on None")}static from(m){return Ue(m)?A.some(m):A.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(m){this.tag&&m(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}A.singletonNone=new A(!1);const Ve=Array.prototype.indexOf,rn=Array.prototype.push,cn=(l,m)=>Ve.call(l,m),Xt=(l,m)=>cn(l,m)>-1,hn=(l,m)=>{for(let v=0,M=l.length;v<M;v++){const j=l[v];if(m(j,v))return!0}return!1},to=(l,m)=>{const v=[];for(let M=0;M<l;M++)v.push(m(M));return v},ue=(l,m)=>{const v=l.length,M=new Array(v);for(let j=0;j<v;j++){const pe=l[j];M[j]=m(pe,j)}return M},st=(l,m)=>{for(let v=0,M=l.length;v<M;v++){const j=l[v];m(j,v)}},h=(l,m)=>{for(let v=l.length-1;v>=0;v--){const M=l[v];m(M,v)}},Nn=(l,m)=>{const v=[],M=[];for(let j=0,pe=l.length;j<pe;j++){const We=l[j];(m(We,j)?v:M).push(We)}return{pass:v,fail:M}},Gn=(l,m)=>{const v=[];for(let M=0,j=l.length;M<j;M++){const pe=l[M];m(pe,M)&&v.push(pe)}return v},Wo=(l,m,v)=>(h(l,(M,j)=>{v=m(v,M,j)}),v),yo=(l,m,v)=>(st(l,(M,j)=>{v=m(v,M,j)}),v),Ge=(l,m,v)=>{for(let M=0,j=l.length;M<j;M++){const pe=l[M];if(m(pe,M))return A.some(pe);if(v(pe,M))break}return A.none()},Ee=(l,m)=>Ge(l,m,on),Dt=l=>{const m=[];for(let v=0,M=l.length;v<M;++v){if(!X(l[v]))throw new Error("Arr.flatten item "+v+" was not an array, input: "+l);rn.apply(m,l[v])}return m},de=(l,m)=>Dt(ue(l,m)),et=(l,m)=>{for(let v=0,M=l.length;v<M;++v){const j=l[v];if(m(j,v)!==!0)return!1}return!0},re=(l,m)=>{const v={};for(let M=0,j=l.length;M<j;M++){const pe=l[M];v[String(pe)]=m(pe,M)}return v},_e=(l,m)=>m>=0&&m<l.length?A.some(l[m]):A.none(),Mn=l=>_e(l,0),Rn=l=>_e(l,l.length-1),jt=(l,m)=>{for(let v=0;v<l.length;v++){const M=m(l[v],v);if(M.isSome())return M}return A.none()},ln=Object.keys,On=Object.hasOwnProperty,Kn=(l,m)=>{const v=ln(l);for(let M=0,j=v.length;M<j;M++){const pe=v[M],We=l[pe];m(We,pe)}},ve=l=>(m,v)=>{l[v]=m},we=(l,m,v,M)=>{Kn(l,(j,pe)=>{(m(j,pe)?v:M)(j,pe)})},je=(l,m)=>{const v={};return we(l,m,ve(v),Je),v},Tt=(l,m)=>{const v=[];return Kn(l,(M,j)=>{v.push(m(M,j))}),v},Ft=l=>Tt(l,Rt),In=l=>ln(l).length,no=(l,m)=>ro(l,m)?A.from(l[m]):A.none(),ro=(l,m)=>On.call(l,m),Ce=(l,m)=>ro(l,m)&&l[m]!==void 0&&l[m]!==null,Me=l=>{for(const m in l)if(On.call(l,m))return!1;return!0},_t=l=>{let m=l;return{get:()=>m,set:j=>{m=j}}},Mt=(l,m,v=Oe)=>l.exists(M=>v(M,m)),Jt=l=>{const m=[],v=M=>{m.push(M)};for(let M=0;M<l.length;M++)l[M].each(v);return m},_n=(l,m,v)=>l.isSome()&&m.isSome()?A.some(v(l.getOrDie(),m.getOrDie())):A.none(),kt=l=>l.bind(Rt),en=(l,m)=>l?A.some(m):A.none(),xo=l=>{const m=_t(A.none()),v=()=>m.get().each(l);return{clear:()=>{v(),m.set(A.none())},isSet:()=>m.get().isSome(),get:()=>m.get(),set:ht=>{v(),m.set(A.some(ht))}}},sn=()=>xo(l=>l.unbind()),ge=(l,m)=>l.substring(m),He=(l,m,v)=>m===""||l.length>=m.length&&l.substr(v,v+m.length)===m,ut=(l,m)=>it(l,m)?ge(l,m.length):l,it=(l,m)=>He(l,m,0),ao=(l=>m=>m.replace(l,""))(/^\s+|\s+$/g),yn=l=>l.length>0,oo=l=>!yn(l),wo=(l,m=10)=>{const v=parseInt(l,m);return isNaN(v)?A.none():A.some(v)},lt=l=>{const m=parseFloat(l);return isNaN(m)?A.none():A.some(m)},Nt=l=>{let m=!1,v;return(...M)=>(m||(m=!0,v=l.apply(null,M)),v)},mo=(l,m)=>{const M=(m||document).createElement("div");if(M.innerHTML=l,!M.hasChildNodes()||M.childNodes.length>1){const j="HTML does not have a single root node";throw console.error(j,l),new Error(j)}return ot(M.childNodes[0])},Ss=(l,m)=>{const M=(m||document).createElement(l);return ot(M)},Ko=(l,m)=>{const M=(m||document).createTextNode(l);return ot(M)},ot=l=>{if(l==null)throw new Error("Node cannot be null or undefined");return{dom:l}},zn={fromHtml:mo,fromTag:Ss,fromText:Ko,fromDom:ot,fromPoint:(l,m,v)=>A.from(l.dom.elementFromPoint(m,v)).map(ot)},Nr=8,er=9,Bo=11,tr=1,Er=3,An=(l,m)=>{const v=l.dom;if(v.nodeType!==tr)return!1;{const M=v;if(M.matches!==void 0)return M.matches(m);if(M.msMatchesSelector!==void 0)return M.msMatchesSelector(m);if(M.webkitMatchesSelector!==void 0)return M.webkitMatchesSelector(m);if(M.mozMatchesSelector!==void 0)return M.mozMatchesSelector(m);throw new Error("Browser lacks native selectors")}},ss=l=>l.nodeType!==tr&&l.nodeType!==er&&l.nodeType!==Bo||l.childElementCount===0,gs=(l,m)=>{const v=m===void 0?document:m.dom;return ss(v)?[]:ue(v.querySelectorAll(l),zn.fromDom)},Mr=(l,m)=>{const v=m===void 0?document:m.dom;return ss(v)?A.none():A.from(v.querySelector(l)).map(zn.fromDom)},Ot=(l,m)=>l.dom===m.dom,$o=An,Ho=l=>l.dom.nodeName.toLowerCase(),nr=l=>l.dom.nodeType,N=l=>m=>nr(m)===l,B=l=>nr(l)===Nr||Ho(l)==="#comment",ne=N(tr),ie=N(Er),xt=N(er),St=N(Bo),qt=l=>m=>ne(m)&&Ho(m)===l,fn=l=>zn.fromDom(l.dom.ownerDocument),gn=l=>xt(l)?l:fn(l),Qt=l=>A.from(l.dom.parentNode).map(zn.fromDom),O=(l,m)=>{const v=Re(m)?m:on;let M=l.dom;const j=[];for(;M.parentNode!==null&&M.parentNode!==void 0;){const pe=M.parentNode,We=zn.fromDom(pe);if(j.push(We),v(We)===!0)break;M=pe}return j},V=l=>A.from(l.dom.previousSibling).map(zn.fromDom),fe=l=>A.from(l.dom.nextSibling).map(zn.fromDom),Ze=l=>ue(l.dom.childNodes,zn.fromDom),ke=(l,m)=>{const v=l.dom.childNodes;return A.from(v[m]).map(zn.fromDom)},bt=l=>ke(l,0),dt=l=>St(l)&&Ue(l.dom.host),mt=l=>zn.fromDom(l.dom.getRootNode()),Ut=l=>{const m=mt(l);return dt(m)?A.some(m):A.none()},bn=l=>zn.fromDom(l.dom.host),Dn=(l,m)=>{Qt(l).each(M=>{M.dom.insertBefore(m.dom,l.dom)})},po=(l,m)=>{fe(l).fold(()=>{Qt(l).each(j=>{Ao(j,m)})},M=>{Dn(M,m)})},Ns=(l,m)=>{bt(l).fold(()=>{Ao(l,m)},M=>{l.dom.insertBefore(m.dom,M.dom)})},Ao=(l,m)=>{l.dom.appendChild(m.dom)},ta=(l,m)=>{Dn(l,m),Ao(m,l)},so=(l,m)=>{st(m,(v,M)=>{const j=M===0?l:m[M-1];po(j,v)})},Jn=(l,m)=>{st(m,v=>{Ao(l,v)})},Wn=(l,m,v)=>{if(J(v)||De(v)||Qe(v))l.setAttribute(m,v+"");else throw console.error("Invalid call to Attribute.set. Key ",m,":: Value ",v,":: Element ",l),new Error("Attribute value was not simple")},Es=(l,m,v)=>{Wn(l.dom,m,v)},na=(l,m)=>{const v=l.dom;Kn(m,(M,j)=>{Wn(v,j,M)})},Vs=(l,m)=>{const v=l.dom.getAttribute(m);return v===null?void 0:v},kn=(l,m)=>A.from(Vs(l,m)),nc=(l,m)=>{l.dom.removeAttribute(m)},oa=l=>yo(l.dom.attributes,(m,v)=>(m[v.name]=v.value,m),{}),fa=l=>{const m=l.dom;m.parentNode!==null&&m.parentNode.removeChild(m)},Ms=l=>{const m=Ze(l);m.length>0&&so(l,m),fa(l)},ba=l=>ue(l,zn.fromDom),Eo=l=>l.style!==void 0&&Re(l.style.getPropertyValue),ps=l=>{const m=ie(l)?l.dom.parentNode:l.dom;if(m==null||m.ownerDocument===null)return!1;const v=m.ownerDocument;return Ut(zn.fromDom(m)).fold(()=>v.body.contains(m),Xe(ps,bn))},or=(l,m,v)=>{if(!J(v))throw console.error("Invalid call to CSS.set. Property ",m,":: Value ",v,":: Element ",l),new Error("CSS value must be a string: "+v);Eo(l)&&l.style.setProperty(m,v)},cs=(l,m)=>{Eo(l)&&l.style.removeProperty(m)},va=(l,m,v)=>{const M=l.dom;or(M,m,v)},sr=(l,m)=>{const v=l.dom,j=window.getComputedStyle(v).getPropertyValue(m);return j===""&&!ps(l)?fr(v,m):j},fr=(l,m)=>Eo(l)?l.style.getPropertyValue(m):"",rr=(l,m)=>{const v=l.dom,M=fr(v,m);return A.from(M).filter(j=>j.length>0)},ya=(l,m)=>{const v=l.dom;cs(v,m),Mt(kn(l,"style").map(ao),"")&&nc(l,"style")},zs=(l,m)=>lt(l).getOr(m),_r=(l,m,v)=>zs(sr(l,m),v),_s=(l,m,v,M)=>{const j=_r(l,`padding-${v}`,0),pe=_r(l,`padding-${M}`,0),We=_r(l,`border-${v}-width`,0),ht=_r(l,`border-${M}-width`,0);return m-j-pe-We-ht},Vr=(l,m)=>{const v=l.dom,M=v.getBoundingClientRect().width||v.offsetWidth;return m==="border-box"?M:_s(l,M,"left","right")},Mc=l=>Vr(l,"content-box"),Pa=((l,m)=>{const v=pe=>{if(!l(pe))throw new Error("Can only get "+m+" value of a "+m+" node");return M(pe).getOr("")},M=pe=>l(pe)?A.from(pe.dom.nodeValue):A.none();return{get:v,getOption:M,set:(pe,We)=>{if(!l(pe))throw new Error("Can only set raw "+m+" value of a "+m+" node");pe.dom.nodeValue=We}}})(ie,"text"),Dr=l=>Pa.get(l),ti=(l,m)=>Pa.set(l,m);var Be=(l,m,v,M,j)=>l(v,M)?A.some(v):Re(j)&&j(v)?A.none():m(v,M,j);const xa=(l,m,v)=>{let M=l.dom;const j=Re(v)?v:on;for(;M.parentNode;){M=M.parentNode;const pe=zn.fromDom(M);if(m(pe))return A.some(pe);if(j(pe))break}return A.none()},_c=(l,m,v)=>Be((j,pe)=>pe(j),xa,l,m,v),C=(l,m)=>{const v=j=>m(zn.fromDom(j));return Ee(l.dom.childNodes,v).map(zn.fromDom)},I=(l,m,v)=>xa(l,M=>An(M,m),v),q=(l,m)=>C(l,v=>An(v,m)),me=(l,m)=>Mr(m,l),Le=(l,m,v)=>Be((j,pe)=>An(j,pe),I,l,m,v),tt=l=>Le(l,"[contenteditable]"),un=(l,m=!1)=>ps(l)?l.dom.isContentEditable:tt(l).fold(Se(m),v=>fo(v)==="true"),fo=l=>l.dom.contentEditable,Ln=(l,m)=>Gn(Ze(l),m),b=(l,m)=>{let v=[];return st(Ze(l),M=>{m(M)&&(v=v.concat([M])),v=v.concat(b(M,m))}),v},k=(l,m)=>Ln(l,v=>An(v,m)),P=(l,m)=>gs(m,l),te=(l,m)=>q(l,m).isSome(),rt=l=>l.nodeName.toLowerCase(),xn=l=>zn.fromDom(l.getBody()),qn=l=>m=>Ot(m,xn(l)),Yo=l=>l?l.replace(/px$/,""):"",Jo=l=>/^\d+(\.\d+)?$/.test(l)?l+"px":l,Zs=l=>zn.fromDom(l.selection.getStart()),dn=l=>zn.fromDom(l.selection.getEnd()),zr=l=>_c(l,qt("table")).forall(un),Ba=["tfoot","thead","tbody","colgroup"],Ei=l=>Xt(Ba,l),ni=(l,m)=>({rows:l,columns:m}),oi=(l,m,v)=>({element:l,rowspan:m,colspan:v}),cr=(l,m,v,M,j,pe)=>({element:l,rowspan:m,colspan:v,row:M,column:j,isLocked:pe}),Na=(l,m,v)=>({element:l,cells:m,section:v}),Va=(l,m,v,M)=>({startRow:l,startCol:m,finishRow:v,finishCol:M}),sc=(l,m,v)=>({element:l,colspan:m,column:v}),si=(l,m)=>({element:l,columns:m}),ri=(l,m,v=0)=>kn(l,m).map(M=>parseInt(M,10)).getOr(v),sl=(l,m)=>sa(l,m,Ae),sa=(l,m,v)=>de(Ze(l),M=>An(M,m)?v(M)?[M]:[]:sa(M,m,v)),Fr=(l,m,v=on)=>{if(v(m))return A.none();if(Xt(l,Ho(m)))return A.some(m);const M=j=>An(j,"table")||v(j);return I(m,l.join(","),M)},za=(l,m)=>Fr(["td","th"],l,m),Dc=l=>sl(l,"th,td"),E=l=>An(l,"colgroup")?k(l,"col"):de(he(l),m=>k(m,"col")),$=(l,m)=>Le(l,"table",m),Q=l=>sl(l,"tr"),he=l=>$(l).fold(Se([]),m=>k(m,"colgroup")),wt=qt("th"),Sn=(l,m)=>l&&m?"sectionCells":l?"section":"cells",So=l=>{const m=l.section==="thead",v=Mt(Ds(l.cells),"th");return l.section==="tfoot"?{type:"footer"}:m||v?{type:"header",subType:Sn(m,v)}:{type:"body"}},Ds=l=>{const m=Gn(l,v=>wt(v.element));return m.length===0?A.some("td"):m.length===l.length?A.some("th"):A.none()},rs=l=>{const m=ue(l,j=>So(j).type),v=Xt(m,"header"),M=Xt(m,"footer");if(!v&&!M)return A.some("body");{const j=Xt(m,"body");return v&&!j&&!M?A.some("header"):!v&&!j&&M?A.some("footer"):A.none()}},Us=(l,m)=>ue(l,v=>{if(Ho(v)==="colgroup"){const M=ue(E(v),j=>{const pe=ri(j,"span",1);return oi(j,1,pe)});return Na(v,M,"colgroup")}else{const M=ue(Dc(v),j=>{const pe=ri(j,"rowspan",1),We=ri(j,"colspan",1);return oi(j,pe,We)});return Na(v,M,m(v))}}),Ir=l=>Qt(l).map(m=>{const v=Ho(m);return Ei(v)?v:"tbody"}).getOr("tbody"),Cs=l=>{const m=Q(l),M=[...he(l),...m];return Us(M,Ir)},Za="data-snooker-locked-cols",Ua=l=>kn(l,Za).bind(m=>A.from(m.match(/\d+/g))).map(m=>re(m,Ae)),Fc=(l,m)=>l+","+m,ai=(l,m,v)=>A.from(l.access[Fc(m,v)]),Fs=(l,m,v)=>{const M=Zr(l,j=>v(m,j.element));return M.length>0?A.some(M[0]):A.none()},Zr=(l,m)=>{const v=de(l.all,M=>M.cells);return Gn(v,m)},ci=l=>{const m={};let v=0;return st(l.cells,M=>{const j=M.colspan;to(j,pe=>{const We=v+pe;m[We]=sc(M.element,j,We)}),v+=j}),m},rl=l=>{const m={},v=[],j=Mn(l).map(ra=>ra.element).bind($).bind(Ua).getOr({});let pe=0,We=0,ht=0;const{pass:Gt,fail:vn}=Nn(l,ra=>ra.section==="colgroup");st(vn,ra=>{const gi=[];st(ra.cells,pi=>{let Ga=0;for(;m[Fc(ht,Ga)]!==void 0;)Ga++;const km=Ce(j,Ga.toString()),lu=cr(pi.element,pi.rowspan,pi.colspan,ht,Ga,km);for(let uu=0;uu<pi.colspan;uu++)for(let du=0;du<pi.rowspan;du++){const bd=ht+du,vd=Ga+uu,yd=Fc(bd,vd);m[yd]=lu,We=Math.max(We,vd+1)}gi.push(lu)}),pe++,v.push(Na(ra.element,gi,ra.section)),ht++});const{columns:go,colgroups:Po}=Rn(Gt).map(ra=>{const gi=ci(ra);return{colgroups:[si(ra.element,Ft(gi))],columns:gi}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:ni(pe,We),access:m,all:v,columns:go,colgroups:Po}},fs={fromTable:l=>{const m=Cs(l);return rl(m)},generate:rl,getAt:ai,findItem:Fs,filterItems:Zr,justCells:l=>de(l.all,m=>m.cells),justColumns:l=>Ft(l.columns),hasColumns:l=>ln(l.columns).length>0,getColumnAt:(l,m)=>A.from(l.columns[m])},Zl=(l,m)=>jt(l.all,v=>Ee(v.cells,M=>Ot(m,M.element))),Ju=(l,m,v)=>{const M=ue(m.selection,pe=>za(pe).bind(We=>Zl(l,We)).filter(v)),j=Jt(M);return en(j.length>0,j)},dm=(l,m)=>m.mergable,al=(l,m)=>m.unmergable,Qu=(l,m)=>Ju(l,m,Ae),Wa=(l,m)=>Zl(l,m).exists(v=>!v.isLocked),ed=(l,m)=>et(m,v=>Wa(l,v)),cl=(l,m)=>dm(l,m).filter(v=>ed(l,v.cells)),td=(l,m)=>al(l,m).filter(v=>ed(l,v));var br=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Ic=()=>{const l=vn=>zn.fromDom(vn.dom.cloneNode(!1)),m=vn=>gn(vn).dom,v=vn=>ne(vn)?Ho(vn)==="body"?!0:Xt(br,Ho(vn)):!1,M=vn=>ne(vn)?Xt(["br","img","hr","input"],Ho(vn)):!1,j=vn=>ne(vn)&&Vs(vn,"contenteditable")==="false",pe=(vn,go)=>vn.dom.compareDocumentPosition(go.dom),We=(vn,go)=>{const Po=oa(vn);na(go,Po)},ht=vn=>{const go=Ho(vn);return Xt(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],go)},Gt=vn=>ne(vn)?kn(vn,"lang"):A.none();return{up:Se({selector:I,closest:Le,predicate:xa,all:O}),down:Se({selector:P,predicate:b}),styles:Se({get:sr,getRaw:rr,set:va,remove:ya}),attrs:Se({get:Vs,set:Es,remove:nc,copyTo:We}),insert:Se({before:Dn,after:po,afterAll:so,append:Ao,appendAll:Jn,prepend:Ns,wrap:ta}),remove:Se({unwrap:Ms,remove:fa}),create:Se({nu:zn.fromTag,clone:l,text:zn.fromText}),query:Se({comparePosition:pe,prevSibling:V,nextSibling:fe}),property:Se({children:Ze,name:Ho,parent:Qt,document:m,isText:ie,isComment:B,isElement:ne,isSpecial:ht,getLanguage:Gt,getText:Dr,setText:ti,isBoundary:v,isEmptyTag:M,isNonEditable:j}),eq:Ot,is:$o}};const mm=(l,m,v,M)=>{const j=v[0],pe=v.slice(1);return M(l,m,j,pe)},Ul=(l,m,v)=>v.length>0?mm(l,m,v,Wl):A.none(),Wl=(l,m,v,M)=>{const j=m(l,v);return Wo(M,(pe,We)=>{const ht=m(l,We);return $r(l,pe,ht)},j)},$r=(l,m,v)=>m.bind(M=>v.filter(ce(l.eq,M))),ii=Ul,jl=Ic(),wa=(l,m)=>ii(jl,(v,M)=>l(M),m),li=(l,m)=>{const v=fs.fromTable(l);return Qu(v,m).bind(j=>{const pe=j[j.length-1],We=j[0].row,ht=pe.row+pe.rowspan,Gt=v.all.slice(We,ht);return rs(Gt)}).getOr("")},vr=(l,m)=>m.column>=l.startCol&&m.column+m.colspan-1<=l.finishCol&&m.row>=l.startRow&&m.row+m.rowspan-1<=l.finishRow,hm=(l,m)=>{let v=!0;const M=ce(vr,m);for(let j=m.startRow;j<=m.finishRow;j++)for(let pe=m.startCol;pe<=m.finishCol;pe++)v=v&&fs.getAt(l,j,pe).exists(M);return v?A.some(m):A.none()},Gl=(l,m)=>Va(Math.min(l.row,m.row),Math.min(l.column,m.column),Math.max(l.row+l.rowspan-1,m.row+m.rowspan-1),Math.max(l.column+l.colspan-1,m.column+m.colspan-1)),gm=(l,m,v)=>{const M=fs.findItem(l,m,Ot),j=fs.findItem(l,v,Ot);return M.bind(pe=>j.map(We=>Gl(pe,We)))},Ws=(l,m,v)=>gm(l,m,v).bind(M=>hm(l,M)),$c=(l,m,v)=>{const M=ui(l);return Ws(M,m,v)},ui=fs.fromTable;var Mi=tinymce.util.Tools.resolve("tinymce.util.Tools");const _i=(l,m,v)=>{const M=l.select("td,th",m);let j;for(let pe=0;pe<M.length;pe++){const We=l.getStyle(M[pe],v);if(xe(j)&&(j=We),j!==We)return""}return j},ql=(l,m,v)=>{Mi.each("left center right".split(" "),M=>{M!==v&&l.formatter.remove("align"+M,{},m)}),v&&l.formatter.apply("align"+v,{},m)},pm=(l,m,v)=>{Mi.each("top middle bottom".split(" "),M=>{M!==v&&l.formatter.remove("valign"+M,{},m)}),v&&l.formatter.apply("valign"+v,{},m)},Hc=(l,m,v)=>{l.dispatch("TableModified",{...v,table:m})};var Is=tinymce.util.Tools.resolve("tinymce.Env");const di="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",fm=to(5,l=>{const m=`${l+1}px`;return{title:m,value:m}}),il=ue(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],l=>({title:l,value:l.toLowerCase()})),Di="100%",nd=l=>{var m;const v=l.dom,M=(m=v.getParent(l.selection.getStart(),v.isBlock))!==null&&m!==void 0?m:l.getBody();return Mc(zn.fromDom(M))+"px"},bm=(l,m)=>rd(l)||!Sa(l)?m:sd(l)?{...m,width:nd(l)}:{...m,width:Di},vm=(l,m)=>rd(l)||Sa(l)?m:sd(l)?{...m,width:nd(l)}:{...m,width:Di},$s=l=>m=>m.options.get(l),ym=l=>{const m=l.options.register;m("table_border_widths",{processor:"object[]",default:fm}),m("table_border_styles",{processor:"object[]",default:il}),m("table_cell_advtab",{processor:"boolean",default:!0}),m("table_row_advtab",{processor:"boolean",default:!0}),m("table_advtab",{processor:"boolean",default:!0}),m("table_appearance_options",{processor:"boolean",default:!0}),m("table_grid",{processor:"boolean",default:!Is.deviceType.isTouch()}),m("table_cell_class_list",{processor:"object[]",default:[]}),m("table_row_class_list",{processor:"object[]",default:[]}),m("table_class_list",{processor:"object[]",default:[]}),m("table_toolbar",{processor:"string",default:di}),m("table_background_color_map",{processor:"object[]",default:[]}),m("table_border_color_map",{processor:"object[]",default:[]})},Fi=$s("table_sizing_mode"),Kl=$s("table_border_widths"),Yl=$s("table_border_styles"),ll=$s("table_cell_advtab"),Ii=$s("table_row_advtab"),Xo=$s("table_advtab"),Xl=$s("table_appearance_options"),od=$s("table_grid"),Sa=$s("table_style_by_css"),jo=$s("table_cell_class_list"),ul=$s("table_row_class_list"),rc=$s("table_class_list"),Ca=$s("table_toolbar"),bs=$s("table_background_color_map"),mi=$s("table_border_color_map"),sd=l=>Fi(l)==="fixed",rd=l=>Fi(l)==="responsive",lr=l=>{const m=l.options,v=m.get("table_default_styles");return m.isSet("table_default_styles")?v:bm(l,v)},ad=l=>{const m=l.options,v=m.get("table_default_attributes");return m.isSet("table_default_attributes")?v:vm(l,v)},dl=l=>I(l,"table"),cd=(l,m)=>{const v=P(l,m);return v.length>0?A.some(v):A.none()},Lt=(l,m,v)=>me(l,m).bind(M=>me(l,v).bind(j=>wa(dl,[M,j]).map(pe=>({first:M,last:j,table:pe})))),id=(l,m)=>cd(l,m),Qo=(l,m,v)=>Lt(l,m,v).bind(M=>{const j=Gt=>Ot(l,Gt),pe="thead,tfoot,tbody,table",We=I(M.first,pe,j),ht=I(M.last,pe,j);return We.bind(Gt=>ht.bind(vn=>Ot(Gt,vn)?$c(M.table,M.first,M.last):A.none()))}),es=Rt,ld=l=>{const m=(M,j)=>kn(M,j).exists(pe=>parseInt(pe,10)>1),v=M=>m(M,"rowspan")||m(M,"colspan");return l.length>0&&et(l,v)?A.some(l):A.none()},Fo=(l,m,v)=>m.length<=1?A.none():Qo(l,v.firstSelectedSelector,v.lastSelectedSelector).map(M=>({bounds:M,cells:m})),Jl="data-mce-selected",Ql="td["+Jl+"],th["+Jl+"]",Ur="data-mce-first-selected",ud="td["+Ur+"],th["+Ur+"]",eu="data-mce-last-selected",tu="td["+eu+"],th["+eu+"]",ml={selected:Jl,selectedSelector:Ql,firstSelected:Ur,firstSelectedSelector:ud,lastSelected:eu,lastSelectedSelector:tu},nu=l=>$(l).bind(m=>id(m,ml.firstSelectedSelector)).fold(Se(l),m=>m[0]),Rc=l=>(m,v)=>{const M=Ho(m),j=M==="col"||M==="colgroup"?nu(m):m;return Le(j,l,v)},ou=Rc("th,td,caption"),su=Rc("th,td"),hl=l=>ba(l.model.table.getSelectedCells()),$i=(l,m)=>{const v=su(l),M=v.bind(j=>$(j)).map(j=>Q(j));return _n(v,M,(j,pe)=>Gn(pe,We=>hn(ba(We.dom.cells),ht=>Vs(ht,m)==="1"||Ot(ht,j)))).getOr([])},ur=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],ac=l=>({value:Vt(l)}),dd=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,ru=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,md=l=>dd.test(l)||ru.test(l),Vt=l=>ut(l,"#").toUpperCase(),Lc=l=>md(l)?A.some({value:Vt(l)}):A.none(),u=l=>{const m=l.toString(16);return(m.length===1?"0"+m:m).toUpperCase()},p=l=>{const m=u(l.red)+u(l.green)+u(l.blue);return ac(m)},w=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,H=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,Z=(l,m,v,M)=>({red:l,green:m,blue:v,alpha:M}),Te=(l,m,v,M)=>{const j=parseInt(l,10),pe=parseInt(m,10),We=parseInt(v,10),ht=parseFloat(M);return Z(j,pe,We,ht)},Ne=l=>{const m=w.exec(l);if(m!==null)return A.some(Te(m[1],m[2],m[3],"1"));const v=H.exec(l);return v!==null?A.some(Te(v[1],v[2],v[3],v[4])):A.none()},Kt=l=>Lc(l).orThunk(()=>Ne(l).map(p)).getOrThunk(()=>{const m=document.createElement("canvas");m.height=1,m.width=1;const v=m.getContext("2d");v.clearRect(0,0,m.width,m.height),v.fillStyle="#FFFFFF",v.fillStyle=l,v.fillRect(0,0,1,1);const M=v.getImageData(0,0,1,1).data,j=M[0],pe=M[1],We=M[2],ht=M[3];return p(Z(j,pe,We,ht))}),Yt=l=>Ne(l).map(p).map(m=>"#"+m.value).getOr(l),At=(l,m,v)=>M=>{const j=sn(),pe=oo(v),We=()=>{const ht=hl(l),Gt=vn=>l.formatter.match(m,{value:v},vn.dom,pe);pe?(M.setActive(!hn(ht,Gt)),j.set(l.formatter.formatChanged(m,vn=>M.setActive(!vn),!0))):(M.setActive(et(ht,Gt)),j.set(l.formatter.formatChanged(m,M.setActive,!1,{value:v})))};return l.initialized?We():l.on("init",We),j.clear},pn=l=>Ce(l,"menu"),ho=l=>ue(l,m=>{const v=m.text||m.title||"";return pn(m)?{text:v,items:ho(m.menu)}:{text:v,value:m.value}}),Ta=l=>l.length?A.some(ho([{text:"Select...",value:"mce-no-match"},...l])):A.none(),vs=(l,m,v,M)=>ue(m,j=>{const pe=j.text||j.title;return pn(j)?{type:"nestedmenuitem",text:pe,getSubmenuItems:()=>vs(l,j.menu,v,M)}:{text:pe,type:"togglemenuitem",onAction:()=>M(j.value),onSetup:At(l,v,j.value)}}),Hi=(l,m)=>v=>{l.execCommand("mceTableApplyCellStyle",!1,{[m]:v})},hi=l=>de(l,m=>pn(m)?[{...m,menu:hi(m.menu)}]:yn(m.value)?[m]:[]),au=(l,m,v,M)=>j=>j(vs(l,m,v,M)),hd=(l,m,v)=>{const M=ue(m,j=>({text:j.title,value:"#"+Kt(j.value).value,type:"choiceitem"}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:M.length>0?M:void 0,allowCustomColors:!1},onAction:j=>{const pe=j.value==="remove"?"":j.value;l.execCommand("mceTableApplyCellStyle",!1,{[v]:pe})}}]},yr=l=>()=>{const v=l.queryCommandValue("mceTableRowType")==="header"?"body":"header";l.execCommand("mceTableRowType",!1,{type:v})},gl=l=>()=>{const v=l.queryCommandValue("mceTableColType")==="th"?"td":"th";l.execCommand("mceTableColType",!1,{type:v})},Vp=l=>Ta(jo(l)).map(m=>({name:"class",type:"listbox",label:"Class",items:m})),zp=[{name:"width",type:"input",label:"Width"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:ur}],xm=l=>zp.concat(Vp(l).toArray()),Mo=(l,m)=>{const M=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(ho(Yl(l)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:m==="cell"?[{name:"borderwidth",type:"input",label:"Border width"}].concat(M):M}},pl={normal:(l,m)=>{const v=l.dom;return{setAttrib:(We,ht)=>{v.setAttrib(m,We,ht)},setStyle:(We,ht)=>{v.setStyle(m,We,ht)},setFormat:(We,ht)=>{ht===""?l.formatter.remove(We,{value:null},m,!0):l.formatter.apply(We,{value:ht},m)}}}},Hr=l=>it(l,"rgb")?Yt(l):l,fl=l=>{const m=zn.fromDom(l);return{borderwidth:rr(m,"border-width").getOr(""),borderstyle:rr(m,"border-style").getOr(""),bordercolor:rr(m,"border-color").map(Hr).getOr(""),backgroundcolor:rr(m,"background-color").map(Hr).getOr("")}},Rr=l=>{const m=l[0],v=l.slice(1);return st(v,M=>{st(ln(m),j=>{Kn(M,(pe,We)=>{const ht=m[j];ht!==""&&j===We&&ht!==pe&&(m[j]=j==="class"?"mce-no-match":"")})})}),m},gd=(l,m,v,M)=>Ee(l,j=>!xe(v.formatter.matchNode(M,m+j))).getOr(""),Uh=ce(gd,["left","center","right"],"align"),Zp=ce(gd,["top","middle","bottom"],"valign"),Up=(l,m)=>{const v=lr(l),M=ad(l),j=()=>({borderstyle:no(v,"border-style").getOr(""),bordercolor:Hr(no(v,"border-color").getOr("")),backgroundcolor:Hr(no(v,"background-color").getOr(""))}),pe={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},We=()=>{const go=v["border-width"];return Sa(l)&&go?{border:go}:no(M,"border").fold(()=>({}),Po=>({border:Po}))},ht=m?j():{},Gt=()=>{const go=no(v,"border-spacing").or(no(M,"cellspacing")).fold(()=>({}),ts=>({cellspacing:ts})),Po=no(v,"border-padding").or(no(M,"cellpadding")).fold(()=>({}),ts=>({cellpadding:ts}));return{...go,...Po}};return{...pe,...v,...M,...ht,...We(),...Gt()}},wm=l=>$(zn.fromDom(l)).map(m=>{const v={selection:ba(l.cells)};return li(m,v)}).getOr(""),Wp=(l,m,v)=>{const M=(ht,Gt)=>{const vn=rr(zn.fromDom(Gt),"border-width");return Sa(l)&&vn.isSome()?vn.getOr(""):ht.getAttrib(Gt,"border")||_i(l.dom,Gt,"border-width")||_i(l.dom,Gt,"border")||""},j=l.dom,pe=Sa(l)?j.getStyle(m,"border-spacing")||j.getAttrib(m,"cellspacing"):j.getAttrib(m,"cellspacing")||j.getStyle(m,"border-spacing"),We=Sa(l)?_i(j,m,"padding")||j.getAttrib(m,"cellpadding"):j.getAttrib(m,"cellpadding")||_i(j,m,"padding");return{width:j.getStyle(m,"width")||j.getAttrib(m,"width"),height:j.getStyle(m,"height")||j.getAttrib(m,"height"),cellspacing:pe??"",cellpadding:We??"",border:M(j,m),caption:!!j.select("caption",m)[0],class:j.getAttrib(m,"class",""),align:Uh(l,m),...v?fl(m):{}}},Sm=(l,m,v)=>{const M=l.dom;return{height:M.getStyle(m,"height")||M.getAttrib(m,"height"),class:M.getAttrib(m,"class",""),type:wm(m),align:Uh(l,m),...v?fl(m):{}}},jp=(l,m,v,M)=>{const j=l.dom,pe=M.getOr(m);return{width:((ht,Gt)=>j.getStyle(ht,Gt)||j.getAttrib(ht,Gt))(pe,"width"),scope:j.getAttrib(m,"scope"),celltype:rt(m),class:j.getAttrib(m,"class",""),halign:Uh(l,m),valign:Zp(l,m),...v?fl(m):{}}},Wh=(l,m)=>{const v=fs.fromTable(l),M=fs.justCells(v),j=Gn(M,pe=>hn(m,We=>Ot(pe.element,We)));return ue(j,pe=>({element:pe.element.dom,column:fs.getColumnAt(v,pe.column).map(We=>We.element.dom)}))},jh=(l,m,v,M)=>{M("scope")&&l.setAttrib("scope",v.scope),M("class")&&v.class!=="mce-no-match"&&l.setAttrib("class",v.class),M("width")&&m.setStyle("width",Jo(v.width))},Gh=(l,m,v)=>{v("backgroundcolor")&&l.setFormat("tablecellbackgroundcolor",m.backgroundcolor),v("bordercolor")&&l.setFormat("tablecellbordercolor",m.bordercolor),v("borderstyle")&&l.setFormat("tablecellborderstyle",m.borderstyle),v("borderwidth")&&l.setFormat("tablecellborderwidth",Jo(m.borderwidth))},qh=(l,m,v,M)=>{const j=m.length===1;st(m,pe=>{const We=pe.element,ht=j?Ae:M,Gt=pl.normal(l,We),vn=pe.column.map(go=>pl.normal(l,go)).getOr(Gt);jh(Gt,vn,v,ht),ll(l)&&Gh(Gt,v,ht),M("halign")&&ql(l,We,v.halign),M("valign")&&pm(l,We,v.valign)})},Gp=(l,m)=>{l.execCommand("mceTableCellType",!1,{type:m.celltype,no_events:!0})},Kh=(l,m,v,M)=>{const j=je(M,(pe,We)=>v[We]!==pe);In(j)>0&&m.length>=1&&$(m[0]).each(pe=>{const We=Wh(pe,m),ht=In(je(j,(vn,go)=>go!=="scope"&&go!=="celltype"))>0,Gt=ro(j,"celltype");(ht||ro(j,"scope"))&&qh(l,We,M,ce(ro,j)),Gt&&Gp(l,M),Hc(l,pe.dom,{structure:Gt,style:ht})})},qp=(l,m,v,M)=>{const j=M.getData();M.close(),l.undoManager.transact(()=>{Kh(l,m,v,j),l.focus()})},Kp=(l,m)=>{const v=$(m[0]).map(M=>ue(Wh(M,m),j=>jp(l,j.element,ll(l),j.column)));return Rr(v.getOrDie())},ja=l=>{const m=hl(l);if(m.length===0)return;const v=Kp(l,m),M={type:"tabpanel",tabs:[{title:"General",name:"general",items:xm(l)},Mo(l,"cell")]},j={type:"panel",items:[{type:"grid",columns:2,items:xm(l)}]};l.windowManager.open({title:"Cell Properties",size:"normal",body:ll(l)?M:j,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:v,onSubmit:ce(qp,l,m,v)})},Yp=l=>Ta(ul(l)).map(m=>({name:"class",type:"listbox",label:"Class",items:m})),Cm=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],Qn=l=>Cm.concat(Yp(l).toArray()),cc=(l,m,v)=>{v("class")&&m.class!=="mce-no-match"&&l.setAttrib("class",m.class),v("height")&&l.setStyle("height",Jo(m.height))},Xp=(l,m,v)=>{v("backgroundcolor")&&l.setStyle("background-color",m.backgroundcolor),v("bordercolor")&&l.setStyle("border-color",m.bordercolor),v("borderstyle")&&l.setStyle("border-style",m.borderstyle)},Jp=(l,m,v,M)=>{const pe=m.length===1?Ae:M;st(m,We=>{const ht=k(zn.fromDom(We),"td,th"),Gt=pl.normal(l,We);cc(Gt,v,pe),Ii(l)&&Xp(Gt,v,pe),M("height")&&st(ht,vn=>{l.dom.setStyle(vn.dom,"height",null)}),M("align")&&ql(l,We,v.align)})},bl=(l,m)=>{l.execCommand("mceTableRowType",!1,{type:m.type,no_events:!0})},Tm=(l,m,v,M)=>{const j=je(M,(pe,We)=>v[We]!==pe);if(In(j)>0){const pe=ro(j,"type"),We=pe?In(j)>1:!0;We&&Jp(l,m,M,ce(ro,j)),pe&&bl(l,M),$(zn.fromDom(m[0])).each(ht=>Hc(l,ht.dom,{structure:pe,style:We}))}},Yh=(l,m,v,M)=>{const j=M.getData();M.close(),l.undoManager.transact(()=>{Tm(l,m,v,j),l.focus()})},Xh=l=>{const m=$i(Zs(l),ml.selected);if(m.length===0)return;const v=ue(m,We=>Sm(l,We.dom,Ii(l))),M=Rr(v),j={type:"tabpanel",tabs:[{title:"General",name:"general",items:Qn(l)},Mo(l,"row")]},pe={type:"panel",items:[{type:"grid",columns:2,items:Qn(l)}]};l.windowManager.open({title:"Row Properties",size:"normal",body:Ii(l)?j:pe,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:M,onSubmit:ce(Yh,l,ue(m,We=>We.dom),M)})},Qp=(l,m,v)=>{const M=v?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],j=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],pe=Xl(l)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],We=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],ht=m.length>0?[{name:"class",type:"listbox",label:"Class",items:m}]:[];return M.concat(j).concat(pe).concat(We).concat(ht)},Ro=(l,m,v,M)=>{if(m.tagName==="TD"||m.tagName==="TH")J(v)&&Ue(M)?l.setStyle(m,v,M):l.setStyles(m,v);else if(m.children)for(let j=0;j<m.children.length;j++)Ro(l,m.children[j],v,M)},Jh=(l,m,v,M)=>{const j=l.dom,pe={},We={},ht=Sa(l),Gt=Xo(l),vn=parseFloat(v.border)===0;if(!xe(v.class)&&v.class!=="mce-no-match"&&(pe.class=v.class),We.height=Jo(v.height),ht?We.width=Jo(v.width):j.getAttrib(m,"width")&&(pe.width=Yo(v.width)),ht?(vn?(pe.border=0,We["border-width"]=""):(We["border-width"]=Jo(v.border),pe.border=1),We["border-spacing"]=Jo(v.cellspacing)):(pe.border=vn?0:v.border,pe.cellpadding=v.cellpadding,pe.cellspacing=v.cellspacing),ht&&m.children){const go={};if(vn?go["border-width"]="":M.border&&(go["border-width"]=Jo(v.border)),M.cellpadding&&(go.padding=Jo(v.cellpadding)),Gt&&M.bordercolor&&(go["border-color"]=v.bordercolor),!Me(go))for(let Po=0;Po<m.children.length;Po++)Ro(j,m.children[Po],go)}if(Gt){const go=v;We["background-color"]=go.backgroundcolor,We["border-color"]=go.bordercolor,We["border-style"]=go.borderstyle}j.setStyles(m,{...lr(l),...We}),j.setAttribs(m,{...ad(l),...pe})},Lo=(l,m,v,M)=>{const j=l.dom,pe=M.getData(),We=je(pe,(ht,Gt)=>v[Gt]!==ht);M.close(),l.undoManager.transact(()=>{if(!m){const ht=wo(pe.cols).getOr(1),Gt=wo(pe.rows).getOr(1);l.execCommand("mceInsertTable",!1,{rows:Gt,columns:ht}),m=su(Zs(l),qn(l)).bind(vn=>$(vn,qn(l))).map(vn=>vn.dom).getOrDie()}if(In(We)>0){const ht={border:ro(We,"border"),bordercolor:ro(We,"bordercolor"),cellpadding:ro(We,"cellpadding")};Jh(l,m,pe,ht);const Gt=j.select("caption",m)[0];(Gt&&!pe.caption||!Gt&&pe.caption)&&l.execCommand("mceTableToggleCaption"),ql(l,m,pe.align)}if(l.focus(),l.addVisual(),In(We)>0){const ht=ro(We,"caption"),Gt=ht?In(We)>1:!0;Hc(l,m,{structure:ht,style:Gt})}})},Qh=(l,m)=>{const v=l.dom;let M,j=Up(l,Xo(l));m?(j.cols="1",j.rows="1",Xo(l)&&(j.borderstyle="",j.bordercolor="",j.backgroundcolor="")):(M=v.getParent(l.selection.getStart(),"table",l.getBody()),M?j=Wp(l,M,Xo(l)):Xo(l)&&(j.borderstyle="",j.bordercolor="",j.backgroundcolor=""));const pe=Ta(rc(l));pe.isSome()&&j.class&&(j.class=j.class.replace(/\s*mce\-item\-table\s*/g,""));const We={type:"grid",columns:2,items:Qp(l,pe.getOr([]),m)},ht=()=>({type:"panel",items:[We]}),Gt=()=>({type:"tabpanel",tabs:[{title:"General",name:"general",items:[We]},Mo(l,"table")]}),vn=Xo(l)?Gt():ht();l.windowManager.open({title:"Table Properties",size:"normal",body:vn,onSubmit:ce(Lo,l,M,j),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:j})},xr=l=>{const m=v=>{zr(Zs(l))&&v()};Kn({mceTableProps:ce(Qh,l,!1),mceTableRowProps:ce(Xh,l),mceTableCellProps:ce(ja,l),mceInsertTableDialog:ce(Qh,l,!0)},(v,M)=>l.addCommand(M,()=>m(v)))},Ri=l=>({element:l,mergable:A.none(),unmergable:A.none(),selection:[l]}),ka=(l,m,v)=>({element:v,mergable:Fo(m,l,ml),unmergable:ld(l),selection:es(l)}),ef=l=>{const m=_t(A.none()),v=_t([]);let M=A.none();const j=qt("caption"),pe=Pn=>M.forall(No=>!No[Pn]),We=()=>ou(Zs(l),qn(l)),ht=()=>ou(dn(l),qn(l)),Gt=()=>We().bind(Pn=>kt(_n($(Pn),ht().bind($),(No,wr)=>Ot(No,wr)?j(Pn)?A.some(Ri(Pn)):A.some(ka(hl(l),No,Pn)):A.none()))),vn=Pn=>$(Pn.element).map(wr=>{const Wr=fs.fromTable(wr),Om=Qu(Wr,Pn).getOr([]),sg=yo(Om,(xd,Am)=>(Am.isLocked&&(xd.onAny=!0,Am.column===0?xd.onFirst=!0:Am.column+Am.colspan>=Wr.grid.columns&&(xd.onLast=!0)),xd),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:cl(Wr,Pn).isSome(),unmergeable:td(Wr,Pn).isSome(),locked:sg}}),go=()=>{m.set(Nt(Gt)()),M=m.get().bind(vn),st(v.get(),nt)},Po=Pn=>(Pn(),v.set(v.get().concat([Pn])),()=>{v.set(Gn(v.get(),No=>No!==Pn))}),ts=(Pn,No)=>Po(()=>m.get().fold(()=>{Pn.setEnabled(!1)},wr=>{Pn.setEnabled(!No(wr)&&l.selection.isEditable())})),ra=(Pn,No,wr)=>Po(()=>m.get().fold(()=>{Pn.setEnabled(!1),Pn.setActive(!1)},Wr=>{Pn.setEnabled(!No(Wr)&&l.selection.isEditable()),Pn.setActive(wr(Wr))})),gi=Pn=>M.exists(No=>No.locked[Pn]),pi=Pn=>ts(Pn,No=>!1),Ga=Pn=>ts(Pn,No=>j(No.element)),km=Pn=>No=>ts(No,wr=>j(wr.element)||gi(Pn)),lu=Pn=>No=>ts(No,wr=>j(wr.element)||Pn().isNone()),uu=(Pn,No)=>wr=>ts(wr,Wr=>j(Wr.element)||Pn().isNone()||gi(No)),du=Pn=>ts(Pn,No=>pe("mergeable")),bd=Pn=>ts(Pn,No=>pe("unmergeable")),vd=Pn=>ra(Pn,on,No=>$(No.element,qn(l)).exists(Wr=>te(Wr,"caption"))),yd=(Pn,No)=>wr=>ra(wr,Wr=>j(Wr.element),()=>l.queryCommandValue(Pn)===No),of=yd("mceTableRowType","header"),sf=yd("mceTableColType","th");return l.on("NodeChange ExecCommand TableSelectorChange",go),{onSetupTable:pi,onSetupCellOrRow:Ga,onSetupColumn:km,onSetupPasteable:lu,onSetupPasteableColumn:uu,onSetupMergeable:du,onSetupUnmergeable:bd,resetTargets:go,onSetupTableWithCaption:vd,onSetupTableRowHeaders:of,onSetupTableColumnHeaders:sf,targets:m.get}};var tf=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const eg="x-tinymce/dom-table-",tg=eg+"rows",nf=eg+"columns",ic=l=>{var m;const v=(m=tf.read())!==null&&m!==void 0?m:[];return jt(v,M=>A.from(M.getType(l)))},lc=()=>ic(tg),cu=()=>ic(nf),js=l=>m=>{const v=()=>{m.setEnabled(l.selection.isEditable())};return l.on("NodeChange",v),v(),()=>{l.off("NodeChange",v)}},ng=(l,m)=>{l.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",onSetup:js(l),fetch:ht=>ht("inserttable | cell row column | advtablesort | tableprops deletetable")});const v=ht=>()=>l.execCommand(ht),M=(ht,Gt)=>{l.queryCommandSupported(Gt.command)&&l.ui.registry.addButton(ht,{...Gt,onAction:Re(Gt.onAction)?Gt.onAction:v(Gt.command)})},j=(ht,Gt)=>{l.queryCommandSupported(Gt.command)&&l.ui.registry.addToggleButton(ht,{...Gt,onAction:Re(Gt.onAction)?Gt.onAction:v(Gt.command)})};M("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:m.onSetupTable}),M("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:m.onSetupTable}),M("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:m.onSetupCellOrRow}),M("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:m.onSetupMergeable}),M("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:m.onSetupUnmergeable}),M("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:m.onSetupCellOrRow}),M("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:m.onSetupCellOrRow}),M("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:m.onSetupCellOrRow}),M("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:m.onSetupCellOrRow}),M("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:m.onSetupColumn("onFirst")}),M("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:m.onSetupColumn("onLast")}),M("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:m.onSetupColumn("onAny")}),M("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:m.onSetupCellOrRow}),M("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:m.onSetupCellOrRow}),M("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:m.onSetupPasteable(lc)}),M("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:m.onSetupPasteable(lc)}),M("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:m.onSetupColumn("onAny")}),M("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:m.onSetupColumn("onAny")}),M("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:m.onSetupPasteableColumn(cu,"onFirst")}),M("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:m.onSetupPasteableColumn(cu,"onLast")}),M("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table",onSetup:js(l)});const pe=hi(rc(l));pe.length!==0&&l.queryCommandSupported("mceTableToggleClass")&&l.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:au(l,pe,"tableclass",ht=>l.execCommand("mceTableToggleClass",!1,ht)),onSetup:m.onSetupTable});const We=hi(jo(l));We.length!==0&&l.queryCommandSupported("mceTableCellToggleClass")&&l.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:au(l,We,"tablecellclass",ht=>l.execCommand("mceTableCellToggleClass",!1,ht)),onSetup:m.onSetupCellOrRow}),l.queryCommandSupported("mceTableApplyCellStyle")&&(l.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:au(l,ur,"tablecellverticalalign",Hi(l,"vertical-align")),onSetup:m.onSetupCellOrRow}),l.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:au(l,Kl(l),"tablecellborderwidth",Hi(l,"border-width")),onSetup:m.onSetupCellOrRow}),l.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:au(l,Yl(l),"tablecellborderstyle",Hi(l,"border-style")),onSetup:m.onSetupCellOrRow}),l.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:ht=>ht(hd(l,bs(l),"background-color")),onSetup:m.onSetupCellOrRow}),l.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:ht=>ht(hd(l,mi(l),"border-color")),onSetup:m.onSetupCellOrRow})),j("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:m.onSetupTableWithCaption}),j("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:yr(l),onSetup:m.onSetupTableRowHeaders}),j("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:gl(l),onSetup:m.onSetupTableColumnHeaders})},iu=l=>{const m=M=>l.dom.is(M,"table")&&l.getBody().contains(M)&&l.dom.isEditable(M.parentNode),v=Ca(l);v.length>0&&l.ui.registry.addContextToolbar("table",{predicate:m,items:v,scope:"node",position:"node"})},pd=l=>m=>{const v=()=>{m.setEnabled(l.selection.isEditable())};return l.on("NodeChange",v),v(),()=>{l.off("NodeChange",v)}},og=(l,m)=>{const v=Po=>()=>l.execCommand(Po),M=(Po,ts)=>l.queryCommandSupported(ts.command)?(l.ui.registry.addMenuItem(Po,{...ts,onAction:Re(ts.onAction)?ts.onAction:v(ts.command)}),!0):!1,j=(Po,ts)=>{l.queryCommandSupported(ts.command)&&l.ui.registry.addToggleMenuItem(Po,{...ts,onAction:Re(ts.onAction)?ts.onAction:v(ts.command)})},pe=Po=>{l.execCommand("mceInsertTable",!1,{rows:Po.numRows,columns:Po.numColumns})},We=[M("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:m.onSetupCellOrRow}),M("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:m.onSetupCellOrRow}),M("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:m.onSetupCellOrRow}),M("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:m.onSetupCellOrRow}),M("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:m.onSetupCellOrRow}),M("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:m.onSetupCellOrRow}),M("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:m.onSetupPasteable(lc)}),M("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:m.onSetupPasteable(lc)})],ht=[M("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:m.onSetupColumn("onFirst")}),M("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:m.onSetupColumn("onLast")}),M("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:m.onSetupColumn("onAny")}),M("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:m.onSetupColumn("onAny")}),M("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:m.onSetupColumn("onAny")}),M("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:m.onSetupPasteableColumn(cu,"onFirst")}),M("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:m.onSetupPasteableColumn(cu,"onLast")})],Gt=[M("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:m.onSetupCellOrRow}),M("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:m.onSetupMergeable}),M("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:m.onSetupUnmergeable})];od(l)?l.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:pe}],onSetup:pd(l)}):l.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:v("mceInsertTableDialog"),onSetup:pd(l)}),l.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:v("mceInsertTableDialog"),onSetup:pd(l)}),M("tableprops",{text:"Table properties",onSetup:m.onSetupTable,command:"mceTableProps"}),M("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:m.onSetupTable,command:"mceTableDelete"}),Xt(We,!0)&&l.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:Se("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),Xt(ht,!0)&&l.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:Se("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),Xt(Gt,!0)&&l.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:Se("tablecellprops tablemergecells tablesplitcells")}),l.ui.registry.addContextMenu("table",{update:()=>(m.resetTargets(),m.targets().fold(Se(""),Po=>Ho(Po.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"))});const vn=hi(rc(l));vn.length!==0&&l.queryCommandSupported("mceTableToggleClass")&&l.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>vs(l,vn,"tableclass",Po=>l.execCommand("mceTableToggleClass",!1,Po)),onSetup:m.onSetupTable});const go=hi(jo(l));go.length!==0&&l.queryCommandSupported("mceTableCellToggleClass")&&l.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>vs(l,go,"tablecellclass",Po=>l.execCommand("mceTableCellToggleClass",!1,Po)),onSetup:m.onSetupCellOrRow}),l.queryCommandSupported("mceTableApplyCellStyle")&&(l.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>vs(l,ur,"tablecellverticalalign",Hi(l,"vertical-align")),onSetup:m.onSetupCellOrRow}),l.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>vs(l,Kl(l),"tablecellborderwidth",Hi(l,"border-width")),onSetup:m.onSetupCellOrRow}),l.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>vs(l,Yl(l),"tablecellborderstyle",Hi(l,"border-style")),onSetup:m.onSetupCellOrRow}),l.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>hd(l,bs(l),"background-color"),onSetup:m.onSetupCellOrRow}),l.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>hd(l,mi(l),"border-color"),onSetup:m.onSetupCellOrRow})),j("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:m.onSetupTableWithCaption}),j("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:yr(l),onSetup:m.onSetupTableRowHeaders}),j("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:gl(l),onSetup:m.onSetupTableRowHeaders})},fd=l=>{const m=ef(l);ym(l),xr(l),og(l,m),ng(l,m),iu(l)};var Qv=()=>{x.add("table",fd)};Qv()})();(function(){const x=(Ce,Me,_t)=>{var Mt;return _t(Ce,Me.prototype)?!0:((Mt=Ce.constructor)===null||Mt===void 0?void 0:Mt.name)===Me.name},S=Ce=>{const Me=typeof Ce;return Ce===null?"null":Me==="object"&&Array.isArray(Ce)?"array":Me==="object"&&x(Ce,String,(_t,Mt)=>Mt.isPrototypeOf(_t))?"string":Me},D=Ce=>Me=>S(Me)===Ce,F=Ce=>Me=>typeof Me===Ce,U=Ce=>Me=>Ce===Me,K=D("string"),J=U(void 0),X=Ce=>Ce==null,De=Ce=>!X(Ce),xe=F("function"),Ue=(Ce=>()=>Ce)(!1);class Re{constructor(Me,_t){this.tag=Me,this.value=_t}static some(Me){return new Re(!0,Me)}static none(){return Re.singletonNone}fold(Me,_t){return this.tag?_t(this.value):Me()}isSome(){return this.tag}isNone(){return!this.tag}map(Me){return this.tag?Re.some(Me(this.value)):Re.none()}bind(Me){return this.tag?Me(this.value):Re.none()}exists(Me){return this.tag&&Me(this.value)}forall(Me){return!this.tag||Me(this.value)}filter(Me){return!this.tag||Me(this.value)?this:Re.none()}getOr(Me){return this.tag?this.value:Me}or(Me){return this.tag?this:Me}getOrThunk(Me){return this.tag?this.value:Me()}orThunk(Me){return this.tag?this:Me()}getOrDie(Me){if(this.tag)return this.value;throw new Error(Me??"Called getOrDie on None")}static from(Me){return De(Me)?Re.some(Me):Re.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Me){this.tag&&Me(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Re.singletonNone=new Re(!1);const Qe=Array.prototype.slice,Je=Array.prototype.indexOf,Xe=(Ce,Me)=>Je.call(Ce,Me),Se=(Ce,Me)=>Xe(Ce,Me)>-1,Rt=(Ce,Me)=>{const _t=Ce.length,Mt=new Array(_t);for(let Jt=0;Jt<_t;Jt++){const _n=Ce[Jt];Mt[Jt]=Me(_n,Jt)}return Mt},Oe=(Ce,Me)=>{const _t=[];for(let Mt=0,Jt=Ce.length;Mt<Jt;Mt++){const _n=Ce[Mt];Me(_n,Mt)&&_t.push(_n)}return _t},ce=(Ce,Me,_t)=>{for(let Mt=0,Jt=Ce.length;Mt<Jt;Mt++){const _n=Ce[Mt];if(Me(_n,Mt))return Re.some(_n);if(_t(_n,Mt))break}return Re.none()},nt=(Ce,Me)=>ce(Ce,Me,Ue),on=(Ce,Me)=>{const _t=Qe.call(Ce,0);return _t.sort(Me),_t},Ae=Object.keys,A=Object.hasOwnProperty,Ve=(Ce,Me)=>rn(Ce,Me)?Re.from(Ce[Me]):Re.none(),rn=(Ce,Me)=>A.call(Ce,Me),cn=Ce=>{let Me=Ce;return{get:()=>Me,set:Jt=>{Me=Jt}}},Xt=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let hn=0;const to=Ce=>{const _t=new Date().getTime(),Mt=Math.floor(Xt()*1e9);return hn++,Ce+"_"+Mt+hn+String(_t)},ue=Ce=>{const Me=[],_t=Mt=>{Me.push(Mt)};for(let Mt=0;Mt<Ce.length;Mt++)Ce[Mt].each(_t);return Me};var st=tinymce.util.Tools.resolve("tinymce.PluginManager");const h=Ce=>({addTab:_t=>{var Mt;const Jt=(Mt=_t.name)!==null&&Mt!==void 0?Mt:to("tab-name"),_n=Ce.get();_n[Jt]=_t,Ce.set(_n)}}),Nn=(Ce,Me)=>{Ce.addCommand("mceHelp",Me)},Gn=Ce=>Me=>Me.options.get(Ce),Wo=Ce=>{const Me=Ce.options.register;Me("help_tabs",{processor:"array"})},yo=Gn("help_tabs"),Ge=Gn("forced_plugins"),Ee=(Ce,Me)=>{Ce.ui.registry.addButton("help",{icon:"help",tooltip:"Help",onAction:Me,context:"any"}),Ce.ui.registry.addMenuItem("help",{text:"Help",icon:"help",shortcut:"Alt+0",onAction:Me,context:"any"})};var Dt=tinymce.util.Tools.resolve("tinymce.Resource"),de=tinymce.util.Tools.resolve("tinymce.util.I18n");const et=(Ce,Me)=>Dt.load(`tinymce.html-i18n.help-keynav.${Me}`,`${Ce}/js/i18n/keynav/${Me}.js`),re=Ce=>et(Ce,de.getCode()).catch(()=>et(Ce,"en")),_e=(Ce,Me)=>{Ce.on("init",()=>{re(Me)})},Mn=async Ce=>({name:"keyboardnav",title:"Keyboard Navigation",items:[{type:"htmlpanel",presets:"document",html:await re(Ce)}]});var Rn=tinymce.util.Tools.resolve("tinymce.Env");const jt=Ce=>{const Me=Rn.os.isMacOS()||Rn.os.isiOS(),Jt=Me?{alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"}:{meta:"Ctrl ",access:"Shift + Alt "},_n=Ce.split("+"),kt=Rt(_n,en=>{const xo=en.toLowerCase().trim();return rn(Jt,xo)?Jt[xo]:en});return Me?kt.join("").replace(/\s/,""):kt.join("+")},ln=[{shortcuts:["Meta + B"],action:"Bold"},{shortcuts:["Meta + I"],action:"Italic"},{shortcuts:["Meta + U"],action:"Underline"},{shortcuts:["Meta + A"],action:"Select all"},{shortcuts:["Meta + Y","Meta + Shift + Z"],action:"Redo"},{shortcuts:["Meta + Z"],action:"Undo"},{shortcuts:["Access + 1"],action:"Heading 1"},{shortcuts:["Access + 2"],action:"Heading 2"},{shortcuts:["Access + 3"],action:"Heading 3"},{shortcuts:["Access + 4"],action:"Heading 4"},{shortcuts:["Access + 5"],action:"Heading 5"},{shortcuts:["Access + 6"],action:"Heading 6"},{shortcuts:["Access + 7"],action:"Paragraph"},{shortcuts:["Access + 8"],action:"Div"},{shortcuts:["Access + 9"],action:"Address"},{shortcuts:["Alt + 0"],action:"Open help dialog"},{shortcuts:["Alt + F9"],action:"Focus to menubar"},{shortcuts:["Alt + F10"],action:"Focus to toolbar"},{shortcuts:["Alt + F11"],action:"Focus to element path"},{shortcuts:["Alt + F12"],action:"Focus to notification"},{shortcuts:["Ctrl + F9"],action:"Focus to contextual toolbar"},{shortcuts:["Shift + Enter"],action:"Open popup menu for split buttons"},{shortcuts:["Meta + K"],action:"Insert link (if link plugin activated)"},{shortcuts:["Meta + S"],action:"Save (if save plugin activated)"},{shortcuts:["Meta + F"],action:"Find (if searchreplace plugin activated)"},{shortcuts:["Meta + Shift + F"],action:"Switch to or from fullscreen mode"}],On=()=>{const Ce=Rt(ln,_t=>{const Mt=Rt(_t.shortcuts,jt).join(" or ");return[_t.action,Mt]});return{name:"shortcuts",title:"Handy Shortcuts",items:[{type:"table",header:["Action","Shortcut"],cells:Ce}]}},Kn=Rt([{key:"accordion",name:"Accordion"},{key:"anchor",name:"Anchor"},{key:"autolink",name:"Autolink"},{key:"autoresize",name:"Autoresize"},{key:"autosave",name:"Autosave"},{key:"charmap",name:"Character Map"},{key:"code",name:"Code"},{key:"codesample",name:"Code Sample"},{key:"colorpicker",name:"Color Picker"},{key:"directionality",name:"Directionality"},{key:"emoticons",name:"Emoticons"},{key:"fullscreen",name:"Full Screen"},{key:"help",name:"Help"},{key:"image",name:"Image"},{key:"importcss",name:"Import CSS"},{key:"insertdatetime",name:"Insert Date/Time"},{key:"link",name:"Link"},{key:"lists",name:"Lists"},{key:"advlist",name:"List Styles"},{key:"media",name:"Media"},{key:"nonbreaking",name:"Nonbreaking"},{key:"pagebreak",name:"Page Break"},{key:"preview",name:"Preview"},{key:"quickbars",name:"Quick Toolbars"},{key:"save",name:"Save"},{key:"searchreplace",name:"Search and Replace"},{key:"table",name:"Table"},{key:"textcolor",name:"Text Color"},{key:"visualblocks",name:"Visual Blocks"},{key:"visualchars",name:"Visual Characters"},{key:"wordcount",name:"Word Count"},{key:"a11ychecker",name:"Accessibility Checker",type:"premium"},{key:"typography",name:"Advanced Typography",type:"premium",slug:"advanced-typography"},{key:"ai",name:"AI Assistant",type:"premium"},{key:"casechange",name:"Case Change",type:"premium"},{key:"checklist",name:"Checklist",type:"premium"},{key:"advcode",name:"Enhanced Code Editor",type:"premium"},{key:"mediaembed",name:"Enhanced Media Embed",type:"premium",slug:"introduction-to-mediaembed"},{key:"advtable",name:"Enhanced Tables",type:"premium"},{key:"exportpdf",name:"Export to PDF",type:"premium"},{key:"exportword",name:"Export to Word",type:"premium"},{key:"footnotes",name:"Footnotes",type:"premium"},{key:"formatpainter",name:"Format Painter",type:"premium"},{key:"editimage",name:"Image Editing",type:"premium"},{key:"uploadcare",name:"Image Optimizer Powered by Uploadcare",type:"premium"},{key:"importword",name:"Import from Word",type:"premium"},{key:"inlinecss",name:"Inline CSS",type:"premium",slug:"inline-css"},{key:"linkchecker",name:"Link Checker",type:"premium"},{key:"math",name:"Math",type:"premium"},{key:"markdown",name:"Markdown",type:"premium"},{key:"mentions",name:"Mentions",type:"premium"},{key:"mergetags",name:"Merge Tags",type:"premium"},{key:"pageembed",name:"Page Embed",type:"premium"},{key:"permanentpen",name:"Permanent Pen",type:"premium"},{key:"powerpaste",name:"PowerPaste",type:"premium",slug:"introduction-to-powerpaste"},{key:"revisionhistory",name:"Revision History",type:"premium"},{key:"tinymcespellchecker",name:"Spell Checker",type:"premium",slug:"introduction-to-tiny-spellchecker"},{key:"autocorrect",name:"Spelling Autocorrect",type:"premium"},{key:"tableofcontents",name:"Table of Contents",type:"premium"},{key:"advtemplate",name:"Templates",type:"premium",slug:"advanced-templates"},{key:"tinycomments",name:"Tiny Comments",type:"premium",slug:"introduction-to-tiny-comments"},{key:"tinydrive",name:"Tiny Drive",type:"premium",slug:"tinydrive-introduction"}],Ce=>({...Ce,type:Ce.type||"opensource",slug:Ce.slug||Ce.key})),ve=Ce=>{const Me=()=>{const sn=Oe(Kn,({type:ut})=>ut==="premium"),ge=on(Rt(sn,ut=>ut.name),(ut,it)=>ut.localeCompare(it)),He=Rt(ge,ut=>`<li>${ut}</li>`).join("");return"<div><p><b>"+de.translate("Premium plugins:")+"</b></p><ul>"+He+'<li class="tox-help__more-link" "><a href="https://www.tiny.cloud/pricing/?utm_campaign=help_dialog_plugin_tab&utm_source=tiny&utm_medium=referral&utm_term=read_more&utm_content=premium_plugin_heading" rel="noopener" target="_blank" data-alloy-tabstop="true" tabindex="-1">'+de.translate("Learn more...")+"</a></li></ul></div>"},_t=sn=>`<a data-alloy-tabstop="true" tabindex="-1" href="${sn.url}" target="_blank" rel="noopener">${sn.name}</a>`,Mt=(sn,ge)=>{const He=sn.plugins[ge].getMetadata;if(xe(He)){const ut=He();return{name:ut.name,html:_t(ut)}}else return{name:ge,html:ge}},Jt=(sn,ge)=>nt(Kn,He=>He.key===ge).fold(()=>Mt(sn,ge),He=>{const ut=He.type==="premium"?`${He.name}*`:He.name,it=_t({name:ut,url:`https://www.tiny.cloud/docs/tinymce/7/${He.slug}/`});return{name:ut,html:it}}),_n=sn=>{const ge=Ae(sn.plugins),He=Ge(sn),ut=J(He)?["onboarding"]:He.concat(["onboarding"]);return Oe(ge,it=>!Se(ut,it))},kt=sn=>{const ge=_n(sn),He=on(Rt(ge,yn=>Jt(sn,yn)),(yn,oo)=>yn.name.localeCompare(oo.name)),ut=Rt(He,yn=>"<li>"+yn.html+"</li>"),it=ut.length,Tn=ut.join("");return"<p><b>"+de.translate(["Plugins installed ({0}):",it])+"</b></p><ul>"+Tn+"</ul>"};return{name:"plugins",title:"Plugins",items:[{type:"htmlpanel",presets:"document",html:[(sn=>sn==null?"":"<div>"+kt(sn)+"</div>")(Ce),Me()].join("")}]}};var we=tinymce.util.Tools.resolve("tinymce.EditorManager");const je=()=>{const _t='<a data-alloy-tabstop="true" tabindex="-1" href="https://www.tiny.cloud/docs/tinymce/7/changelog/?utm_campaign=help_dialog_version_tab&utm_source=tiny&utm_medium=referral" rel="noopener" target="_blank">TinyMCE '+((Jt,_n)=>Jt.indexOf("@")===0?"X.X.X":Jt+"."+_n)(we.majorVersion,we.minorVersion)+"</a>";return{name:"versions",title:"Version",items:[{type:"htmlpanel",html:"<p>"+de.translate(["You are using {0}",_t])+"</p>",presets:"document"}]}},Tt=(Ce,Me)=>{const _t={},Mt=Rt(Ce,Jt=>{var _n;if(K(Jt))return rn(Me,Jt)&&(_t[Jt]=Me[Jt]),Jt;{const kt=(_n=Jt.name)!==null&&_n!==void 0?_n:to("tab-name");return _t[kt]=Jt,kt}});return{tabs:_t,names:Mt}},Ft=Ce=>{const Me=Ae(Ce),_t=Me.indexOf("versions");return _t!==-1&&(Me.splice(_t,1),Me.push("versions")),{tabs:Ce,names:Me}},In=async(Ce,Me,_t)=>{const Mt=On(),Jt=await Mn(_t),_n=ve(Ce),kt=je(),en={[Mt.name]:Mt,[Jt.name]:Jt,[_n.name]:_n,[kt.name]:kt,...Me.get()};return Re.from(yo(Ce)).fold(()=>Ft(en),xo=>Tt(xo,en))},no=(Ce,Me,_t)=>()=>{In(Ce,Me,_t).then(({tabs:Mt,names:Jt})=>{const _n=Rt(Jt,xo=>Ve(Mt,xo)),en={type:"tabpanel",tabs:ue(_n)};Ce.windowManager.open({title:"Help",size:"medium",body:en,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{}})})};var ro=()=>{st.add("help",(Ce,Me)=>{const _t=cn({}),Mt=h(_t);Wo(Ce);const Jt=no(Ce,_t,Me);return Ee(Ce,Jt),Nn(Ce,Jt),Ce.shortcuts.add("Alt+0","Open help dialog","mceHelp"),_e(Ce,Me),Mt})};ro()})();tinymce.init({selector:"textarea.tinymce",height:300,menubar:!1,plugins:["advlist","autolink","lists","link","image","charmap","preview","anchor","searchreplace","visualblocks","code","fullscreen","insertdatetime","media","table","help"],toolbar:"undo redo | blocks | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help",content_style:"body { font-family:Helvetica,Arial,sans-serif; font-size:14px }"});document.addEventListener("DOMContentLoaded",function(){typeof AOS<"u"&&AOS.init({duration:800,easing:"ease-in-out",once:!0,offset:100}),document.querySelectorAll(".advantage-card").forEach(D=>{D.addEventListener("click",function(F){const U=document.createElement("span"),K=this.getBoundingClientRect(),J=Math.max(K.width,K.height),X=F.clientX-K.left-J/2,De=F.clientY-K.top-J/2;U.style.cssText=`
                position: absolute;
                border-radius: 50%;
                background: rgba(39, 24, 198, 0.3);
                width: ${J}px;
                height: ${J}px;
                left: ${X}px;
                top: ${De}px;
                animation: ripple 0.6s linear;
                pointer-events: none;
                z-index: 1;
            `,this.appendChild(U),setTimeout(()=>{U.remove()},600)})});const S=document.createElement("style");S.textContent=`
        @keyframes ripple {
            to {
                transform: scale(2);
                opacity: 0;
            }
        }
        
        .advantage-card {
            position: relative;
            overflow: hidden;
        }
        
        .advantage-card.visible {
            animation: slideInUp 0.6s ease-out;
        }
        
        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    `,document.head.appendChild(S)});window.addEventListener("load",()=>{const x=document.createElement("link");x.rel="preload",x.as="style",x.href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css",document.head.appendChild(x)});window.IntersectionObserver||document.querySelectorAll(".advantage-card").forEach((S,D)=>{setTimeout(()=>{S.classList.add("visible")},100*D)});function MY(x,S){let D;return function(...U){const K=()=>{clearTimeout(D),x(...U)};clearTimeout(D),D=setTimeout(K,S)}}const _Y=MY(()=>{},16);window.addEventListener("scroll",_Y);
