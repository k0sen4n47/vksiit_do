document.addEventListener("DOMContentLoaded",function(){console.log("assignment-show.js loaded");function m(){document.querySelectorAll('.assignment-create__page[data-page-type="code"]').forEach(function(t){const n=t.querySelector(".html-editor"),s=t.querySelector(".css-editor"),i=t.querySelector(".html-textarea"),u=t.querySelector(".css-textarea"),c=t.querySelector(".preview-frame"),e=t.querySelector(".theme-selector");if(!n||!s)return;n.innerHTML="",s.innerHTML="";const l=CodeMirror(n,{mode:"htmlmixed",lineNumbers:!0,autoCloseTags:!0,theme:e?e.value:"default",value:i&&i.value||"",readOnly:!0}),a=CodeMirror(s,{mode:"css",lineNumbers:!0,autoCloseBrackets:!0,theme:e?e.value:"default",value:u&&u.value||"",readOnly:!0});if(e){const o=localStorage.getItem("codeEditorTheme")||"default";e.value=o,l.setOption("theme",o),a.setOption("theme",o),e.addEventListener("change",function(){const r=this.value;l.setOption("theme",r),a.setOption("theme",r),localStorage.setItem("codeEditorTheme",r)})}function h(){if(!c)return;const o=l.getValue(),r=a.getValue(),d=c.contentDocument||c.contentWindow.document;d.open(),d.write(`<!DOCTYPE html><html><head><style>${r}</style></head><body>${o}</body></html>`),d.close()}h()})}m()});
